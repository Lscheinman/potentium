<!DOCTYPE html>
<title>Collective Intelligence</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!--OPEN UI5-->
<script src="https://sapui5.hana.ondemand.com/resources/sap-ui-core.js"
        id="sap-ui-bootstrap"
        data-sap-ui-theme="sap_belize"
        data-sap-ui-libs="sap.m", "sap.suite.ui.microchart">
</script>

{% if session.utype in AUTH['HSS'] %}
<script id="vLaunchpad"  type="ui5/xmlview"   title=   "الذكاء الجماعي"
><mvc:View
      controllerName="sap.m.sample.GenericKPITile.Page"
      xmlns="sap.m"
      xmlns:mvc="sap.ui.core.mvc"
      xmlns:mc="sap.suite.ui.microchart"
      xmlns:f="sap.ui.layout.form"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xmlns:tnt="sap.tnt">

      <tnt:ToolHeader>
       <Image
        src="{{ url_for('static', filename='saplogo.svg')}}"
        width="80px"
        >
        </Image>
        <tnt:ToolHeaderUtilitySeparator />
                <ToolbarSpacer>
                </ToolbarSpacer>
                <Button text="{{ session.username }}" type="Transparent" press="onUserNamePress">
                </Button>
                <Button icon="sap-icon://log" press="onPressLogOut" type="Transparent">
                </Button>
      </tnt:ToolHeader>

                <f:SimpleForm id="HSSform"
                        editable="true"
                        layout="ResponsiveGridLayout"
                        title="جمع الاستخبارات"
                        labelSpanXL="4"
                        labelSpanL="4"
                        labelSpanM="4"
                        labelSpanS="12"
                        adjustLabelSpan="false"
                        emptySpanXL="1"
                        emptySpanL="1"
                        emptySpanM="1"
                        emptySpanS="0"
                        columnsXL="1"
                        columnsL="1"
                        columnsM="1"
                        singleContainerFullSize="false"
                >
                <f:content>
                </f:content>
                </f:SimpleForm>

                <GenericTile
                  class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="OSINT"
                  subheader="مصادر الإنترنت"
                  press="Collect1">
                    <TileContent>
                    <ImageContent src="sap-icon://home-share" />
                    </TileContent>
                </GenericTile>

                <GenericTile
                  class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="مصادر داخلية"
                  subheader="الأنظمة والملفات"
                  press="Collect2">
                    <TileContent>
                        <ImageContent src="sap-icon://sap-box" />
                    </TileContent>
                </GenericTile>

                <!--Detect Text-->
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="تحليل النص"
                  subheader="استخراج الكيان"
                  press="Detect1">
                      <TileContent>
                         <ImageContent src="sap-icon://e-learning" />
                      </TileContent>
                </GenericTile>

                <!--Analyze Entities Profiles-->
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="POLE"
                  subheader="ملفات تعريف الكيان"
                  press="Analyze1">
                        <TileContent>
                          <ImageContent src="sap-icon://puzzle" />
                        </TileContent>
                </GenericTile>

                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="تعديل الشبكة"
                  subheader="إنشاء ودمج الكيانات"
                  press="Analyze2">
                        <TileContent>
                          <ImageContent src="sap-icon://overview-chart" />
                        </TileContent>
                </GenericTile>


    </mvc:View>
</script>
<!--OSINT VIEW-->
<script id="vOsint" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form">
        <SplitApp id="SplitAppDemo" initialDetail="Twitter" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <!--RUN TWITTER-->
                        <Page id="Twitter" title="Twitter collection" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMTWT"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="TWT-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>

                                                <Label text="Search type" />
                                                <Select id="TWT-searchtype" >
                                                        <items>
                                                                <core:Item text="Username"  key="username"/>
                                                                <core:Item text="Term"    key="term"/>
                                                                <core:Item text="Location" key="location"/>
                                                                <core:Item text="Associates" key="associates"/>
                                                                <core:Item text="Mentions" key="mentions"/>
                                                                <core:Item text="Hashtags" key="hashtags"/>
                                                        </items>
                                                </Select>
                                                <Label text="Searchterm (for term or username)" />
                                                <Input
                                                        id="TWT-searchterm"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Location options" />
                                                <Label text="Latitude" />
                                                <Input
                                                        id="TWT-latitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Longitude" />
                                                <Input
                                                        id="TWT-longitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Radius(km)" />
                                                <Input
                                                        id="TWT-radius"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>

                                                <Button id="TWTbutton" text="Start Collection" press="onPressCollectTwitter" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--RUN YOUTUBE-->
                        <Page id="Youtube" title="Youtube collection" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMYOU"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="YOU-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Search type" />
                                                <Select id="YOU-searchtype" >
                                                        <items>
                                                                <core:Item text="Term"    key="term"/>
                                                                <core:Item text="Location" key="location"/>
                                                        </items>
                                                </Select>
                                                <Label text="Searchterm (for term)" />
                                                <Input
                                                        id="YOU-searchterm"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Location options" />
                                                <Label text="Latitude" />
                                                <Input
                                                        id="YOU-latitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Longitude" />
                                                <Input
                                                        id="YOU-longitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Radius(km)" />
                                                <Input
                                                        id="YOU-radius"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>

                                                <Button id="YOUbutton" text="Start Collection" press="onPressCollectYoutube" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--RUN GDELT-->
                        <Page id="GDELT" title="Global Database of Events, Language and Tone" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMGDELT"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="GDELT-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Query Type" />
                                                <Select
                                                        id="GDELT-QueryType"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                        <items>
                                                                <core:Item text="Events"          key="Events"/>
                                                                <core:Item text="Organizations"   key="Orgs"/>
                                                        </items>
                                                </Select>
                                                <Label text="Event Date Search" />
                                                <DateRangeSelection
                                                        id="GDELT-searchdate"
                                                        placeholder="Timeframe for reports"
                                                        valueFormat="YYYYMMdd" displayFormat="YYYYMMdd"
                                                        change="handleChange"/>

                                                <Label text="Actor1Name" />
                                                <Input  id="GDELT-Actor1Name"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Actor1Code" />
                                                <Input  id="GDELT-Actor1Code"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Actor2Name" />
                                                <Input  id="GDELT-Actor2Name"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Actor2Code" />
                                                <Input  id="GDELT-Actor2Code"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="ActionGeo" />
                                                <Input  id="GDELT-ActionGeo"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Persons" />
                                                <Input  id="GDELT-Persons"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>

                                                <Label text="Stability Impact" />
                                                <Select
                                                        id="GDELT-GoldsteinBin"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                        <items>
                                                                <core:Item text="Neutral"    key=" "/>
                                                                <core:Item text="Negative"   key="neg"/>
                                                                <core:Item text="Positive"   key="pos"/>
                                                        </items>
                                                </Select>
                                                <Label text="Language" />
                                                <Select
                                                        id="GDELT-Language"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                        <items>
                                                                <core:Item text="All"      key="all"/>
                                                                <core:Item text="English"  key="en"/>
                                                                <core:Item text="Arabic"   key="ara"/>
                                                                <core:Item text="French"   key="fr"/>
                                                                <core:Item text="Hebrew"   key="heb"/>
                                                        </items>
                                                </Select>

                                                <Button id="GDELTbutton" text="Start Collection" press="onPressCollectGDELT" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--ACLED API-->
                        <Page id="ACLED" title="Armed Conflict Location Event" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMACLED"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="ACLED-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Report Range" />
                                                <DateRangeSelection
                                                        id="AcledSearchDate"
                                                        placeholder="Timeframe for report"
                                                        valueFormat="YYYY-MM-dd HH:mm:ss" displayFormat="YYYYMMdd"
                                                        change="handleChange"/>
                                                <Label text="Country" />
                                                <Select id="AcledSearchLocation" >
                                                        <items>
                                                                <core:Item text=""    key=""/>
                                                                <core:Item text="Afghanistan"      key="Afghanistan"/>
                                                                <core:Item text="Albania"      key="Albania"/>
                                                                <core:Item text="Algeria"      key="Algeria"/>
                                                                <core:Item text="Angola"      key="Angola"/>
                                                                <core:Item text="Argentia"      key="Argentia"/>
                                                                <core:Item text="Armenia"      key="Armenia"/>
                                                                <core:Item text="Australia"      key="Australia"/>
                                                                <core:Item text="Austria"      key="Austria"/>
                                                                <core:Item text="Azerbaijan"      key="Azerbaijan"/>
                                                                <core:Item text="Bahamas"      key="Bahamas"/>
                                                                <core:Item text="Bahrain"      key="Bahrain"/>
                                                                <core:Item text="Bangladesh"      key="Bangladesh"/>
                                                                <core:Item text="Barbados"      key="Barbados"/>
                                                                <core:Item text="Belarus"      key="Belarus"/>
                                                                <core:Item text="Belgium"      key="Belgium"/>
                                                                <core:Item text="Belize"      key="Belize"/>
                                                                <core:Item text="Benin"      key="Benin"/>
                                                                <core:Item text="Bhutan"      key="Bhutan"/>
                                                                <core:Item text="Bolivia"      key="Bolivia"/>
                                                                <core:Item text="Bosnia-Herzegovina"      key="Bosnia-Herzegovina"/>
                                                                <core:Item text="Botswana"      key="Botswana"/>
                                                                <core:Item text="Brazil"      key="Brazil"/>
                                                                <core:Item text="Brunei"      key="Brunei"/>
                                                                <core:Item text="Bulgaria"      key="Bulgaria"/>
                                                                <core:Item text="Burkina Faso"      key="Burkina Faso"/>
                                                                <core:Item text="Burundi"      key="Burundi"/>
                                                                <core:Item text="Cambodia"      key="Cambodia"/>
                                                                <core:Item text="Cameroon"      key="Cameroon"/>
                                                                <core:Item text="Canada"      key="Canada"/>
                                                                <core:Item text="Cape Verde"      key="Cape Verde"/>
                                                                <core:Item text="Central African Republic"      key="Central African Republic"/>
                                                                <core:Item text="Chad"      key="Chad"/>
                                                                <core:Item text="Chile"      key="Chile"/>
                                                                <core:Item text="China"      key="China"/>
                                                                <core:Item text="Colombia"      key="Colombia"/>
                                                                <core:Item text="Comoros"      key="Comoros"/>
                                                                <core:Item text="Congo"      key="Congo"/>
                                                                <core:Item text="Costa Rica"      key="Costa Rica"/>
                                                                <core:Item text="Cote DIvoire"      key="Cote DIvoire"/>
                                                                <core:Item text="Croatia"      key="Croatia"/>
                                                                <core:Item text="Cuba"      key="Cuba"/>
                                                                <core:Item text="Cyprus"      key="Cyprus"/>
                                                                <core:Item text="Czech Republic"      key="Czech Republic"/>
                                                                <core:Item text="Czechoslovakia"      key="Czechoslovakia"/>
                                                                <core:Item text="Denmark"      key="Denmark"/>
                                                                <core:Item text="Djibouti"      key="Djibouti"/>
                                                                <core:Item text="Dominican Republic"      key="Dominican Republic"/>
                                                                <core:Item text="East Timor"      key="East Timor"/>
                                                                <core:Item text="Ecuador"      key="Ecuador"/>
                                                                <core:Item text="Egypt"      key="Egypt"/>
                                                                <core:Item text="El Salvador"      key="El Salvador"/>
                                                                <core:Item text="Equatorial Guinea"      key="Equatorial Guinea"/>
                                                                <core:Item text="Eritrea"      key="Eritrea"/>
                                                                <core:Item text="Estonia"      key="Estonia"/>
                                                                <core:Item text="Ethiopia"      key="Ethiopia"/>
                                                                <core:Item text="Fiji"      key="Fiji"/>
                                                                <core:Item text="Finland"      key="Finland"/>
                                                                <core:Item text="France"      key="France"/>
                                                                <core:Item text="Gabon"      key="Gabon"/>
                                                                <core:Item text="Gambia"      key="Gambia"/>
                                                                <core:Item text="Georgia"      key="Georgia"/>
                                                                <core:Item text="German Democratic Republic"      key="German Democratic Republic"/>
                                                                <core:Item text="German Federal Republic"      key="German Federal Republic"/>
                                                                <core:Item text="Ghanna"      key="Ghanna"/>
                                                                <core:Item text="Greece"      key="Greece"/>
                                                                <core:Item text="Guatemala"      key="Guatemala"/>
                                                                <core:Item text="Guinea"      key="Guinea"/>
                                                                <core:Item text="Guniea-Bissau"      key="Guniea-Bissau"/>
                                                                <core:Item text="Guyana"      key="Guyana"/>
                                                                <core:Item text="Haiti"      key="Haiti"/>
                                                                <core:Item text="Honduras"      key="Honduras"/>
                                                                <core:Item text="Hungary"      key="Hungary"/>
                                                                <core:Item text="Iceland"      key="Iceland"/>
                                                                <core:Item text="India"      key="India"/>
                                                                <core:Item text="Indonesia"      key="Indonesia"/>
                                                                <core:Item text="Iran"      key="Iran"/>
                                                                <core:Item text="Iraq"      key="Iraq"/>
                                                                <core:Item text="Ireland"      key="Ireland"/>
                                                                <core:Item text="Israel"      key="Israel"/>
                                                                <core:Item text="Italy/Sardinia"      key="Italy/Sardinia"/>
                                                                <core:Item text="Jamaica"      key="Jamaica"/>
                                                                <core:Item text="Japan"      key="Japan"/>
                                                                <core:Item text="Jordan"      key="Jordan"/>
                                                                <core:Item text="Kazakhstan"      key="Kazakhstan"/>
                                                                <core:Item text="Kenya"      key="Kenya"/>
                                                                <core:Item text="Kuwait"      key="Kuwait"/>
                                                                <core:Item text="Kyrgystan"      key="Kyrgystan"/>
                                                                <core:Item text="Laos"      key="Laos"/>
                                                                <core:Item text="Latvia"      key="Latvia"/>
                                                                <core:Item text="Lebanon"      key="Lebanon"/>
                                                                <core:Item text="Lesotho"      key="Lesotho"/>
                                                                <core:Item text="Liberia"      key="Liberia"/>
                                                                <core:Item text="Libya"      key="Libya"/>
                                                                <core:Item text="Lithuania"      key="Lithuania"/>
                                                                <core:Item text="Luxembourg"      key="Luxembourg"/>
                                                                <core:Item text="Macedonia"      key="Macedonia"/>
                                                                <core:Item text="Madagascar"      key="Madagascar"/>
                                                                <core:Item text="Malawi"      key="Malawi"/>
                                                                <core:Item text="Malaysia"      key="Malaysia"/>
                                                                <core:Item text="Maldives"      key="Maldives"/>
                                                                <core:Item text="Mali"      key="Mali"/>
                                                                <core:Item text="Malta"      key="Malta"/>
                                                                <core:Item text="Mauritania"      key="Mauritania"/>
                                                                <core:Item text="Mauritius"      key="Mauritius"/>
                                                                <core:Item text="Mexico"      key="Mexico"/>
                                                                <core:Item text="Moldova"      key="Moldova"/>
                                                                <core:Item text="Mongolia"      key="Mongolia"/>
                                                                <core:Item text="Montenengro"      key="Montenengro"/>
                                                                <core:Item text="Morocco"      key="Morocco"/>
                                                                <core:Item text="Mozambique"      key="Mozambique"/>
                                                                <core:Item text="Myanmar"      key="Myanmar"/>
                                                                <core:Item text="Namibia"      key="Namibia"/>
                                                                <core:Item text="Nepal"      key="Nepal"/>
                                                                <core:Item text="Netherlands"      key="Netherlands"/>
                                                                <core:Item text="New Zealand"      key="New Zealand"/>
                                                                <core:Item text="Nicaragua"      key="Nicaragua"/>
                                                                <core:Item text="Niger"      key="Niger"/>
                                                                <core:Item text="Nigeria"      key="Nigeria"/>
                                                                <core:Item text="North Korea"      key="North Korea"/>
                                                                <core:Item text="Norway"      key="Norway"/>
                                                                <core:Item text="Oman"      key="Oman"/>
                                                                <core:Item text="Pakistan"      key="Pakistan"/>
                                                                <core:Item text="Panama"      key="Panama"/>
                                                                <core:Item text="Papua New Guinea"      key="Papua New Guinea"/>
                                                                <core:Item text="Paraguay"      key="Paraguay"/>
                                                                <core:Item text="Peru"      key="Peru"/>
                                                                <core:Item text="Philippines"      key="Philippines"/>
                                                                <core:Item text="Poland"      key="Poland"/>
                                                                <core:Item text="Portugal"      key="Portugal"/>
                                                                <core:Item text="Qatar"      key="Qatar"/>
                                                                <core:Item text="Romania"      key="Romania"/>
                                                                <core:Item text="Russia"      key="Russia"/>
                                                                <core:Item text="Rwanda"      key="Rwanda"/>
                                                                <core:Item text="Saudi Arabia"      key="Saudi Arabia"/>
                                                                <core:Item text="Senegal"      key="Senegal"/>
                                                                <core:Item text="Sierra Leone"      key="Sierra Leone"/>
                                                                <core:Item text="Singapore"      key="Singapore"/>
                                                                <core:Item text="Slovakia"      key="Slovakia"/>
                                                                <core:Item text="Slovenia"      key="Slovenia"/>
                                                                <core:Item text="Solomon Islands"      key="Solomon Islands"/>
                                                                <core:Item text="Somalia"      key="Somalia"/>
                                                                <core:Item text="South Africa"      key="South Africa"/>
                                                                <core:Item text="South Norea"      key="South Norea"/>
                                                                <core:Item text="Spain"      key="Spain"/>
                                                                <core:Item text="Sri Lanka"      key="Sri Lanka"/>
                                                                <core:Item text="Sudan"      key="Sudan"/>
                                                                <core:Item text="Surinam"      key="Surinam"/>
                                                                <core:Item text="Swaziland"      key="Swaziland"/>
                                                                <core:Item text="Sweden"      key="Sweden"/>
                                                                <core:Item text="Switzerland"      key="Switzerland"/>
                                                                <core:Item text="Syria"      key="Syria"/>
                                                                <core:Item text="Taiwan"      key="Taiwan"/>
                                                                <core:Item text="Tajikistan"      key="Tajikistan"/>
                                                                <core:Item text="Tanzania"      key="Tanzania"/>
                                                                <core:Item text="Thailand"      key="Thailand"/>
                                                                <core:Item text="Tibet"      key="Tibet"/>
                                                                <core:Item text="Togo"      key="Togo"/>
                                                                <core:Item text="Trinidad and Tobago"      key="Trinidad and Tobago"/>
                                                                <core:Item text="Tunisia"      key="Tunisia"/>
                                                                <core:Item text="Turkey"      key="Turkey"/>
                                                                <core:Item text="Turkmenistan"      key="Turkmenistan"/>
                                                                <core:Item text="Uganda"      key="Uganda"/>
                                                                <core:Item text="Ukraine"      key="Ukraine"/>
                                                                <core:Item text="United Arab Emriates"      key="United Arab Emriates"/>
                                                                <core:Item text="United States"      key="United States"/>
                                                                <core:Item text="UnitedKingdom"      key="UnitedKingdom"/>
                                                                <core:Item text="Uruguay"      key="Uruguay"/>
                                                                <core:Item text="Uzbekistan"      key="Uzbekistan"/>
                                                                <core:Item text="Venezuela"      key="Venezuela"/>
                                                                <core:Item text="Vietnam"      key="Vietnam"/>
                                                                <core:Item text="Vietnam Republic"      key="Vietnam Republic"/>
                                                                <core:Item text="Yemen"      key="Yemen"/>
                                                                <core:Item text="Yemen Peoples republic"      key="Yemen Peoples republic"/>
                                                                <core:Item text="Yugoslavia (Serbia)"      key="Yugoslavia (Serbia)"/>
                                                                <core:Item text="Zaire"      key="Zaire"/>
                                                                <core:Item text="Zambia"      key="Zambia"/>
                                                                <core:Item text="Zanzibar"      key="Zanzibar"/>
                                                                <core:Item text="Zimbabwe"      key="Zimbabwe"/>

                                                        </items>
                                                </Select>
                                                <Label text="Start Search" />
                                                <Button id="ACLEDButton" text="Start Collection" press="onPressCollectACLED" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--UPPSALA API-->
                        <Page id="UCDP" title="Uppsala Conflict Data Program" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMUCDP"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="UCDP-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Report Range" />
                                                <DateRangeSelection
                                                        id="UCDPSearchDate"
                                                        placeholder="Timeframe for report"
                                                        valueFormat="YYYY-MM-dd" displayFormat="YYYY-MM-dd"
                                                        change="handleChange"/>
                                               <Label text="Country" />
                                                <Select id="UCDPSearchLocation" >
                                                        <items>
                                                        <core:Item text=""                 key = ""/>
                                                        <core:Item text="Afghanistan"      key="700"/>
                                                        <core:Item text="Albania"      key="339"/>
                                                        <core:Item text="Algeria"      key="615"/>
                                                        <core:Item text="Angola"      key="540"/>
                                                        <core:Item text="Argentia"      key="160"/>
                                                        <core:Item text="Armenia"      key="371"/>
                                                        <core:Item text="Australia"      key="900"/>
                                                        <core:Item text="Austria"      key="305"/>
                                                        <core:Item text="Azerbaijan"      key="373"/>
                                                        <core:Item text="Bahamas"      key="31"/>
                                                        <core:Item text="Bahrain"      key="692"/>
                                                        <core:Item text="Bangladesh"      key="771"/>
                                                        <core:Item text="Barbados"      key="53"/>
                                                        <core:Item text="Belarus"      key="370"/>
                                                        <core:Item text="Belgium"      key="211"/>
                                                        <core:Item text="Belize"      key="80"/>
                                                        <core:Item text="Benin"      key="434"/>
                                                        <core:Item text="Bhutan"      key="760"/>
                                                        <core:Item text="Bolivia"      key="145"/>
                                                        <core:Item text="Bosnia-Herzegovina"      key="346"/>
                                                        <core:Item text="Botswana"      key="571"/>
                                                        <core:Item text="Brazil"      key="140"/>
                                                        <core:Item text="Brunei"      key="835"/>
                                                        <core:Item text="Bulgaria"      key="355"/>
                                                        <core:Item text="Burkina Faso"      key="439"/>
                                                        <core:Item text="Burundi"      key="516"/>
                                                        <core:Item text="Cambodia"      key="811"/>
                                                        <core:Item text="Cameroon"      key="471"/>
                                                        <core:Item text="Canada"      key="20"/>
                                                        <core:Item text="Cape Verde"      key="402"/>
                                                        <core:Item text="Central African Republic"      key="482"/>
                                                        <core:Item text="Chad"      key="483"/>
                                                        <core:Item text="Chile"      key="155"/>
                                                        <core:Item text="China"      key="710"/>
                                                        <core:Item text="Colombia"      key="100"/>
                                                        <core:Item text="Comoros"      key="581"/>
                                                        <core:Item text="Congo"      key="484"/>
                                                        <core:Item text="Costa Rica"      key="94"/>
                                                        <core:Item text="Cote DIvoire"      key="437"/>
                                                        <core:Item text="Croatia"      key="344"/>
                                                        <core:Item text="Cuba"      key="40"/>
                                                        <core:Item text="Cyprus"      key="352"/>
                                                        <core:Item text="Czech Republic"      key="316"/>
                                                        <core:Item text="Czechoslovakia"      key="315"/>
                                                        <core:Item text="Denmark"      key="390"/>
                                                        <core:Item text="Djibouti"      key="522"/>
                                                        <core:Item text="Dominican Republic"      key="42"/>
                                                        <core:Item text="East Timor"      key="860"/>
                                                        <core:Item text="Ecuador"      key="130"/>
                                                        <core:Item text="Egypt"      key="651"/>
                                                        <core:Item text="El Salvador"      key="92"/>
                                                        <core:Item text="Equatorial Guinea"      key="411"/>
                                                        <core:Item text="Eritrea"      key="531"/>
                                                        <core:Item text="Estonia"      key="366"/>
                                                        <core:Item text="Ethiopia"      key="530"/>
                                                        <core:Item text="Fiji"      key="950"/>
                                                        <core:Item text="Finland"      key="375"/>
                                                        <core:Item text="France"      key="220"/>
                                                        <core:Item text="Gabon"      key="481"/>
                                                        <core:Item text="Gambia"      key="420"/>
                                                        <core:Item text="Georgia"      key="372"/>
                                                        <core:Item text="German Democratic Republic"      key="265"/>
                                                        <core:Item text="German Federal Republic"      key="260"/>
                                                        <core:Item text="Ghanna"      key="452"/>
                                                        <core:Item text="Greece"      key="350"/>
                                                        <core:Item text="Guatemala"      key="90"/>
                                                        <core:Item text="Guinea"      key="438"/>
                                                        <core:Item text="Guniea-Bissau"      key="404"/>
                                                        <core:Item text="Guyana"      key="110"/>
                                                        <core:Item text="Haiti"      key="41"/>
                                                        <core:Item text="Honduras"      key="91"/>
                                                        <core:Item text="Hungary"      key="310"/>
                                                        <core:Item text="Iceland"      key="395"/>
                                                        <core:Item text="India"      key="750"/>
                                                        <core:Item text="Indonesia"      key="850"/>
                                                        <core:Item text="Iran"      key="630"/>
                                                        <core:Item text="Iraq"      key="645"/>
                                                        <core:Item text="Ireland"      key="205"/>
                                                        <core:Item text="Israel"      key="666"/>
                                                        <core:Item text="Italy/Sardinia"      key="325"/>
                                                        <core:Item text="Jamaica"      key="51"/>
                                                        <core:Item text="Japan"      key="740"/>
                                                        <core:Item text="Jordan"      key="663"/>
                                                        <core:Item text="Kazakhstan"      key="705"/>
                                                        <core:Item text="Kenya"      key="501"/>
                                                        <core:Item text="Kuwait"      key="690"/>
                                                        <core:Item text="Kyrgystan"      key="703"/>
                                                        <core:Item text="Laos"      key="812"/>
                                                        <core:Item text="Latvia"      key="367"/>
                                                        <core:Item text="Lebanon"      key="660"/>
                                                        <core:Item text="Lesotho"      key="570"/>
                                                        <core:Item text="Liberia"      key="450"/>
                                                        <core:Item text="Libya"      key="620"/>
                                                        <core:Item text="Lithuania"      key="368"/>
                                                        <core:Item text="Luxembourg"      key="212"/>
                                                        <core:Item text="Macedonia"      key="343"/>
                                                        <core:Item text="Madagascar"      key="580"/>
                                                        <core:Item text="Malawi"      key="553"/>
                                                        <core:Item text="Malaysia"      key="820"/>
                                                        <core:Item text="Maldives"      key="781"/>
                                                        <core:Item text="Mali"      key="432"/>
                                                        <core:Item text="Malta"      key="338"/>
                                                        <core:Item text="Mauritania"      key="435"/>
                                                        <core:Item text="Mauritius"      key="590"/>
                                                        <core:Item text="Mexico"      key="70"/>
                                                        <core:Item text="Moldova"      key="359"/>
                                                        <core:Item text="Mongolia"      key="712"/>
                                                        <core:Item text="Montenengro"      key="341"/>
                                                        <core:Item text="Morocco"      key="600"/>
                                                        <core:Item text="Mozambique"      key="541"/>
                                                        <core:Item text="Myanmar"      key="775"/>
                                                        <core:Item text="Namibia"      key="565"/>
                                                        <core:Item text="Nepal"      key="790"/>
                                                        <core:Item text="Netherlands"      key="210"/>
                                                        <core:Item text="New Zealand"      key="920"/>
                                                        <core:Item text="Nicaragua"      key="93"/>
                                                        <core:Item text="Niger"      key="436"/>
                                                        <core:Item text="Nigeria"      key="475"/>
                                                        <core:Item text="North Korea"      key="731"/>
                                                        <core:Item text="Norway"      key="385"/>
                                                        <core:Item text="Oman"      key="698"/>
                                                        <core:Item text="Pakistan"      key="770"/>
                                                        <core:Item text="Panama"      key="95"/>
                                                        <core:Item text="Papua New Guinea"      key="910"/>
                                                        <core:Item text="Paraguay"      key="150"/>
                                                        <core:Item text="Peru"      key="135"/>
                                                        <core:Item text="Philippines"      key="840"/>
                                                        <core:Item text="Poland"      key="290"/>
                                                        <core:Item text="Portugal"      key="235"/>
                                                        <core:Item text="Qatar"      key="694"/>
                                                        <core:Item text="Romania"      key="360"/>
                                                        <core:Item text="Russia"      key="365"/>
                                                        <core:Item text="Rwanda"      key="517"/>
                                                        <core:Item text="Saudi Arabia"      key="670"/>
                                                        <core:Item text="Senegal"      key="433"/>
                                                        <core:Item text="Sierra Leone"      key="451"/>
                                                        <core:Item text="Singapore"      key="830"/>
                                                        <core:Item text="Slovakia"      key="317"/>
                                                        <core:Item text="Slovenia"      key="349"/>
                                                        <core:Item text="Solomon Islands"      key="940"/>
                                                        <core:Item text="Somalia"      key="520"/>
                                                        <core:Item text="South Africa"      key="560"/>
                                                        <core:Item text="South Norea"      key="732"/>
                                                        <core:Item text="Spain"      key="230"/>
                                                        <core:Item text="Sri Lanka"      key="780"/>
                                                        <core:Item text="Sudan"      key="625"/>
                                                        <core:Item text="Surinam"      key="115"/>
                                                        <core:Item text="Swaziland"      key="572"/>
                                                        <core:Item text="Sweden"      key="380"/>
                                                        <core:Item text="Switzerland"      key="225"/>
                                                        <core:Item text="Syria"      key="652"/>
                                                        <core:Item text="Taiwan"      key="713"/>
                                                        <core:Item text="Tajikistan"      key="702"/>
                                                        <core:Item text="Tanzania"      key="510"/>
                                                        <core:Item text="Thailand"      key="800"/>
                                                        <core:Item text="Tibet"      key="711"/>
                                                        <core:Item text="Togo"      key="461"/>
                                                        <core:Item text="Trinidad and Tobago"      key="52"/>
                                                        <core:Item text="Tunisia"      key="616"/>
                                                        <core:Item text="Turkey"      key="640"/>
                                                        <core:Item text="Turkmenistan"      key="701"/>
                                                        <core:Item text="Uganda"      key="500"/>
                                                        <core:Item text="Ukraine"      key="369"/>
                                                        <core:Item text="United Arab Emriates"      key="696"/>
                                                        <core:Item text="United States"      key="2"/>
                                                        <core:Item text="UnitedKingdom"      key="200"/>
                                                        <core:Item text="Uruguay"      key="165"/>
                                                        <core:Item text="Uzbekistan"      key="704"/>
                                                        <core:Item text="Venezuela"      key="101"/>
                                                        <core:Item text="Vietnam"      key="816"/>
                                                        <core:Item text="Vietnam Republic"      key="817"/>
                                                        <core:Item text="Yemen"      key="678"/>
                                                        <core:Item text="Yemen Peoples republic"      key="680"/>
                                                        <core:Item text="Yugoslavia (Serbia)"      key="345"/>
                                                        <core:Item text="Zaire"      key="490"/>
                                                        <core:Item text="Zambia"      key="551"/>
                                                        <core:Item text="Zanzibar"      key="511"/>
                                                        <core:Item text="Zimbabwe"      key="552"/>

                                                        </items>
                                                </Select>
                                                <Label text="Geo coordinates" />
                                                <Input id="UCDPSearchGeography" class="sapUiSmallMarginBottom" />
                                                <Label text="Start Search" />
                                                <Button id="UCDPButton" text="Start Collection" press="onPressCollectUCDP" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <Page id="SECEDGAR" title="U.S. Securities and Exchange Commission" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMSECEDGAR"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="SECEDGAR-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Report Range" />
                                                <DateRangeSelection
                                                        id="SECEDGARSearchDate"
                                                        placeholder="Timeframe for report"
                                                        valueFormat="YYYY-MM-dd HH:mm:ss" displayFormat="YYYYMMdd"
                                                        change="handleChange"/>

                                                <Select id="SECEDGARSearchLocation" >
                                                        <items>
                                                                <core:Item text="Afghanistan"    key="Afghanistan"/>
                                                                <core:Item text="Location" key="location"/>
                                                        </items>
                                                </Select>
                                                <Select id="SECEDGARSearchGroup" >
                                                        <items>
                                                                <core:Item text="Boko Haram"    key="Boko Haram"/>
                                                                <core:Item text="Location" key="location"/>
                                                        </items>
                                                </Select>
                                                <Label text="Start Search" />
                                                <Button id="SECEDGARButton" text="Start Collection" press="onPressCollectSECEDGAR" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <Page id="WebCrawler" title="Website Crawler" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMWEBCRAWLER"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="WebCrawler-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Search depth" />
                                                <Select id="WebCrawler-searchDepth" >
                                                        <items>
                                                                <core:Item text="Single Page"     key="Single"/>
                                                                <core:Item text="First degree"    key="First"/>
                                                                <core:Item text="Second degree"   key="Second"/>
                                                        </items>
                                                </Select>
                                                <Label text="Website URL" />
                                                <Input id="WebCrawler-startURL" class="sapUiSmallMarginBottom" />
                                                <Label text="Search term" />
                                                <Input id="WebCrawler-searchTerms" class="sapUiSmallMarginBottom" />
                                                <Label text="Search language" />
                                                <Select id="WebCrawler-searchLanguage" >
                                                        <items>
                                                                <core:Item text="Url dependent"  key=""/>
                                                                <core:Item text="English"  key="en"/>
                                                                <core:Item text="العربية"    key="ar"/>
                                                                <core:Item text="French"   key="fr"/>
                                                        </items>
                                                </Select>
                                                <Switch id='WebCrawler-showNavigation' state="false" customTextOn="Show" customTextOff="Hide">
                                                        <layoutData>
                                                                <FlexItemData growFactor="1" />
                                                        </layoutData>
                                                </Switch>
                                                <Switch id='WebCrawler-searchEngine' state="false" customTextOn="Chrome" customTextOff="FireFox">
                                                        <layoutData>
                                                                <FlexItemData growFactor="1" />
                                                        </layoutData>
                                                </Switch>
                                                <Button id="WebCrawler-Button" text="Start Collection" press="onPressStartWebCrawler" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="CollectOSINT" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="زاحف الويب" type="Navigation" press="onPressNavToCrawler"/>
                                                        <StandardListItem title="Twitter"     type="Navigation" press="onPressNavToTwitter"/>
                                                        <StandardListItem title="Youtube"     type="Navigation" press="onPressNavToYoutube"/>
                                                        <StandardListItem title="قاعدة معلومات الصراع المسلح"       type="Navigation" press="onPressNavToACLED"/>
                                                        <StandardListItem title="اللغة والنبرة"       type="Navigation" press="onPressNavToGDELT"/>
                                                        <StandardListItem title="UCDP"        type="Navigation" press="onPressNavToUCDP"/>
                                                        <StandardListItem title="SEC"         type="Navigation" press="onPressNavToSEC"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>


{% else %}
<!--Launchpad View-->
<script id="vLaunchpad" title="Collective Intelligence" type="ui5/xmlview">
<mvc:View
      controllerName="sap.m.sample.GenericKPITile.Page"
      xmlns="sap.m"
      xmlns:mvc="sap.ui.core.mvc"
      xmlns:mc="sap.suite.ui.microchart"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xmlns:tnt="sap.tnt">
            <tnt:ToolHeader>
       <Image
        src="{{ url_for('static', filename='saplogo.svg')}}"
        width="80px"
        >
        </Image>
        <tnt:ToolHeaderUtilitySeparator />
                <ToolbarSpacer>
                        <layoutData>
                                <OverflowToolbarLayoutData priority="NeverOverflow" minWidth="20px" />
                        </layoutData>
                </ToolbarSpacer>
                <Button text="{{ session.username }}" type="Transparent" press="onUserNamePress">
                        <layoutData>
                                <OverflowToolbarLayoutData priority="NeverOverflow" />
                        </layoutData>
                </Button>
                <Button icon="sap-icon://log" press="onPressLogOut" type="Transparent">
                </Button>

      </tnt:ToolHeader>
        <VBox class="sapUiSmallMargin">

                <Label text="Direct Intelligence" level="H1"/>
                <HBox class="sapUiSmallMargin">
                {% if session.utype in AUTH['DIR'] %}
                <GenericTile
                  class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Priority Requirements"
                  subheader="Process initiation"
                  press="Direct">
                    <TileContent footer="{{ TILESTATS['DIR']['Critical'] }} Critical | {{ TILESTATS['DIR']['High'] }} High" >
                     <NumericContent scale="PIR" value="{{ TILESTATS['DIR']['PIRcount'] }}" valueColor="Good"  />
                     <NumericContent scale="PIR" value="{{ TILESTATS['DIR']['PIRcount'] }}" valueColor="Critical"  />
                     <NumericContent scale="PIR" value="{{ TILESTATS['DIR']['PIRcount'] }}" valueColor="Error"  />
                    </TileContent>
                </GenericTile>
                {% endif %}

                {% if session.utype in AUTH['DIT'] %}
                <GenericTile
                  class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Requests and Tasks"
                  subheader="Logistics support"
                  press="Tasks">
                    <TileContent footer=" Last {{ TILESTATS['DIT']['Last'] }}" >
                      {% if TILESTATS['DIT']['Outstanding'] < 1 %}
                       <NumericContent scale="Sum" value="{{ TILESTATS['DIT']['Taskcount'] }}" valueColor="Good"  />
                      {% elif TILESTATS['DIT']['Outstanding'] < 2 %}
                       <NumericContent scale="Sum" value="{{ TILESTATS['DIT']['Taskcount'] }}" valueColor="Critical"  />
                      {% else %}
                       <NumericContent scale="Sum" value="{{ TILESTATS['DIT']['Taskcount'] }}" valueColor="Error"  />
                      {% endif %}
                    </TileContent>
                </GenericTile>
                {% endif %}
                </HBox>

                <!--Collection-->
                <Label text="Collection Activities" level="H1"/>
                <HBox class="sapUiSmallMargin">
                {% if session.utype in AUTH['CO'] %}
                <GenericTile
                  class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Open Sources"
                  subheader="OSINT"
                  press="Collect1">
                    <TileContent footer="{{ TILESTATS['CO']['Searches']  }} searches">
                    <ImageContent src="sap-icon://home-share" />
                    </TileContent>
                </GenericTile>
                {% endif %}

                {% if session.utype in AUTH['CF'] %}
                <GenericTile
                  class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Internal Sources"
                  subheader="Systems and files"
                  press="Collect2">
                    <TileContent footer="Last: {{ TILESTATS['CF']['Lastupload'] }}">
                        <NumericContent scale="New" value="{{ TILESTATS['CF']['Files'] }}" valueColor="Neutral" />
                    </TileContent>
                </GenericTile>
                {% endif %}
                </HBox>

                <!--Detect Text-->
                <Label text="Automated Detection" level="H1"/>
                <HBox class="sapUiSmallMargin">
                {% if session.utype in AUTH['DET'] %}
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Detect | Text"
                  subheader="Entity extraction"
                  press="Detect1">
                      <TileContent footer="{{ TILESTATS['DET']['Sentiment']  }} sentiment runs ">
                         <ImageContent src="sap-icon://e-learning" />
                      </TileContent>
                </GenericTile>
                {% endif %}

                {% if session.utype in AUTH['DEP'] %}
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Detect | Patterns"
                  subheader="Machine learning"
                  press="Detect2">
                        <TileContent>
                          <ImageContent src="sap-icon://radar-chart" />
                        </TileContent>
                </GenericTile>
                {% endif %}
                </HBox>

                <!--Analyze Entities Profiles-->
                <Label text="Analysis Activities" level="H1"/>
                <HBox class="sapUiSmallMargin">
                {% if session.utype in AUTH['AE'] %}
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Analyze | Entities"
                  subheader="View profiles"
                  press="Analyze1">
                        <TileContent>
                          <NumericContent scale="New" value="{{ TILESTATS['AE']['New'] }}" valueColor="Neutral" />
                        </TileContent>
                </GenericTile>
                {% endif %}

                {% if session.utype in AUTH['AE'] %}
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Analyze | Relations"
                  subheader="Modify network"
                  press="Analyze2">
                        <TileContent footer="POLE relations">
                          <ImageContent src="sap-icon://overview-chart" />
                        </TileContent>
                </GenericTile>
                {% endif %}
                </HBox>

                <!--Disseminate Reports-->
                <Label text="Dissemination Activities" level="H1"/>
                <HBox class="sapUiSmallMargin">
                {% if session.utype in AUTH['AE'] %}
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Dashboard Analytics"
                  subheader="Views and reports"
                  press="Dissem1">
                        <TileContent>
                           <ImageContent src="sap-icon://bbyd-dashboard" />
                        </TileContent>
                </GenericTile>
                 {% endif %}
                <!--Administration-->
                {% if session.utype in AUTH['USE'] %}
                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                  header="Administration"
                  subheader="User options"
                  press="uAdmin">
                        <TileContent>
                           <ImageContent src="sap-icon://settings" />
                        </TileContent>
                </GenericTile>
                {% endif %}
                </HBox>
        </VBox>
    </mvc:View>
</script>
{% endif %}
<!--DIRECTAPP VIEW-->
<script id="vDirect" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form"
        xmlns:viz="sap.viz.ui5.controls"
        xmlns:vk="sap.ui.vk"
        xmlns:vbm="sap.ui.vbm"
        height="100%" displayBlock="true"
        >
        <SplitApp id="SplitAppDemo" initialDetail="Requirements" initialMaster="DirectIntelligence" orientationChange="onOrientationChange">
                <detailPages>
                <!--REQUIREMENTS-->
                {% if session.utype in AUTH['HSS'] %}
                        <Page id="Requirements" title="Ask Questions of the community" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToDirectIntelligence">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMDIR"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Question Form"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Related National Strategies" />
                                                <Select id="DIRSTR">
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Other related questions" />
                                                <MultiComboBox id="DIRPIR" >
                                                        <items>
                                                        </items>
                                                </MultiComboBox>
                                                <Label text="Location References" />
                                                <Select id="DIRLOC" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Priority" />
                                                <Select id="DIRPRI" >
                                                        <items>
                                                                <core:Item text="Imminent"      key="Imminent"/>
                                                                <core:Item text="High"          key="High"/>
                                                                <core:Item text="Medium"        key="Medium"/>
                                                                <core:Item text="Low"           key="Low"/>
                                                        </items>
                                                </Select>
                                                <Label text="Type" />

                                                <Select id="DIRTYP" >
                                                        <items>
                                                                <core:Item text="Anti Social Behavior"  key="Anti_Social_Behavior"/>
                                                                <core:Item text="Assault"               key="Assault"/>
                                                                <core:Item text="Corruption"            key="Corruption"/>
                                                                <core:Item text="Cyber"                 key="Cyber"/>
                                                                <core:Item text="Domestic Abuse"        key="Domestic_Abuse"/>
                                                                <core:Item text="Fraud"                 key="Fraud"/>
                                                                <core:Item text="Gangs"                 key="Gangs"/>
                                                                <core:Item text="Human Trafficking"     key="Human_Trafficking"/>
                                                                <core:Item text="Organized Crime"       key="Organized_Crime"/>
                                                                <core:Item text="Radicalization"        key="Radicalization"/>
                                                                <core:Item text="Rape"                  key="Rape"/>
                                                                <core:Item text="Terrorism"             key="Terrorism"/>
                                                                <core:Item text="Theft"                 key="Theft"/>
                                                                <core:Item text="Victimless Crime"      key="Victimless_Crime"/>
                                                                <core:Item text="Violent Crime"         key="Violent_Crime"/>
                                                                <core:Item text="Vulnerable People"     key="Vulnerable_People"/>
                                                        </items>
                                                </Select>
                                                <Label text="Ask your question" />
                                                <Input
                                                        id="DIRREQ"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="What is the probability of a threat in this area...">
                                                </Input>
                                                <Label text="Tags" />
                                                <Input
                                                        id="DIRTAG"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Related terms">
                                                </Input>

                                                <Button id="DIRbutton" text="Create PIR" press="onPressNavPIRAPP" type="Emphasized" setBusy="true"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        {% else %}
                        <Page id="Requirements" title="Direct Requirements" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToDirectIntelligence">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMDIR"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Create new requirement"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Strategic References" />
                                                <Select id="DIRSTR">
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="PIR References" />
                                                <MultiComboBox id="DIRPIR" >
                                                        <items>
                                                        </items>
                                                </MultiComboBox>
                                                <Label text="Location References" />
                                                <Select id="DIRLOC" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Priority" />
                                                <Select id="DIRPRI" >
                                                        <items>
                                                                <core:Item text="Imminent"      key="Imminent"/>
                                                                <core:Item text="High"          key="High"/>
                                                                <core:Item text="Medium"        key="Medium"/>
                                                                <core:Item text="Low"           key="Low"/>
                                                        </items>
                                                </Select>
                                                <Label text="Type" />

                                                <Select id="DIRTYP" >
                                                        <items>
                                                                <core:Item text="Anti Social Behavior"  key="Anti_Social_Behavior"/>
                                                                <core:Item text="Assault"               key="Assault"/>
                                                                <core:Item text="Corruption"            key="Corruption"/>
                                                                <core:Item text="Cyber"                 key="Cyber"/>
                                                                <core:Item text="Domestic Abuse"        key="Domestic_Abuse"/>
                                                                <core:Item text="Fraud"                 key="Fraud"/>
                                                                <core:Item text="Gangs"                 key="Gangs"/>
                                                                <core:Item text="Human Trafficking"     key="Human_Trafficking"/>
                                                                <core:Item text="Organized Crime"       key="Organized_Crime"/>
                                                                <core:Item text="Radicalization"        key="Radicalization"/>
                                                                <core:Item text="Rape"                  key="Rape"/>
                                                                <core:Item text="Terrorism"             key="Terrorism"/>
                                                                <core:Item text="Theft"                 key="Theft"/>
                                                                <core:Item text="Victimless Crime"      key="Victimless_Crime"/>
                                                                <core:Item text="Violent Crime"         key="Violent_Crime"/>
                                                                <core:Item text="Vulnerable People"     key="Vulnerable_People"/>
                                                        </items>
                                                </Select>
                                                <Label text="Requirement as a question" />
                                                <Input
                                                        id="DIRREQ"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="What is the probability of a threat in this area...">
                                                </Input>
                                                <Label text="Tags" />
                                                <Input
                                                        id="DIRTAG"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Related terms">
                                                </Input>

                                                <Button id="DIRbutton" text="Create PIR" press="onPressNavPIRAPP" type="Emphasized" setBusy="true"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        {% endif %}
                        <!--STRATEGY-->
                        <Page id="Strategies" title="Direct Strategies" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressNavToDirectIntelligence">
                                <content>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMSTR"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Create new strategy"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Title" />
                                                <Input
                                                        id="STRTIT"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Type" />
                                                <Select id="STRTYP" >
                                                        <items>
                                                                <core:Item text="Domestic Security"  key="Domestic_Security"/>
                                                                <core:Item text="Economy"            key="Economy"/>
                                                                <core:Item text="Education"          key="Education"/>
                                                                <core:Item text="Health"             key="Health"/>
                                                                <core:Item text="National Security"  key="National_Security"/>
                                                                <core:Item text="Technology"         key="Technology"/>
                                                                <core:Item text="Training"           key="Training"/>
                                                                <core:Item text="Transportation"     key="Transportation"/>
                                                        </items>
                                                </Select>
                                                <Label text="Description" />
                                                <Input
                                                        id="STRDESC"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Written narrative of the strategy...">
                                                </Input>
                                                <Label text="Location References" />
                                                <MultiComboBox id="STRLOC" >
                                                        <core:Item text="{NAME}"  key="{GUID}"/>
                                                </MultiComboBox>
                                                <Label text="Tags" />
                                                <Input
                                                        id="STRTAG"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Related terms">
                                                </Input>
                                                <Button id="STRbutton" text="Create Strategy" press="onPressNavSTRAPP" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                </content>
                        </Page>
                        <Page id="DIRDash" title="View Requirements" class="sapUiStdPage" showNavButton="false"
                                navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <l:FixFlex class="fixFlexVertical">
                                        <l:fixContent>
                                                <Panel expandable="true" expanded="{= !${device>/system/phone} }"
                                                headerText="Description">
                                                <headerToolbar>
                                                        <Toolbar>
                                                                <Title text="Description" />
                                                        </Toolbar>
                                                </headerToolbar>
                                                <content>
                                                        <VBox class="sapUiTinyMargin">
                                                                <Text text="The Map Container provides a predefined feature set which is tailored for the map usage. The application can integrate additional application specific buttons within the transparent toolbar. In addition the map container provides also a list panel stack which can for instance be used for a legend or other application specific content."/>
                                                        </VBox>
                                                </content>
                                                </Panel>
                                        </l:fixContent>
                                        <l:flexContent>

                                        </l:flexContent>
                                </l:FixFlex>
                        </Page>
                        <!--RECENT PIRS-->
                        <Page id="Recents" title="Recent activity details" class="sapUiStdPage" showNavButton="false"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <Label text="Placeholder for profile page" />
                                </content>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="DirectIntelligence" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>{% if session.utype in AUTH['HSS'] %}
                                                        <StandardListItem title="New Question" type="Navigation" press="onPressNavToRequirements"/>
                                                        {% else %}
                                                         <StandardListItem title="Requirements" type="Navigation" press="onPressNavToRequirements"/>
                                                        {% endif %}
                                                        {% if session.utype in AUTH['STR'] %}
                                                                <StandardListItem title="Strategies" type="Navigation" press="onPressNavToStrategies"/>
                                                        {% endif %}
                                                        <StandardListItem title="Recent Activities" type="Navigation" press="onPressNavToRecents"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>

<!--TASKSAPP VIEW-->
<script id="vTask" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form">
        <SplitApp id="SplitAppDemo" initialDetail="Tasks" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <!--TASKS-->
                        <Page id="Tasks" title="Direct Tasks" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressDirectTasks">
                                <headerContent>
                                        <Button icon="sap-icon://log" press="onPressLogOut" type="Reject"/>
                                </headerContent>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMTSK"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Create new task"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Subject" />
                                                <Input
                                                        id="TSKSUB"
                                                        placeholder="Enter the subject and short description"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Task type" />
                                                <Select id="TSKTYP">
                                                        <items>
                                                                <core:Item text="Request for Information" key="RFI"/>
                                                                <core:Item text="Request for Support"     key="RFS"/>
                                                        </items>
                                                </Select>
                                                <Label text="Assign Task to" />
                                                <Select id="TASKED" >
                                                        <core:Item text="Open Task" key="Open Task"/>
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Related PIR" />
                                                <Select id="RELPIR" >
                                                        <core:Item text="Required for tasks" key="Open Task"/>
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Tags" />
                                                <Input
                                                        id="TSKTAG"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Related terms">
                                                </Input>

                                                <Button id="TSKbutton" text="Publish task" press="onPressNavTSKAPP" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--RECENT TASKS-->
                        <Page id="RecentTasks" title="Recent activity details" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressDirectTasks">
                                <content>
                                        <Table id="TaskTable" inset="false">
                                        <headerToolbar>
                                                <Toolbar>
                                                        <content>
                                                                <Title text="Tasks" level="H2"/>
                                                        </content>
                                                </Toolbar>
                                        </headerToolbar>
                                        <columns>
                                                <Column
                                                        width="15%">
                                                        <Text text="Date"/>
                                                </Column>
                                                <Column
                                                        width="15%">
                                                        <Text text="Category"/>
                                                </Column>
                                                <Column
                                                        width="30%">
                                                        <Text text="Desc"/>
                                                </Column>
                                                <Column
                                                        width="15%">
                                                        <Text text="From"/>
                                                </Column>
                                                <Column
                                                        width="15%">
                                                        <Text text="To"/>
                                                </Column>
                                                <Column
                                                        width="10%">
                                                        <Text text="Status"/>
                                                </Column>
                                        </columns>
                                        <items>
                                                <ColumnListItem>
                                                        <cells>
                                                        </cells>
                                                </ColumnListItem>
                                        </items>
                                </Table>


                                </content>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="DirectTasks" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Tasks" type="Navigation" press="onPressNavToTasks"/>
                                                </items>
                                        </List>
                                        <List id="RecentTasksList">
                                                <items>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>

<!--ANALYZE VIEW PROFILES-->
<script id="vAnalyze" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:g="sap.suite.ui.commons.networkgraph"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form"
        xmlns:viz="sap.viz.ui5.controls"
        xmlns:smartchart="sap.ui.comp.smartchart"
        xmlns:mc="sap.suite.ui.microchart"
        xmlns:viz.data="sap.viz.ui5.data"
        xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
        xmlns:vbm="sap.ui.vbm"
        xmlns:layout="sap.suite.ui.commons.networkgraph.layout"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns:vk="sap.ui.vk">
        <SplitApp id="SplitAppDemo" initialDetail="d" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <!--PROFILE PAGE-->
                        <Page id="Profiles" title="Entity Profiles" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToAnalyzeProfiles">
                                <VBox class="sapUiSmallMargin">
                                <Text id="ProfileGUID" text="ID" />
                                <Text id="ProfileDescription" text="Profile Description" />
                                </VBox>
                                <IconTabBar
                                        id="RelatedEntitiesIcons"
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                <items>
                                        <IconTabFilter
                                                text="People"
                                                icon="sap-icon://person-placeholder">
                                                <Table id="RelatedPersons" inset="false">
                                                        <columns>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="First"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Last"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Birthday"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Place of birth"/>
                                                                </Column>
                                                                <Column
                                                                        width="10%">
                                                                        <Text text="Gender"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Objects"
                                                icon="sap-icon://product">
                                                <Table id="RelatedObjects" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Category"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 2"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 3"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Locations"
                                                icon="sap-icon://map">
                                                <Table id="RelatedLocations" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Latitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Longitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Other"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Events"
                                                icon="sap-icon://calendar">
                                                <Table id="RelatedEvents" inset="false">
                                                <columns>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Type"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Category"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Description"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Date"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Relation"/>
                                                        </Column>
                                                </columns>
                                                <items>
                                                        <ColumnListItem>
                                                                <cells>
                                                                </cells>
                                                        </ColumnListItem>
                                                </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Analytics"
                                                icon="sap-icon://business-objects-experience">
                                                <Text text="Report 1" />
                                                <mc:AreaMicroChart width="164px" height="74px" minXValue="0" maxXValue="100" minYValue="0" maxYValue="100" class="sapUiSmallMargin" press="press">
                                                        <mc:firstXLabel>
                                                                <mc:AreaMicroChartLabel label="June 1" color="Good"/>
                                                        </mc:firstXLabel>
                                                        <mc:lastXLabel>
                                                                <mc:AreaMicroChartLabel label="June 30" color="Critical"/>
                                                        </mc:lastXLabel>
                                                        <mc:firstYLabel>
                                                                <mc:AreaMicroChartLabel label="0M" color="Good"/>
                                                        </mc:firstYLabel>
                                                        <mc:lastYLabel>
                                                                <mc:AreaMicroChartLabel label="80M" color="Critical"/>
                                                        </mc:lastYLabel>
                                                        <mc:chart>
                                                                <mc:AreaMicroChartItem>
                                                                        <mc:points>
                                                                                <mc:AreaMicroChartPoint x="0" y="0" />
                                                                                <mc:AreaMicroChartPoint x="30" y="20" />
                                                                                <mc:AreaMicroChartPoint x="60" y="20" />
                                                                                <mc:AreaMicroChartPoint x="100" y="80" />
                                                                        </mc:points>
                                                                </mc:AreaMicroChartItem>
                                                        </mc:chart>
                                                        <mc:target>
                                                                <mc:AreaMicroChartItem>
                                                                        <mc:points>
                                                                                <mc:AreaMicroChartPoint x="0" y="0" />
                                                                                <mc:AreaMicroChartPoint x="30" y="30" />
                                                                                <mc:AreaMicroChartPoint x="60" y="40" />
                                                                                <mc:AreaMicroChartPoint x="100" y="90" />
                                                                        </mc:points>
                                                                </mc:AreaMicroChartItem>
                                                        </mc:target>
                                                        <mc:maxThreshold>
                                                                <mc:AreaMicroChartItem color="Good">
                                                                        <mc:points>
                                                                                <mc:AreaMicroChartPoint x="0" y="0" />
                                                                                <mc:AreaMicroChartPoint x="30" y="40" />
                                                                                <mc:AreaMicroChartPoint x="60" y="50" />
                                                                                <mc:AreaMicroChartPoint x="100" y="100" />
                                                                        </mc:points>
                                                                </mc:AreaMicroChartItem>
                                                        </mc:maxThreshold>
                                                        <mc:minThreshold>
                                                                <mc:AreaMicroChartItem color="Error">
                                                                        <mc:points>
                                                                                <mc:AreaMicroChartPoint x="0" y="0" />
                                                                                <mc:AreaMicroChartPoint x="30" y="20" />
                                                                                <mc:AreaMicroChartPoint x="60" y="30" />
                                                                                <mc:AreaMicroChartPoint x="100" y="70" />
                                                                        </mc:points>
                                                                </mc:AreaMicroChartItem>
                                                        </mc:minThreshold>
                                                </mc:AreaMicroChart>
                                                <mc:InteractiveBarChart>
                                                  <mc:bars>
                                                    <mc:InteractiveBarChartBar label="Followers" value="10"/>
                                                  </mc:bars>
                                                </mc:InteractiveBarChart>

                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Map"
                                                icon="sap-icon://geographic-bubble-chart">
                                                <vbm:GeoMap id="GeoMap1">
                                                <vbm:vos>
                                                <vbm:Spots id="GeoMapSpots">
                                                <vbm:items>
                                                </vbm:items>
                                                </vbm:Spots>
                                                </vbm:vos>
                                                </vbm:GeoMap>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Network"
                                                icon="sap-icon://org-chart">
                                                <FlexBox>
                                                <g:Graph>
                                                  <g:nodes>
                                                    <g:Node key="Node1" title="1" status="Error" />
                                                    <g:Node key="Node2" title="1" status="Error" />
                                                  </g:nodes>
                                                  <g:lines>
                                                    <g:Line from="Node1" to="Node2" status="Error" />
                                                  </g:lines>
                                                </g:Graph>
                                                </FlexBox>


                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Edit Attributes"
                                                icon="sap-icon://action-settings">
                                                <f:SimpleForm id="ENTITYUPDATEFORM"
                                                                editable="true"
                                                                layout="ResponsiveGridLayout"
                                                                labelSpanXL="4"
                                                                labelSpanL="4"
                                                                labelSpanM="4"
                                                                labelSpanS="12"
                                                                adjustLabelSpan="false"
                                                                emptySpanXL="1"
                                                                emptySpanL="1"
                                                                emptySpanM="1"
                                                                emptySpanS="0"
                                                                columnsXL="1"
                                                                columnsL="1"
                                                                columnsM="1"
                                                                singleContainerFullSize="false"
                                                        >
                                                        <f:content>
                                                        <VBox>
                                                        <Text id="EditEntityTypeLabel" text="Type/Gender" />
                                                        <Text id="EditEntityCategoryLabel" text="Category" />
                                                        <Text id="EditEntityDescriptionLabel" text="Description" />
                                                        <Text id="EditEntityClass1Label" text="Classification 1/FName" />
                                                        <Text id="EditEntityClass2Label" text="Classification 2/LName" />
                                                        </VBox>
                                                        <VBox>
                                                        <Input
                                                                id="EditEntityType"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Type or Gender"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityCategory"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Category or NA for Person"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityDescription"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Description"
                                                                >
                                                        </Input>

                                                        <Input
                                                                id="EditEntityClass1"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Classification1 or First Name"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityClass2"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Classification2 or Last Name"
                                                                >
                                                        </Input>
                                                        </VBox>
                                                        </f:content>
                                                </f:SimpleForm>
                                                <VBox class="sapUiSmallMargin">
                                                <Button id="UpdatePersonButton" text="Update Entity" press="onPressUpdateEntity" type="Accept"/>
                                                <Button id="DeletePersonButton" text="Delete Entity" press="onPressDeleteEntity" type="Reject"/>
                                                </VBox>
                                        </IconTabFilter>
                                </items>
                                </IconTabBar>
                        </Page>
                </detailPages>
                <!--PROFILE MENU-->
                <masterPages>
                        <Page id="AnalyzeProfiles" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                <StandardListItem title="People list"  type="Navigation" press="onPressListPersons"/>
                                <StandardListItem title="Object list"  type="Navigation" press="onPressListObjects"/>

                                        <List id="EntityProfiles">
                                                <items>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>


<!--ANALYZE VIEW MODIFY-->
<script id="vAnalyze2" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form">
        <SplitApp id="SplitAppDemo" initialDetail="d" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <!--ADD PERSON-->
                        <Page id="Persons" title="Add Person" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToAnalyzeNetwork">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMPER"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Basic Person Information"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="PER-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="First Name" />
                                                <Input
                                                        id="pFNAME"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Last Name" />
                                                <Input
                                                        id="pLNAME"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Gender" />
                                                <Select id="pGEN" >
                                                        <items>
                                                                <core:Item text="Female"  key="F"/>
                                                                <core:Item text="Male"    key="M"/>
                                                                <core:Item text="Unknown" key="U"/>
                                                        </items>
                                                </Select>
                                                <Label text="Date of Birth" />
                                                <DateTimePicker
                                                        id="pDOB"
                                                        placeholder="Birth date"
                                                        valueFormat="YYYY-MM-dd HH:mm:ss" displayFormat="short"
                                                        change="handleChange"/>
                                                <Label text="Place of Birth" />
                                                <Select id="pPOB" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Entry description" />
                                                <Input
                                                        id="pDESC"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Summary of entering the person information..."
                                                        >
                                                </Input>

                                                <Button id="PERbutton" text="Add Person" press="onPressNavADDPER" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--ADD OBJECT-->
                        <Page id="Objects" title="Add Objects" class="sapUiStdPage" showNavButton="false"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMOBJ"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Basic Object details"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="OBJ-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Type" />
                                                <Input
                                                        id="oTYPE"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Category" />
                                                <Input
                                                        id="oCATEGORY"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Classification 1" />
                                                <Input
                                                        id="oCLASS1"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Classification 2" />
                                                <Input
                                                        id="oCLASS2"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Classification 3" />
                                                <Input
                                                        id="oCLASS3"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Description" />
                                                <Input
                                                        id="oDESC"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Related location" />
                                                <Select id="oLOC" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Button id="OBJbutton" text="Add Object" press="onPressNavADDOBJ" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                </content>
                        </Page>
                        <!--ADD LOCATION-->
                        <Page id="Locations" title="Add Location" class="sapUiStdPage" showNavButton="false"
                                navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMLOC"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Location details"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="LOC-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Type" />
                                                <Input
                                                        id="lTYPE"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Description" />
                                                <Input
                                                        id="lDESC"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Classification" />
                                                <Input
                                                        id="lCLASS1"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Latitude" />
                                                <Input
                                                        id="lXCOORD"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Longitude" />
                                                <Input
                                                        id="lYCOORD"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Altitude or other measure" />
                                                <Input
                                                        id="lZCOORD"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Related location" />
                                                <Select id="lLOC" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Button id="LOCbutton" text="Add Location" press="onPressNavADDLOC" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                </content>
                        </Page>
                        <!--ADD EVENT-->
                        <Page id="Events" title="Add Event" class="sapUiStdPage" showNavButton="false"
                                navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMEVE"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Event details:"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="EVE-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Type" />
                                                <Input
                                                        id="eTYPE"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Category" />
                                                <Input
                                                        id="eCATEGORY"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Description" />
                                                <Input
                                                        id="eDESC"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Classification" />
                                                <Input
                                                        id="eCLASS1"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Date" />
                                                <Input
                                                        id="eDATE"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="YYYY-MM-DD"
                                                        >
                                                </Input>
                                                <Label text="Time" />
                                                <Input
                                                        id="eTIME"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="HH:MM"
                                                        >
                                                </Input>
                                                <Label text="Related location" />
                                                <Select id="eLOC" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Button id="EVEbutton" text="Add Event" press="onPressNavADDEVE" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                </content>


                        </Page>
                        <!--ADD RELATION-->
                        <Page id="Relations" title="Add Relation" class="sapUiStdPage" showNavButton="false"
                                navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMREL"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Choose one source and one target to create a realtionship."
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="REL-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Type" />
                                                <Select id="RELTYP" >
                                                        <items>
                                                                <core:Item text="Account Created" key="AccountCreated"/>
                                                                <core:Item text="Born on"      key="BORN_ON"/>
                                                                <core:Item text="Born in"      key="BORN_IN"/>
                                                                <core:Item text="CreatedAt"    key="CreatedAt"/>
                                                                <core:Item text="Family"       key="Family"/>
                                                                <core:Item text="Follows"      key="Follows"/>
                                                                <core:Item text="From File"    key="FROM_FILE"/>
                                                                <core:Item text="Includes Tag" key="INCLUDES_TAG"/>
                                                                <core:Item text="Involves"     key="INVOLVES"/>
                                                                <core:Item text="Knows"        key="Knows"/>
                                                                <core:Item text="LivesAt"      key="LivesAt"/>
                                                                <core:Item text="On"           key="ON"/>
                                                                <core:Item text="Occurred At"  key="OccurredAt"/>
                                                                <core:Item text="Owns"  key="Owns"/>
                                                                <core:Item text="Reported At"  key="REPORTED_AT"/>
                                                                <core:Item text="Tagged"  key="TAGGED"/>

                                                        </items>
                                                </Select>
                                                <Label text="Source (GUID) " />
                                                <Input
                                                        id="AGUIDfree"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Enter a known source guid"
                                                        >
                                                </Input>
                                                <Label text="Source | Person" />
                                                <Select id="pAGUID" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Source | Object" />
                                                <Select id="oAGUID" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Target (GUID)" />
                                                <Input
                                                        id="BGUIDfree"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Enter target guid"
                                                        >
                                                </Input>
                                                <Label text="Target | Person" />
                                                <Select id="pBGUID" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Target | Object" />
                                                <Select id="oBGUID" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Description" />
                                                <Input
                                                        id="rDESC"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Relation created from analysis"
                                                        >
                                                </Input>
                                                <Button id="RELbutton" text="Add Relation" press="onPressNavADDREL" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                </content>

                        </Page>
                        <!--MERGE -->
                        <Page id="Resolutions" title="Merge entities" class="sapUiStdPage" showNavButton="false"
                                navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMRES"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Resolution options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Absorbing Entity" />
                                                <Select id="AbGUID" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Resolving Person" />
                                                <Select id="PGUID" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Resolving Object" />
                                                <Select id="OGUID" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Description" />
                                                <Input
                                                        id="R_DESC"
                                                        class="sapUiSmallMarginBottom"
                                                        placeholder="Resolution created from analysis"
                                                        >
                                                </Input>
                                                <Button id="RESbutton" text="Merge entities" press="onPressNavADDRES" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                </content>


                        </Page>

                        <!--RECENT ENTITIES-->
                        <Page id="Recents" title="Recent activity details" class="sapUiStdPage" showNavButton="false"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <Label text="Placeholder for profile page" />
                                </content>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="AnalyzeNetwork" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Persons"   type="Navigation" press="onPressNavToPersons"/>
                                                        <StandardListItem title="Objects"   type="Navigation" press="onPressNavToObjects"/>
                                                        <StandardListItem title="Locations" type="Navigation" press="onPressNavToLocations"/>
                                                        <StandardListItem title="Events"    type="Navigation" press="onPressNavToEvents"/>
                                                        <StandardListItem title="Relations" type="Navigation" press="onPressNavToRelations"/>
                                                        <StandardListItem title="Merge entities" type="Navigation" press="onPressNavToResolutions"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>

<!--OSINT VIEW-->
<script id="vOsint" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form">
        <SplitApp id="SplitAppDemo" initialDetail="Twitter" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <!--RUN TWITTER-->
                        <Page id="Twitter" title="Twitter collection" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMTWT"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="TWT-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>

                                                <Label text="Search type" />
                                                <Select id="TWT-searchtype" >
                                                        <items>
                                                                <core:Item text="Username"  key="username"/>
                                                                <core:Item text="Term"    key="term"/>
                                                                <core:Item text="Location" key="location"/>
                                                                <core:Item text="Associates" key="associates"/>
                                                                <core:Item text="Mentions" key="mentions"/>
                                                                <core:Item text="Hashtags" key="hashtags"/>
                                                        </items>
                                                </Select>
                                                <Label text="Searchterm (for term or username)" />
                                                <Input
                                                        id="TWT-searchterm"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Location options" />
                                                <Label text="Latitude" />
                                                <Input
                                                        id="TWT-latitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Longitude" />
                                                <Input
                                                        id="TWT-longitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Radius(km)" />
                                                <Input
                                                        id="TWT-radius"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>

                                                <Button id="TWTbutton" text="Start Collection" press="onPressCollectTwitter" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--RUN YOUTUBE-->
                        <Page id="Youtube" title="Youtube collection" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMYOU"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="YOU-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Search type" />
                                                <Select id="YOU-searchtype" >
                                                        <items>
                                                                <core:Item text="Term"    key="term"/>
                                                                <core:Item text="Location" key="location"/>
                                                        </items>
                                                </Select>
                                                <Label text="Searchterm (for term)" />
                                                <Input
                                                        id="YOU-searchterm"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Location options" />
                                                <Label text="Latitude" />
                                                <Input
                                                        id="YOU-latitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Longitude" />
                                                <Input
                                                        id="YOU-longitude"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Radius(km)" />
                                                <Input
                                                        id="YOU-radius"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>

                                                <Button id="YOUbutton" text="Start Collection" press="onPressCollectYoutube" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--RUN GDELT-->
                        <Page id="GDELT" title="Global Database of Events, Language and Tone" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMGDELT"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="GDELT-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Query Type" />
                                                <Select
                                                        id="GDELT-QueryType"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                        <items>
                                                                <core:Item text="Events"          key="Events"/>
                                                                <core:Item text="Organizations"   key="Orgs"/>
                                                        </items>
                                                </Select>
                                                <Label text="Event Date Search" />
                                                <DateRangeSelection
                                                        id="GDELT-searchdate"
                                                        placeholder="Timeframe for reports"
                                                        valueFormat="YYYYMMdd" displayFormat="YYYYMMdd"
                                                        change="handleChange"/>

                                                <Label text="Actor1Name" />
                                                <Input  id="GDELT-Actor1Name"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Actor1Code" />
                                                <Input  id="GDELT-Actor1Code"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Actor2Name" />
                                                <Input  id="GDELT-Actor2Name"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Actor2Code" />
                                                <Input  id="GDELT-Actor2Code"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="ActionGeo" />
                                                <Input  id="GDELT-ActionGeo"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Label text="Persons" />
                                                <Input  id="GDELT-Persons"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>

                                                <Label text="Stability Impact" />
                                                <Select
                                                        id="GDELT-GoldsteinBin"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                        <items>
                                                                <core:Item text="Neutral"    key=" "/>
                                                                <core:Item text="Negative"   key="neg"/>
                                                                <core:Item text="Positive"   key="pos"/>
                                                        </items>
                                                </Select>
                                                <Label text="Language" />
                                                <Select
                                                        id="GDELT-Language"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                        <items>
                                                                <core:Item text="All"      key="all"/>
                                                                <core:Item text="English"  key="en"/>
                                                                <core:Item text="Arabic"   key="ara"/>
                                                                <core:Item text="French"   key="fr"/>
                                                                <core:Item text="Hebrew"   key="heb"/>
                                                        </items>
                                                </Select>

                                                <Button id="GDELTbutton" text="Start Collection" press="onPressCollectGDELT" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--ACLED API-->
                        <Page id="ACLED" title="Armed Conflict Location Event" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMACLED"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="ACLED-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Report Range" />
                                                <DateRangeSelection
                                                        id="AcledSearchDate"
                                                        placeholder="Timeframe for report"
                                                        valueFormat="YYYY-MM-dd HH:mm:ss" displayFormat="YYYYMMdd"
                                                        change="handleChange"/>
                                                <Label text="Country" />
                                                <Select id="AcledSearchLocation" >
                                                        <items>
                                                                <core:Item text=""    key=""/>
                                                                <core:Item text="Afghanistan"      key="Afghanistan"/>
                                                                <core:Item text="Albania"      key="Albania"/>
                                                                <core:Item text="Algeria"      key="Algeria"/>
                                                                <core:Item text="Angola"      key="Angola"/>
                                                                <core:Item text="Argentia"      key="Argentia"/>
                                                                <core:Item text="Armenia"      key="Armenia"/>
                                                                <core:Item text="Australia"      key="Australia"/>
                                                                <core:Item text="Austria"      key="Austria"/>
                                                                <core:Item text="Azerbaijan"      key="Azerbaijan"/>
                                                                <core:Item text="Bahamas"      key="Bahamas"/>
                                                                <core:Item text="Bahrain"      key="Bahrain"/>
                                                                <core:Item text="Bangladesh"      key="Bangladesh"/>
                                                                <core:Item text="Barbados"      key="Barbados"/>
                                                                <core:Item text="Belarus"      key="Belarus"/>
                                                                <core:Item text="Belgium"      key="Belgium"/>
                                                                <core:Item text="Belize"      key="Belize"/>
                                                                <core:Item text="Benin"      key="Benin"/>
                                                                <core:Item text="Bhutan"      key="Bhutan"/>
                                                                <core:Item text="Bolivia"      key="Bolivia"/>
                                                                <core:Item text="Bosnia-Herzegovina"      key="Bosnia-Herzegovina"/>
                                                                <core:Item text="Botswana"      key="Botswana"/>
                                                                <core:Item text="Brazil"      key="Brazil"/>
                                                                <core:Item text="Brunei"      key="Brunei"/>
                                                                <core:Item text="Bulgaria"      key="Bulgaria"/>
                                                                <core:Item text="Burkina Faso"      key="Burkina Faso"/>
                                                                <core:Item text="Burundi"      key="Burundi"/>
                                                                <core:Item text="Cambodia"      key="Cambodia"/>
                                                                <core:Item text="Cameroon"      key="Cameroon"/>
                                                                <core:Item text="Canada"      key="Canada"/>
                                                                <core:Item text="Cape Verde"      key="Cape Verde"/>
                                                                <core:Item text="Central African Republic"      key="Central African Republic"/>
                                                                <core:Item text="Chad"      key="Chad"/>
                                                                <core:Item text="Chile"      key="Chile"/>
                                                                <core:Item text="China"      key="China"/>
                                                                <core:Item text="Colombia"      key="Colombia"/>
                                                                <core:Item text="Comoros"      key="Comoros"/>
                                                                <core:Item text="Congo"      key="Congo"/>
                                                                <core:Item text="Costa Rica"      key="Costa Rica"/>
                                                                <core:Item text="Cote DIvoire"      key="Cote DIvoire"/>
                                                                <core:Item text="Croatia"      key="Croatia"/>
                                                                <core:Item text="Cuba"      key="Cuba"/>
                                                                <core:Item text="Cyprus"      key="Cyprus"/>
                                                                <core:Item text="Czech Republic"      key="Czech Republic"/>
                                                                <core:Item text="Czechoslovakia"      key="Czechoslovakia"/>
                                                                <core:Item text="Denmark"      key="Denmark"/>
                                                                <core:Item text="Djibouti"      key="Djibouti"/>
                                                                <core:Item text="Dominican Republic"      key="Dominican Republic"/>
                                                                <core:Item text="East Timor"      key="East Timor"/>
                                                                <core:Item text="Ecuador"      key="Ecuador"/>
                                                                <core:Item text="Egypt"      key="Egypt"/>
                                                                <core:Item text="El Salvador"      key="El Salvador"/>
                                                                <core:Item text="Equatorial Guinea"      key="Equatorial Guinea"/>
                                                                <core:Item text="Eritrea"      key="Eritrea"/>
                                                                <core:Item text="Estonia"      key="Estonia"/>
                                                                <core:Item text="Ethiopia"      key="Ethiopia"/>
                                                                <core:Item text="Fiji"      key="Fiji"/>
                                                                <core:Item text="Finland"      key="Finland"/>
                                                                <core:Item text="France"      key="France"/>
                                                                <core:Item text="Gabon"      key="Gabon"/>
                                                                <core:Item text="Gambia"      key="Gambia"/>
                                                                <core:Item text="Georgia"      key="Georgia"/>
                                                                <core:Item text="German Democratic Republic"      key="German Democratic Republic"/>
                                                                <core:Item text="German Federal Republic"      key="German Federal Republic"/>
                                                                <core:Item text="Ghanna"      key="Ghanna"/>
                                                                <core:Item text="Greece"      key="Greece"/>
                                                                <core:Item text="Guatemala"      key="Guatemala"/>
                                                                <core:Item text="Guinea"      key="Guinea"/>
                                                                <core:Item text="Guniea-Bissau"      key="Guniea-Bissau"/>
                                                                <core:Item text="Guyana"      key="Guyana"/>
                                                                <core:Item text="Haiti"      key="Haiti"/>
                                                                <core:Item text="Honduras"      key="Honduras"/>
                                                                <core:Item text="Hungary"      key="Hungary"/>
                                                                <core:Item text="Iceland"      key="Iceland"/>
                                                                <core:Item text="India"      key="India"/>
                                                                <core:Item text="Indonesia"      key="Indonesia"/>
                                                                <core:Item text="Iran"      key="Iran"/>
                                                                <core:Item text="Iraq"      key="Iraq"/>
                                                                <core:Item text="Ireland"      key="Ireland"/>
                                                                <core:Item text="Israel"      key="Israel"/>
                                                                <core:Item text="Italy/Sardinia"      key="Italy/Sardinia"/>
                                                                <core:Item text="Jamaica"      key="Jamaica"/>
                                                                <core:Item text="Japan"      key="Japan"/>
                                                                <core:Item text="Jordan"      key="Jordan"/>
                                                                <core:Item text="Kazakhstan"      key="Kazakhstan"/>
                                                                <core:Item text="Kenya"      key="Kenya"/>
                                                                <core:Item text="Kuwait"      key="Kuwait"/>
                                                                <core:Item text="Kyrgystan"      key="Kyrgystan"/>
                                                                <core:Item text="Laos"      key="Laos"/>
                                                                <core:Item text="Latvia"      key="Latvia"/>
                                                                <core:Item text="Lebanon"      key="Lebanon"/>
                                                                <core:Item text="Lesotho"      key="Lesotho"/>
                                                                <core:Item text="Liberia"      key="Liberia"/>
                                                                <core:Item text="Libya"      key="Libya"/>
                                                                <core:Item text="Lithuania"      key="Lithuania"/>
                                                                <core:Item text="Luxembourg"      key="Luxembourg"/>
                                                                <core:Item text="Macedonia"      key="Macedonia"/>
                                                                <core:Item text="Madagascar"      key="Madagascar"/>
                                                                <core:Item text="Malawi"      key="Malawi"/>
                                                                <core:Item text="Malaysia"      key="Malaysia"/>
                                                                <core:Item text="Maldives"      key="Maldives"/>
                                                                <core:Item text="Mali"      key="Mali"/>
                                                                <core:Item text="Malta"      key="Malta"/>
                                                                <core:Item text="Mauritania"      key="Mauritania"/>
                                                                <core:Item text="Mauritius"      key="Mauritius"/>
                                                                <core:Item text="Mexico"      key="Mexico"/>
                                                                <core:Item text="Moldova"      key="Moldova"/>
                                                                <core:Item text="Mongolia"      key="Mongolia"/>
                                                                <core:Item text="Montenengro"      key="Montenengro"/>
                                                                <core:Item text="Morocco"      key="Morocco"/>
                                                                <core:Item text="Mozambique"      key="Mozambique"/>
                                                                <core:Item text="Myanmar"      key="Myanmar"/>
                                                                <core:Item text="Namibia"      key="Namibia"/>
                                                                <core:Item text="Nepal"      key="Nepal"/>
                                                                <core:Item text="Netherlands"      key="Netherlands"/>
                                                                <core:Item text="New Zealand"      key="New Zealand"/>
                                                                <core:Item text="Nicaragua"      key="Nicaragua"/>
                                                                <core:Item text="Niger"      key="Niger"/>
                                                                <core:Item text="Nigeria"      key="Nigeria"/>
                                                                <core:Item text="North Korea"      key="North Korea"/>
                                                                <core:Item text="Norway"      key="Norway"/>
                                                                <core:Item text="Oman"      key="Oman"/>
                                                                <core:Item text="Pakistan"      key="Pakistan"/>
                                                                <core:Item text="Panama"      key="Panama"/>
                                                                <core:Item text="Papua New Guinea"      key="Papua New Guinea"/>
                                                                <core:Item text="Paraguay"      key="Paraguay"/>
                                                                <core:Item text="Peru"      key="Peru"/>
                                                                <core:Item text="Philippines"      key="Philippines"/>
                                                                <core:Item text="Poland"      key="Poland"/>
                                                                <core:Item text="Portugal"      key="Portugal"/>
                                                                <core:Item text="Qatar"      key="Qatar"/>
                                                                <core:Item text="Romania"      key="Romania"/>
                                                                <core:Item text="Russia"      key="Russia"/>
                                                                <core:Item text="Rwanda"      key="Rwanda"/>
                                                                <core:Item text="Saudi Arabia"      key="Saudi Arabia"/>
                                                                <core:Item text="Senegal"      key="Senegal"/>
                                                                <core:Item text="Sierra Leone"      key="Sierra Leone"/>
                                                                <core:Item text="Singapore"      key="Singapore"/>
                                                                <core:Item text="Slovakia"      key="Slovakia"/>
                                                                <core:Item text="Slovenia"      key="Slovenia"/>
                                                                <core:Item text="Solomon Islands"      key="Solomon Islands"/>
                                                                <core:Item text="Somalia"      key="Somalia"/>
                                                                <core:Item text="South Africa"      key="South Africa"/>
                                                                <core:Item text="South Norea"      key="South Norea"/>
                                                                <core:Item text="Spain"      key="Spain"/>
                                                                <core:Item text="Sri Lanka"      key="Sri Lanka"/>
                                                                <core:Item text="Sudan"      key="Sudan"/>
                                                                <core:Item text="Surinam"      key="Surinam"/>
                                                                <core:Item text="Swaziland"      key="Swaziland"/>
                                                                <core:Item text="Sweden"      key="Sweden"/>
                                                                <core:Item text="Switzerland"      key="Switzerland"/>
                                                                <core:Item text="Syria"      key="Syria"/>
                                                                <core:Item text="Taiwan"      key="Taiwan"/>
                                                                <core:Item text="Tajikistan"      key="Tajikistan"/>
                                                                <core:Item text="Tanzania"      key="Tanzania"/>
                                                                <core:Item text="Thailand"      key="Thailand"/>
                                                                <core:Item text="Tibet"      key="Tibet"/>
                                                                <core:Item text="Togo"      key="Togo"/>
                                                                <core:Item text="Trinidad and Tobago"      key="Trinidad and Tobago"/>
                                                                <core:Item text="Tunisia"      key="Tunisia"/>
                                                                <core:Item text="Turkey"      key="Turkey"/>
                                                                <core:Item text="Turkmenistan"      key="Turkmenistan"/>
                                                                <core:Item text="Uganda"      key="Uganda"/>
                                                                <core:Item text="Ukraine"      key="Ukraine"/>
                                                                <core:Item text="United Arab Emriates"      key="United Arab Emriates"/>
                                                                <core:Item text="United States"      key="United States"/>
                                                                <core:Item text="UnitedKingdom"      key="UnitedKingdom"/>
                                                                <core:Item text="Uruguay"      key="Uruguay"/>
                                                                <core:Item text="Uzbekistan"      key="Uzbekistan"/>
                                                                <core:Item text="Venezuela"      key="Venezuela"/>
                                                                <core:Item text="Vietnam"      key="Vietnam"/>
                                                                <core:Item text="Vietnam Republic"      key="Vietnam Republic"/>
                                                                <core:Item text="Yemen"      key="Yemen"/>
                                                                <core:Item text="Yemen Peoples republic"      key="Yemen Peoples republic"/>
                                                                <core:Item text="Yugoslavia (Serbia)"      key="Yugoslavia (Serbia)"/>
                                                                <core:Item text="Zaire"      key="Zaire"/>
                                                                <core:Item text="Zambia"      key="Zambia"/>
                                                                <core:Item text="Zanzibar"      key="Zanzibar"/>
                                                                <core:Item text="Zimbabwe"      key="Zimbabwe"/>

                                                        </items>
                                                </Select>
                                                <Label text="Start Search" />
                                                <Button id="ACLEDButton" text="Start Collection" press="onPressCollectACLED" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <!--UPPSALA API-->
                        <Page id="UCDP" title="Uppsala Conflict Data Program" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMUCDP"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="UCDP-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Report Range" />
                                                <DateRangeSelection
                                                        id="UCDPSearchDate"
                                                        placeholder="Timeframe for report"
                                                        valueFormat="YYYY-MM-dd" displayFormat="YYYY-MM-dd"
                                                        change="handleChange"/>
                                               <Label text="Country" />
                                                <Select id="UCDPSearchLocation" >
                                                        <items>
                                                        <core:Item text=""                 key = ""/>
                                                        <core:Item text="Afghanistan"      key="700"/>
                                                        <core:Item text="Albania"      key="339"/>
                                                        <core:Item text="Algeria"      key="615"/>
                                                        <core:Item text="Angola"      key="540"/>
                                                        <core:Item text="Argentia"      key="160"/>
                                                        <core:Item text="Armenia"      key="371"/>
                                                        <core:Item text="Australia"      key="900"/>
                                                        <core:Item text="Austria"      key="305"/>
                                                        <core:Item text="Azerbaijan"      key="373"/>
                                                        <core:Item text="Bahamas"      key="31"/>
                                                        <core:Item text="Bahrain"      key="692"/>
                                                        <core:Item text="Bangladesh"      key="771"/>
                                                        <core:Item text="Barbados"      key="53"/>
                                                        <core:Item text="Belarus"      key="370"/>
                                                        <core:Item text="Belgium"      key="211"/>
                                                        <core:Item text="Belize"      key="80"/>
                                                        <core:Item text="Benin"      key="434"/>
                                                        <core:Item text="Bhutan"      key="760"/>
                                                        <core:Item text="Bolivia"      key="145"/>
                                                        <core:Item text="Bosnia-Herzegovina"      key="346"/>
                                                        <core:Item text="Botswana"      key="571"/>
                                                        <core:Item text="Brazil"      key="140"/>
                                                        <core:Item text="Brunei"      key="835"/>
                                                        <core:Item text="Bulgaria"      key="355"/>
                                                        <core:Item text="Burkina Faso"      key="439"/>
                                                        <core:Item text="Burundi"      key="516"/>
                                                        <core:Item text="Cambodia"      key="811"/>
                                                        <core:Item text="Cameroon"      key="471"/>
                                                        <core:Item text="Canada"      key="20"/>
                                                        <core:Item text="Cape Verde"      key="402"/>
                                                        <core:Item text="Central African Republic"      key="482"/>
                                                        <core:Item text="Chad"      key="483"/>
                                                        <core:Item text="Chile"      key="155"/>
                                                        <core:Item text="China"      key="710"/>
                                                        <core:Item text="Colombia"      key="100"/>
                                                        <core:Item text="Comoros"      key="581"/>
                                                        <core:Item text="Congo"      key="484"/>
                                                        <core:Item text="Costa Rica"      key="94"/>
                                                        <core:Item text="Cote DIvoire"      key="437"/>
                                                        <core:Item text="Croatia"      key="344"/>
                                                        <core:Item text="Cuba"      key="40"/>
                                                        <core:Item text="Cyprus"      key="352"/>
                                                        <core:Item text="Czech Republic"      key="316"/>
                                                        <core:Item text="Czechoslovakia"      key="315"/>
                                                        <core:Item text="Denmark"      key="390"/>
                                                        <core:Item text="Djibouti"      key="522"/>
                                                        <core:Item text="Dominican Republic"      key="42"/>
                                                        <core:Item text="East Timor"      key="860"/>
                                                        <core:Item text="Ecuador"      key="130"/>
                                                        <core:Item text="Egypt"      key="651"/>
                                                        <core:Item text="El Salvador"      key="92"/>
                                                        <core:Item text="Equatorial Guinea"      key="411"/>
                                                        <core:Item text="Eritrea"      key="531"/>
                                                        <core:Item text="Estonia"      key="366"/>
                                                        <core:Item text="Ethiopia"      key="530"/>
                                                        <core:Item text="Fiji"      key="950"/>
                                                        <core:Item text="Finland"      key="375"/>
                                                        <core:Item text="France"      key="220"/>
                                                        <core:Item text="Gabon"      key="481"/>
                                                        <core:Item text="Gambia"      key="420"/>
                                                        <core:Item text="Georgia"      key="372"/>
                                                        <core:Item text="German Democratic Republic"      key="265"/>
                                                        <core:Item text="German Federal Republic"      key="260"/>
                                                        <core:Item text="Ghanna"      key="452"/>
                                                        <core:Item text="Greece"      key="350"/>
                                                        <core:Item text="Guatemala"      key="90"/>
                                                        <core:Item text="Guinea"      key="438"/>
                                                        <core:Item text="Guniea-Bissau"      key="404"/>
                                                        <core:Item text="Guyana"      key="110"/>
                                                        <core:Item text="Haiti"      key="41"/>
                                                        <core:Item text="Honduras"      key="91"/>
                                                        <core:Item text="Hungary"      key="310"/>
                                                        <core:Item text="Iceland"      key="395"/>
                                                        <core:Item text="India"      key="750"/>
                                                        <core:Item text="Indonesia"      key="850"/>
                                                        <core:Item text="Iran"      key="630"/>
                                                        <core:Item text="Iraq"      key="645"/>
                                                        <core:Item text="Ireland"      key="205"/>
                                                        <core:Item text="Israel"      key="666"/>
                                                        <core:Item text="Italy/Sardinia"      key="325"/>
                                                        <core:Item text="Jamaica"      key="51"/>
                                                        <core:Item text="Japan"      key="740"/>
                                                        <core:Item text="Jordan"      key="663"/>
                                                        <core:Item text="Kazakhstan"      key="705"/>
                                                        <core:Item text="Kenya"      key="501"/>
                                                        <core:Item text="Kuwait"      key="690"/>
                                                        <core:Item text="Kyrgystan"      key="703"/>
                                                        <core:Item text="Laos"      key="812"/>
                                                        <core:Item text="Latvia"      key="367"/>
                                                        <core:Item text="Lebanon"      key="660"/>
                                                        <core:Item text="Lesotho"      key="570"/>
                                                        <core:Item text="Liberia"      key="450"/>
                                                        <core:Item text="Libya"      key="620"/>
                                                        <core:Item text="Lithuania"      key="368"/>
                                                        <core:Item text="Luxembourg"      key="212"/>
                                                        <core:Item text="Macedonia"      key="343"/>
                                                        <core:Item text="Madagascar"      key="580"/>
                                                        <core:Item text="Malawi"      key="553"/>
                                                        <core:Item text="Malaysia"      key="820"/>
                                                        <core:Item text="Maldives"      key="781"/>
                                                        <core:Item text="Mali"      key="432"/>
                                                        <core:Item text="Malta"      key="338"/>
                                                        <core:Item text="Mauritania"      key="435"/>
                                                        <core:Item text="Mauritius"      key="590"/>
                                                        <core:Item text="Mexico"      key="70"/>
                                                        <core:Item text="Moldova"      key="359"/>
                                                        <core:Item text="Mongolia"      key="712"/>
                                                        <core:Item text="Montenengro"      key="341"/>
                                                        <core:Item text="Morocco"      key="600"/>
                                                        <core:Item text="Mozambique"      key="541"/>
                                                        <core:Item text="Myanmar"      key="775"/>
                                                        <core:Item text="Namibia"      key="565"/>
                                                        <core:Item text="Nepal"      key="790"/>
                                                        <core:Item text="Netherlands"      key="210"/>
                                                        <core:Item text="New Zealand"      key="920"/>
                                                        <core:Item text="Nicaragua"      key="93"/>
                                                        <core:Item text="Niger"      key="436"/>
                                                        <core:Item text="Nigeria"      key="475"/>
                                                        <core:Item text="North Korea"      key="731"/>
                                                        <core:Item text="Norway"      key="385"/>
                                                        <core:Item text="Oman"      key="698"/>
                                                        <core:Item text="Pakistan"      key="770"/>
                                                        <core:Item text="Panama"      key="95"/>
                                                        <core:Item text="Papua New Guinea"      key="910"/>
                                                        <core:Item text="Paraguay"      key="150"/>
                                                        <core:Item text="Peru"      key="135"/>
                                                        <core:Item text="Philippines"      key="840"/>
                                                        <core:Item text="Poland"      key="290"/>
                                                        <core:Item text="Portugal"      key="235"/>
                                                        <core:Item text="Qatar"      key="694"/>
                                                        <core:Item text="Romania"      key="360"/>
                                                        <core:Item text="Russia"      key="365"/>
                                                        <core:Item text="Rwanda"      key="517"/>
                                                        <core:Item text="Saudi Arabia"      key="670"/>
                                                        <core:Item text="Senegal"      key="433"/>
                                                        <core:Item text="Sierra Leone"      key="451"/>
                                                        <core:Item text="Singapore"      key="830"/>
                                                        <core:Item text="Slovakia"      key="317"/>
                                                        <core:Item text="Slovenia"      key="349"/>
                                                        <core:Item text="Solomon Islands"      key="940"/>
                                                        <core:Item text="Somalia"      key="520"/>
                                                        <core:Item text="South Africa"      key="560"/>
                                                        <core:Item text="South Norea"      key="732"/>
                                                        <core:Item text="Spain"      key="230"/>
                                                        <core:Item text="Sri Lanka"      key="780"/>
                                                        <core:Item text="Sudan"      key="625"/>
                                                        <core:Item text="Surinam"      key="115"/>
                                                        <core:Item text="Swaziland"      key="572"/>
                                                        <core:Item text="Sweden"      key="380"/>
                                                        <core:Item text="Switzerland"      key="225"/>
                                                        <core:Item text="Syria"      key="652"/>
                                                        <core:Item text="Taiwan"      key="713"/>
                                                        <core:Item text="Tajikistan"      key="702"/>
                                                        <core:Item text="Tanzania"      key="510"/>
                                                        <core:Item text="Thailand"      key="800"/>
                                                        <core:Item text="Tibet"      key="711"/>
                                                        <core:Item text="Togo"      key="461"/>
                                                        <core:Item text="Trinidad and Tobago"      key="52"/>
                                                        <core:Item text="Tunisia"      key="616"/>
                                                        <core:Item text="Turkey"      key="640"/>
                                                        <core:Item text="Turkmenistan"      key="701"/>
                                                        <core:Item text="Uganda"      key="500"/>
                                                        <core:Item text="Ukraine"      key="369"/>
                                                        <core:Item text="United Arab Emriates"      key="696"/>
                                                        <core:Item text="United States"      key="2"/>
                                                        <core:Item text="UnitedKingdom"      key="200"/>
                                                        <core:Item text="Uruguay"      key="165"/>
                                                        <core:Item text="Uzbekistan"      key="704"/>
                                                        <core:Item text="Venezuela"      key="101"/>
                                                        <core:Item text="Vietnam"      key="816"/>
                                                        <core:Item text="Vietnam Republic"      key="817"/>
                                                        <core:Item text="Yemen"      key="678"/>
                                                        <core:Item text="Yemen Peoples republic"      key="680"/>
                                                        <core:Item text="Yugoslavia (Serbia)"      key="345"/>
                                                        <core:Item text="Zaire"      key="490"/>
                                                        <core:Item text="Zambia"      key="551"/>
                                                        <core:Item text="Zanzibar"      key="511"/>
                                                        <core:Item text="Zimbabwe"      key="552"/>

                                                        </items>
                                                </Select>
                                                <Label text="Geo coordinates" />
                                                <Input id="UCDPSearchGeography" class="sapUiSmallMarginBottom" />
                                                <Label text="Start Search" />
                                                <Button id="UCDPButton" text="Start Collection" press="onPressCollectUCDP" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <Page id="SECEDGAR" title="U.S. Securities and Exchange Commission" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMSECEDGAR"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="SECEDGAR-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Report Range" />
                                                <DateRangeSelection
                                                        id="SECEDGARSearchDate"
                                                        placeholder="Timeframe for report"
                                                        valueFormat="YYYY-MM-dd HH:mm:ss" displayFormat="YYYYMMdd"
                                                        change="handleChange"/>

                                                <Select id="SECEDGARSearchLocation" >
                                                        <items>
                                                                <core:Item text="Afghanistan"    key="Afghanistan"/>
                                                                <core:Item text="Location" key="location"/>
                                                        </items>
                                                </Select>
                                                <Select id="SECEDGARSearchGroup" >
                                                        <items>
                                                                <core:Item text="Boko Haram"    key="Boko Haram"/>
                                                                <core:Item text="Location" key="location"/>
                                                        </items>
                                                </Select>
                                                <Label text="Start Search" />
                                                <Button id="SECEDGARButton" text="Start Collection" press="onPressCollectSECEDGAR" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <Page id="WebCrawler" title="Website Crawler" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToOSINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMWEBCRAWLER"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Collection Options"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="PIR Reference" />
                                                <Select id="WebCrawler-searchReference" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="Search depth" />
                                                <Select id="WebCrawler-searchDepth" >
                                                        <items>
                                                                <core:Item text="Single Page"     key="Single"/>
                                                                <core:Item text="First degree"    key="First"/>
                                                                <core:Item text="Second degree"   key="Second"/>
                                                        </items>
                                                </Select>
                                                <Label text="Website URL" />
                                                <Input id="WebCrawler-startURL" class="sapUiSmallMarginBottom" />
                                                <Label text="Search term" />
                                                <Input id="WebCrawler-searchTerms" class="sapUiSmallMarginBottom" />
                                                <Label text="Search language" />
                                                <Select id="WebCrawler-searchLanguage" >
                                                        <items>
                                                                <core:Item text="URL based"  key=""/>
                                                                <core:Item text="English"  key="en"/>
                                                                <core:Item text="العربية"    key="ar"/>
                                                                <core:Item text="French"   key="fr"/>
                                                        </items>
                                                </Select>
                                                <Switch id='WebCrawler-showNavigation' state="false" customTextOn="Show" customTextOff="Hide">
                                                        <layoutData>
                                                                <FlexItemData growFactor="1" />
                                                        </layoutData>
                                                </Switch>
                                                <Switch id='WebCrawler-searchEngine' state="false" customTextOn="Chrome" customTextOff="FireFox">
                                                        <layoutData>
                                                                <FlexItemData growFactor="1" />
                                                        </layoutData>
                                                </Switch>
                                                <Button id="WebCrawler-Button" text="Start Collection" press="onPressStartWebCrawler" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="CollectOSINT" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Web Crawler" type="Navigation" press="onPressNavToCrawler"/>
                                                        <StandardListItem title="Twitter"     type="Navigation" press="onPressNavToTwitter"/>
                                                        <StandardListItem title="Youtube"     type="Navigation" press="onPressNavToYoutube"/>
                                                        <StandardListItem title="ACLED"       type="Navigation" press="onPressNavToACLED"/>
                                                        <StandardListItem title="GDELT"       type="Navigation" press="onPressNavToGDELT"/>
                                                        <StandardListItem title="UCDP"        type="Navigation" press="onPressNavToUCDP"/>
                                                        <StandardListItem title="SEC"         type="Navigation" press="onPressNavToSEC"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>
<!--COLLECT FILE VIEW-->
<script id="vIfile" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:u="sap.ui.unified"
        xmlns:viz="sap.viz.ui5.controls"
        xmlns:vk="sap.ui.vk"
        xmlns:vbm="sap.ui.vbm"
        xmlns:f="sap.ui.layout.form">
        <SplitApp id="SplitAppDemo" initialDetail="POLERMap" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <!--COLLECT FILE-->
                        <Page id="Ifile" title="Internal File Collection" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToISINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMIFL"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="File Uploading Process"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                        <HBox class="sapUiSmallMargin">
                                                <VBox class="sapUiSmallMargin">
                                                <Label width="200px" text="1. Upload File" />
                                                <Button width="200px" text="Upload" press="onPressMapSingleFile" type="Emphasized"/>

                                                <Label text="2. Check File" />
                                                <Button width="200px" text="Analyze" press="onPressPOLERIZEStep1" type="Emphasized"/>

                                                <Label text="3. Choose Map" />
                                                <Select width="200px" id="POLERIZE-ExtractionType" >
                                                        <items>
                                                        </items>
                                                </Select>
                                                <Label text="4. POLERIZE" />
                                                <Button width="200px" text="Process" press="onPressPOLERIZEStep6b" type="Emphasized"/>
                                                </VBox>
                                                <VBox class="sapUiSmallMargin">
                                                <Text id="POLERIZE-FileName" text="File Summary:"/>
                                                <Text id="POLERIZE-FileSummary"/>
                                                </VBox>
                                        </HBox>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <Page id="SPFfile" title="Data Source Collection" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToISINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="SPFFORM"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Available Sources"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>


                                                {% if session.utype in AUTH['POL'] or session.utype in AUTH['USE'] %}
                                                <Label text="Crimes 2" />
                                                <Select id="SOURCE_SPF_CRIMES2" >
                                                        <items>
                                                        <core:Item text="Choose table"     key="NA"/>
                                                        <core:Item text="Offence Codes"    key="SPF_CRIMES2_C_OFFENCE_CODE"/>
                                                        <core:Item text="Offences"         key="SPF_CRIMES2_TB_OFFENCE"/>
                                                        <core:Item text="Connected Report" key="SPF_CRIMES2_TB_CONNECTED_REPORT"/>
                                                        <core:Item text="Person Bio"       key="SPF_CRIMES2_TB_PERSON_BIO"/>
                                                        <core:Item text="Cases"            key="SPF_CRIMES2_TEST_TB_CASE"/>
                                                        <core:Item text="Case Result"      key="SPF_CRIMES2_TB_CASE_PERSON_RESULT"/>
                                                        </items>
                                                </Select>
                                                <Label text="Otter" />
                                                <Select id="SOURCE_SPF_OTTER" >
                                                        <items>
                                                        <core:Item text="Choose table"     key="NA"/>
                                                        <core:Item text="Vehicle Info"     key="SPF_OTTER_VEHICLE_INFO"/>
                                                        <core:Item text="Telephone Info"   key="SPF_OTTER_PHONE"/>
                                                        </items>
                                                </Select>
                                                <Label text="PDS" />
                                                <Select id="SOURCE_SPF_PDS" >
                                                        <items>
                                                        <core:Item text="Choose table"     key="NA"/>
                                                        <core:Item text="Person Bio"       key="SPF_PDS_TB_NRIC_INFO"/>
                                                        <core:Item text="Person Cases"     key="SPF_PDS_TB_PERSON_VIEW"/>
                                                        </items>
                                                </Select>
                                                <Label text="FOCUS" />
                                                <Select id="SOURCE_SPF_FOCUS" >
                                                        <items>
                                                        <core:Item text="Choose table"     key="NA"/>
                                                        <core:Item text="Vehicle Info"     key="SPF_FOCUS_TB_IR_VEHICLE"/>
                                                        <core:Item text="Incident Info"    key="SPF_FOCUS_TB_IR_INCIDENT"/>
                                                        <core:Item text="Person Info"      key="SPF_FOCUS_TB_IR_PERSON_INVOLVED"/>
                                                        </items>
                                                </Select>

                                                <Button id="SPFCollect" text="Start Extraction" press="handleSPFExtraction" type="Emphasized"/>
                                                {% endif %}
                                                {% if session.utype in AUTH['POL2'] or session.utype in AUTH['USE'] %}
                                                <Label text="Police Reports" />
                                                <Select id="POLICE_REPORTS" >
                                                        <items>
                                                        <core:Item text="Choose table"  key="NA"/>
                                                        <core:Item text="Latest Calls"  key="INTAKE_REGISTRY"/>
                                                        </items>
                                                </Select>
                                                {% endif %}
                                                {% if session.utype in AUTH['HSS'] or session.utype in AUTH['USE'] %}

                                                <Label text="Social Services" />
                                                <Select id="SOCIAL_SERVICES" >
                                                        <items>
                                                        <core:Item text="Choose table"     key="NA"/>
                                                        <core:Item text="Intake registry"  key="INTAKE_REGISTRY"/>
                                                        </items>
                                                </Select>
                                                <Label text="Emergency Health" />
                                                <Select id="HEALTH_SERVICES" >
                                                        <items>
                                                        <core:Item text="Choose table"  key="NA"/>
                                                        <core:Item text="Latest Calls"  key="INTAKE_REGISTRY"/>
                                                        </items>
                                                </Select>
                                                <Button id="HSSCollect" text="Start Extraction" press="handleHSSExtraction" type="Emphasized"/>
                                                {% endif %}

                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <Page id="POLERMap" title="Data Source Mapping" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToISINT">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="MAPPINGFORM"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Mapping Menu"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                        <IconTabBar
                                                headerMode="Inline"
                                                upperCase="false"
                                                class="sapUiResponsiveContentPadding">
                                        <items>
                                                <IconTabFilter
                                                        text="1.Get file"
                                                        icon="sap-icon://add-document">
                                                        <Text text="Upload a data file containing master and transactional data. The tables should have keys common
                                                        to the various entities you want to create. For example, a person should have a reference in the master data
                                                        that matches a key in the transactional table. The headers from the file will be rendered below. In the next
                                                        step you will build the POLE entities from the table."/>
                                                        <Button width="12rem" text="Upload File" type="Accept" press="onPressMapSingleFile"></Button>
                                                        <Button width="12rem" text="Scan File" type="Accept" press="onPressPOLERIZEStep1"></Button>
                                                        <VBox class="sapUiSmallMargin">
                                                                <Table id="POLERIZE-AttributeTable" inset="false">
                                                                <headerToolbar>
                                                                        <Toolbar>
                                                                                <content>
                                                                                        <Title text="Data Source Attributes" level="H2"/>
                                                                                </content>
                                                                        </Toolbar>
                                                                </headerToolbar>
                                                                <columns>
                                                                        <Column width="15%">
                                                                                <Text text="Source"/>
                                                                        </Column>
                                                                        <Column width="25%">
                                                                                <Text text="Attribute"/>
                                                                        </Column>
                                                                        <Column>
                                                                                <Text text="Sample"/>
                                                                        </Column>
                                                                </columns>
                                                                <items>
                                                                        <ColumnListItem>
                                                                                <cells>
                                                                                </cells>
                                                                        </ColumnListItem>
                                                                </items>
                                                                </Table>
                                                        </VBox>
                                                </IconTabFilter>
                                                <IconTabFilter
                                                        text="2.Set POLE"
                                                        icon="sap-icon://provision">
                                                        <Text text="Create Persons, Objects, Locations, and Events that represent the meta data of the file you uploaded.
                                                        You will use the source file's columns as attributes and assign them to POLE entities next in step 3. If you have
                                                        multiple Objects or any other type of entity, name them like ReferenceForm and ContactForm to keep track of them when
                                                        you build relationships among them in step 4."/>
                                                        <HBox class="sapUiSmallMargin">
                                                                <VBox class="sapUiSmallMargin">
                                                                <Label text="Entity type" />
                                                                <Select id="POLERIZE-EntityType" >
                                                                        <items>
                                                                                <core:Item text="Person"   key="Person"/>
                                                                                <core:Item text="Object"   key="Object"/>
                                                                                <core:Item text="Location" key="Location"/>
                                                                                <core:Item text="Event"    key="Event"/>
                                                                        </items>
                                                                </Select>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Entity Name" />
                                                                        <Input
                                                                                id="POLERIZE-EntityName"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                </VBox>
                                                        </HBox>
                                                        <Button width="12rem" text="Create Entity" type="Accept" press="onPressPOLERIZEStep2"></Button>
                                                        <Table id="POLERIZE-EntityTable" inset="false">
                                                                <headerToolbar>
                                                                        <Toolbar>
                                                                                <content>
                                                                                        <Title text="Meta Entities" level="H2"/>
                                                                                </content>
                                                                        </Toolbar>
                                                                </headerToolbar>
                                                                <columns>
                                                                        <Column width="10%">
                                                                                <Text text="Type"/>
                                                                        </Column>
                                                                        <Column width="15%">
                                                                                <Text text="Name"/>
                                                                        </Column>
                                                                        <Column>
                                                                                <Text text="Attributes"/>
                                                                        </Column>
                                                                </columns>
                                                                <items>
                                                                        <ColumnListItem>
                                                                                <cells>
                                                                                </cells>
                                                                        </ColumnListItem>
                                                                </items>
                                                                </Table>
                                                </IconTabFilter>
                                                <IconTabFilter
                                                        text="3.Attributes"
                                                        icon="sap-icon://tags">
                                                        <Text text="Assign attributes from Step 1 to each of the POLE entities created in step 2. This is where you can assign
                                                        calculations based on multiple column values in any given row. For example, if a transactional file contains classification
                                                        codes representing an entity's state, a rule based calculation could be assigned as an entity's attribute extracted from the row."/>
                                                        <HBox class="sapUiSmallMargin">
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Select Entity" />
                                                                        <Select id="POLERIZE-Entity" >
                                                                                <items>
                                                                                </items>
                                                                        </Select>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Entity Attributes" />
                                                                        <Select id="POLERIZE-EntityAttribute" >
                                                                                <items>
                                                                                </items>
                                                                        </Select>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Data Source Attributes" />
                                                                        <Select id="POLERIZE-Attributes" >
                                                                                <items>
                                                                                </items>
                                                                        </Select>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Custom Value or Rule" />
                                                                        <Input
                                                                                id="POLERIZE-CustomAttribute"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                </VBox>
                                                        </HBox>
                                                        <Button width="12rem" text="Choose Entity" type="Accept" press="onPressLoadEntityAttributes"></Button>
                                                        <Button width="12rem" text="Map Attribute" type="Accept" press="onPressPOLERIZEStep3"></Button>
                                                        <Table id="POLERIZE-EntityTableProgress" inset="false">
                                                                <headerToolbar>
                                                                        <Toolbar>
                                                                                <content>
                                                                                        <Title text="Meta Entities" level="H2"/>
                                                                                </content>
                                                                        </Toolbar>
                                                                </headerToolbar>
                                                                <columns>
                                                                        <Column width="10%">
                                                                                <Text text="Type"/>
                                                                        </Column>
                                                                        <Column width="15%">
                                                                                <Text text="Name"/>
                                                                        </Column>
                                                                        <Column>
                                                                                <Text text="Attributes"/>
                                                                        </Column>
                                                                </columns>
                                                                <items>
                                                                        <ColumnListItem>
                                                                                <cells>
                                                                                </cells>
                                                                        </ColumnListItem>
                                                                </items>
                                                                </Table>
                                                </IconTabFilter>
                                                <IconTabFilter
                                                        text="4.Relations"
                                                        icon="sap-icon://overview-chart">
                                                        <Text text="Create relationships between entities in the same row of a transactional file. For example, if a row contains a
                                                        date, location, and person reference then relationships such as OccurredAt, OccurredOn, and Involved could be assigned. Choose
                                                        from existing sets or add new defintions."/>
                                                        <HBox class="sapUiSmallMargin">
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Source Entity" />
                                                                        <Select id="POLERIZE-SourceEntity" >
                                                                                <items>
                                                                                </items>
                                                                        </Select>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Relationship Type" />
                                                                        <Select id="POLERIZE-RelationshipType" >
                                                                                <items>
                                                                                </items>
                                                                        </Select>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Custom Relationship Type" />
                                                                        <Input
                                                                                id="POLERIZE-CustomRelationshipType"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                        <Label text="Target Entity" />
                                                                        <Select id="POLERIZE-TargetEntity" >
                                                                                <items>
                                                                                </items>
                                                                        </Select>
                                                                </VBox>
                                                        </HBox>
                                                        <Button width="12rem" text="Map Relationship" type="Accept" press="onPressPOLERIZEStep4"></Button>

                                                        <Table id="POLERIZE-MetaRelations" inset="false">
                                                                <headerToolbar>
                                                                        <Toolbar>
                                                                                <content>
                                                                                        <Title text="Meta Relations" level="H2"/>
                                                                                </content>
                                                                        </Toolbar>
                                                                </headerToolbar>
                                                                <columns>
                                                                        <Column width="10%">
                                                                                <Text text="Source"/>
                                                                        </Column>
                                                                        <Column width="15%">
                                                                                <Text text="Target"/>
                                                                        </Column>
                                                                        <Column>
                                                                                <Text text="Type"/>
                                                                        </Column>
                                                                </columns>
                                                                <items>
                                                                        <ColumnListItem>
                                                                                <cells>
                                                                                </cells>
                                                                        </ColumnListItem>
                                                                </items>
                                                                </Table>
                                                </IconTabFilter>
                                                <IconTabFilter
                                                        text="5.Create Map"
                                                        icon="sap-icon://map-3">
                                                        <Text text="Save the map to the application for immediate use on the source file and create the rule for future files by naming
                                                        convention. For example, if this is Social Services contact center file from organization 1 of 10 centers, it should be called, SocialServicesCenter1.
                                                        Subsequent files from this center would be extracted using this map."/>
                                                        <Label text="Enter Map Name" />
                                                                <Input
                                                                        id="POLERIZE-MapName"
                                                                        class="sapUiSmallMarginBottom"
                                                                        >
                                                                </Input>
                                                        <Button width="12rem" text="Create Map" type="Accept" press="onPressPOLERIZEStep5"></Button>
                                                </IconTabFilter>
                                                <IconTabFilter
                                                        text="POLERIZE"
                                                        icon="sap-icon://process">
                                                        <Text text="Choose a staged file and apply a POLE map to run extraction."/>
                                                        <HBox class="sapUiSmallMargin">
                                                                <VBox class="sapUiSmallMargin">
                                                                <Label text="Available Files" />
                                                                <Select id="POLERIZE-Files" >
                                                                        <items>
                                                                        </items>
                                                                </Select>
                                                                </VBox>
                                                                <VBox class="sapUiSmallMargin">
                                                                <Label text="POLER Maps" />
                                                                <Select id="POLERIZE-Maps" >
                                                                        <items>
                                                                        </items>
                                                                </Select>
                                                                </VBox>
                                                        </HBox>
                                                        <Button width="12rem" text="Run Process" type="Accept" press="onPressPOLERIZEStep6"></Button>
                                                </IconTabFilter>
                                        </items>
                                        </IconTabBar>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="CollectISINT" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Map Source"   type="Navigation" press="onPressNavToMapDataSource"/>
                                                        <StandardListItem title="Load Files"   type="Navigation" press="onPressNavToIfile"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>
<!--DETECT TEXT VIEW-->
<script id="vDtext" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form">
        <SplitApp id="SplitAppDemo" initialDetail="Dtext" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                        <Page id="Dtext" title="Text Analytics" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToDetectText">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMTXT"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Extraction Summary"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Enter text" />
                                                <Input
                                                        id="dtext"
                                                        class="sapUiSmallMarginBottom"
                                                        >
                                                </Input>
                                                <Button id="PUBbutton" text="Core Extraction" press="onPressPublicSector" type="Emphasized"/>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                <IconTabBar
                                        id="text"
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                <items>
                                        <IconTabFilter
                                                text="People"
                                                icon="sap-icon://person-placeholder">
                                                <List id="taRelatedPersons" inset="false">
                                                        <items>
                                                        </items>
                                                </List>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Objects"
                                                icon="sap-icon://product">
                                                <List id="taRelatedObjects" inset="false">
                                                        <items>
                                                        </items>
                                                </List>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Locations"
                                                icon="sap-icon://geographic-bubble-chart">
                                                <List id="taRelatedLocations" inset="false">
                                                        <items>
                                                        </items>
                                                </List>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Events"
                                                icon="sap-icon://calendar">
                                                <List id="taRelatedEvents" inset="false">
                                                        <items>
                                                        </items>
                                                </List>
                                        </IconTabFilter>
                                </items>
                                </IconTabBar>

                        </Page>
                        <!--PROFILE PAGE-->
                        <Page id="ProfilesfromTA" title="Entity Profiles" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToAnalyzeProfiles">
                                <VBox class="sapUiSmallMargin">
                                <Text id="ProfileGUIDfromTA" text="ID" />
                                <Text id="ProfileDescriptionfromTA" text="Profile Description" />

                                </VBox>
                                <IconTabBar
                                        id="RelatedEntitiesIconsfromTA"
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                <items>
                                        <IconTabFilter
                                                text="People"
                                                icon="sap-icon://person-placeholder">
                                                <Table id="RelatedPersonsfromTA" inset="false">
                                                        <columns>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="First"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Last"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Birthday"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Place of birth"/>
                                                                </Column>
                                                                <Column
                                                                        width="10%">
                                                                        <Text text="Gender"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Objects"
                                                icon="sap-icon://product">
                                                <Table id="RelatedObjectsfromTA" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Category"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 2"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 3"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Locations"
                                                icon="sap-icon://geographic-bubble-chart">
                                                <Table id="RelatedLocationsfromTA" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Latitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Longitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Other"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Events"
                                                icon="sap-icon://calendar">
                                                <Table id="RelatedEventsfromTA" inset="false">
                                                <columns>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Type"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Category"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Description"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Date"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Relation"/>
                                                        </Column>
                                                </columns>
                                                <items>
                                                        <ColumnListItem>
                                                                <cells>
                                                                </cells>
                                                        </ColumnListItem>
                                                </items>
                                                </Table>
                                        </IconTabFilter>
                                        {% if session.utype in AUTH['USE'] %}
                                        <IconTabFilter
                                                text="Reports"
                                                icon="sap-icon://bar-chart">

                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Edit Attributes"
                                                icon="sap-icon://action-settings">
                                                <f:SimpleForm id="ENTITYUPDATEFORMfromTA"
                                                                editable="true"
                                                                layout="ResponsiveGridLayout"
                                                                labelSpanXL="4"
                                                                labelSpanL="4"
                                                                labelSpanM="4"
                                                                labelSpanS="12"
                                                                adjustLabelSpan="false"
                                                                emptySpanXL="1"
                                                                emptySpanL="1"
                                                                emptySpanM="1"
                                                                emptySpanS="0"
                                                                columnsXL="1"
                                                                columnsL="1"
                                                                columnsM="1"
                                                                singleContainerFullSize="false"
                                                        >
                                                        <f:content>
                                                        <VBox>
                                                        <Text id="EditEntityTypeLabelfromTA" text="Type/Gender" />
                                                        <Text id="EditEntityCategoryLabelfromTA" text="Category" />
                                                        <Text id="EditEntityDescriptionLabelfromTA" text="Description" />
                                                        <Text id="EditEntityClass1LabelfromTA" text="Classification 1/FName" />
                                                        <Text id="EditEntityClass2LabelfromTA" text="Classification 2/LName" />
                                                        </VBox>
                                                        <VBox>
                                                        <Input
                                                                id="EditEntityTypefromTA"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Type or Gender"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityCategoryfromTA"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Category or NA for Person"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityDescriptionfromTA"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Description"
                                                                >
                                                        </Input>

                                                        <Input
                                                                id="EditEntityClass1fromTA"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Classification1 or First Name"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityClass2fromTA"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Classification2 or Last Name"
                                                                >
                                                        </Input>
                                                        </VBox>
                                                        </f:content>
                                                </f:SimpleForm>
                                                <VBox class="sapUiSmallMargin">
                                                <Button id="UpdatePersonButton" text="Update Entity" press="onPressUpdateEntity" type="Accept"/>
                                                <Button id="DeletePersonButton" text="Delete Entity" press="onPressDeleteEntity" type="Reject"/>
                                                </VBox>
                                        </IconTabFilter>
                                        {% endif %}
                                </items>
                                </IconTabBar>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="DetectText" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Enter Text"    type="Navigation" press="onPressNavToEnterText"/>
                                                        <StandardListItem title="Extractions"   type="Navigation" press="onPressListTAruns"/>
                                                </items>
                                        </List>
                                        <List id="TArunProfileList">
                                                <items>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>

<!--DETECT PATTERNS VIEW-->
<script id="vDpatterns" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form">
        <SplitApp id="SplitAppDemo" initialDetail="Dpatterns" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <!--COLLECT FILE-->
                        <Page id="Dpatterns" title="Machine Learning" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToDetectPatterns">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMMLP"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Open a new model or experiment."
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Enter text" />
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                        <Page id="VulnerableChildren" title="Vulnerable Children" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToDetectPatterns">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMMLVULCHI"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Adjust risk measure"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Adjust proximity to change prioritization list" class="sapUiMediumMarginBottom"/>
                                                <RangeSlider    id="VulChildrenReCalc"
                                                                showAdvancedTooltip="true"
                                                                min="1" max="12"
                                                                width="80%"
                                                                enableTickmarks="true"
                                                                range="1,12"
                                                                />
                                                <Button width="12rem" text="Adjust" type="Emphasized" press="onVulChildrenReCalc"></Button>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMMLVULCHIProfile"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Vulnerable person profile"
                                        >
                                        <f:content>
                                        <Text id="VPChildProfileDescription" text="Profile Description" />
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                <IconTabBar
                                        id="text"
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                <items>
                                        <IconTabFilter
                                                text="People"
                                                icon="sap-icon://person-placeholder">
                                                <Table id="VPchildRelatedPersons" inset="false">
                                                        <columns>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="First"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Last"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Birthday"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Place of birth"/>
                                                                </Column>
                                                                <Column
                                                                        width="10%">
                                                                        <Text text="Gender"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Objects"
                                                icon="sap-icon://product">
                                                <Table id="VPchildRelatedObjects" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Category"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 2"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 3"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Locations"
                                                icon="sap-icon://geographic-bubble-chart">
                                                <Table id="VPchildRelatedLocations" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Latitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Longitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Other"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Events"
                                                icon="sap-icon://calendar">
                                                <Table id="VPchildRelatedEvents" inset="false">
                                                <columns>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Type"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Category"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Description"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Date"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Relation"/>
                                                        </Column>
                                                </columns>
                                                <items>
                                                        <ColumnListItem>
                                                                <cells>
                                                                </cells>
                                                        </ColumnListItem>
                                                </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Risks"
                                                icon="sap-icon://alert">
                                                <List id="VPchildRelatedRisks" inset="false">
                                                        <items>
                                                        </items>
                                                </List>
                                        </IconTabFilter>
                                </items>
                                </IconTabBar>
                        </Page>
                        <!--VULNERABLEADULTS-->
                        <Page id="VulnerableAdults" title="Vulnerable Adults" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToDetectPatterns">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMMLVULADU"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Adjust risk measure"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                                <Label text="Adjust Rules" class="sapUiMediumMarginBottom"/>
                                                <Select id="VulAdultRiskCategory" >
                                                        <items>
                                                                <core:Item text="Trending visits"      key="Imminent"/>
                                                                <core:Item text="MOSAIC category"      key="High"/>
                                                                <core:Item text="Age"                  key="Medium"/>
                                                                <core:Item text="Children"             key="Low"/>
                                                                <core:Item text="Income"               key="Low"/>
                                                        </items>
                                                </Select>
                                                <Button width="12rem" text="Adjust" type="Emphasized" press="onVulAdultsReCalc"></Button>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMMLVULADUProfile"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Vulnerable person profile"
                                        >
                                        <f:content>
                                        <Text id="VPAdultProfileDescription" text="Profile Description" />
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                                <IconTabBar
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                <items>
                                        <IconTabFilter
                                                text="People"
                                                icon="sap-icon://person-placeholder">
                                                <Table id="VPadultRelatedPersons" inset="false">
                                                        <columns>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="First"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Last"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Birthday"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Place of birth"/>
                                                                </Column>
                                                                <Column
                                                                        width="10%">
                                                                        <Text text="Gender"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Objects"
                                                icon="sap-icon://product">
                                                <Table id="VPadultRelatedObjects" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Category"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 2"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 3"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Locations"
                                                icon="sap-icon://geographic-bubble-chart">
                                                <Table id="VPadultRelatedLocations" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Latitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Longitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Other"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Events"
                                                icon="sap-icon://calendar">
                                                <Table id="VPadultRelatedEvents" inset="false">
                                                <columns>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Type"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Category"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Description"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Date"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Relation"/>
                                                        </Column>
                                                </columns>
                                                <items>
                                                        <ColumnListItem>
                                                                <cells>
                                                                </cells>
                                                        </ColumnListItem>
                                                </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Risks"
                                                icon="sap-icon://alert">
                                                <List id="VPadultRelatedRisks" inset="false">
                                                        <items>
                                                        </items>
                                                </List>
                                        </IconTabFilter>
                                </items>
                                </IconTabBar>
                        </Page>
                        <!--PROFILE PAGE VP-->
                        <Page id="ProfilesfromVPChild" title="Entity Profiles" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToAnalyzeProfiles">
                                <VBox class="sapUiSmallMargin">
                                <Text id="ProfileGUIDfromVPChild" text="ID" />
                                <Text id="ProfileDescriptionfromVPChild" text="Profile Description" />

                                </VBox>
                                <IconTabBar
                                        id="RelatedEntitiesIconsfromVPChild"
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                <items>
                                        <IconTabFilter
                                                text="People"
                                                icon="sap-icon://person-placeholder">
                                                <Table id="RelatedPersonsfromVPChild" inset="false">
                                                        <columns>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="First"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Last"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Birthday"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Place of birth"/>
                                                                </Column>
                                                                <Column
                                                                        width="10%">
                                                                        <Text text="Gender"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Objects"
                                                icon="sap-icon://product">
                                                <Table id="RelatedObjectsfromVPChild" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Category"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 2"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 3"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Locations"
                                                icon="sap-icon://geographic-bubble-chart">
                                                <Table id="RelatedLocationsfromVPChild" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Latitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Longitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Other"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Events"
                                                icon="sap-icon://calendar">
                                                <Table id="RelatedEventsfromVPChild" inset="false">
                                                <columns>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Type"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Category"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Description"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Date"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Relation"/>
                                                        </Column>
                                                </columns>
                                                <items>
                                                        <ColumnListItem>
                                                                <cells>
                                                                </cells>
                                                        </ColumnListItem>
                                                </items>
                                                </Table>
                                        </IconTabFilter>
                                        {% if session.utype in AUTH['USE'] %}
                                        <IconTabFilter
                                                text="Reports"
                                                icon="sap-icon://bar-chart">

                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Edit Attributes"
                                                icon="sap-icon://action-settings">
                                                <f:SimpleForm id="ENTITYUPDATEFORMfromVPChild"
                                                                editable="true"
                                                                layout="ResponsiveGridLayout"
                                                                labelSpanXL="4"
                                                                labelSpanL="4"
                                                                labelSpanM="4"
                                                                labelSpanS="12"
                                                                adjustLabelSpan="false"
                                                                emptySpanXL="1"
                                                                emptySpanL="1"
                                                                emptySpanM="1"
                                                                emptySpanS="0"
                                                                columnsXL="1"
                                                                columnsL="1"
                                                                columnsM="1"
                                                                singleContainerFullSize="false"
                                                        >
                                                        <f:content>
                                                        <VBox>
                                                        <Text id="EditEntityTypeLabelfromVPChild" text="Type/Gender" />
                                                        <Text id="EditEntityCategoryLabelfromVPChild" text="Category" />
                                                        <Text id="EditEntityDescriptionLabelfromVPChild" text="Description" />
                                                        <Text id="EditEntityClass1LabelfromVPChild" text="Classification 1/FName" />
                                                        <Text id="EditEntityClass2LabelfromVPChild" text="Classification 2/LName" />
                                                        </VBox>
                                                        <VBox>
                                                        <Input
                                                                id="EditEntityTypefromVPChild"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Type or Gender"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityCategoryfromVPChild"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Category or NA for Person"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityDescriptionfromVPChild"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Description"
                                                                >
                                                        </Input>

                                                        <Input
                                                                id="EditEntityClass1fromVPChild"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Classification1 or First Name"
                                                                >
                                                        </Input>
                                                        <Input
                                                                id="EditEntityClass2fromVPChild"
                                                                class="sapUiSmallMarginBottom"
                                                                placeholder="Classification2 or Last Name"
                                                                >
                                                        </Input>
                                                        </VBox>
                                                        </f:content>
                                                </f:SimpleForm>
                                                <VBox class="sapUiSmallMargin">
                                                <Button id="UpdatePersonButton" text="Update Entity" press="onPressUpdateEntity" type="Accept"/>
                                                <Button id="DeletePersonButton" text="Delete Entity" press="onPressDeleteEntity" type="Reject"/>
                                                </VBox>
                                        </IconTabFilter>
                                        {% endif %}
                                </items>
                                </IconTabBar>
                        </Page>
                        <Page id="FakeNewsMonitor" title="Monitor Workbench" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Enter Text"    type="Navigation" press="onPressNavToEnterText"/>
                                                        <StandardListItem title="Extractions"   type="Navigation" press="onPressListTAruns"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                        <Page id="PhotoFaceMatching" title="Photo Matching" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Upload Photos" type="Navigation" press="onPressFileUploader"/>
                                                        <StandardListItem title="Process Photos" type="Navigation" press="onPressProcessPhotos"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="DetectPatterns" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Vulnerable Children"   type="Navigation" press="onPressListVulnerableChildren"/>
                                                        <StandardListItem title="Vulnerable Adults"     type="Navigation" press="onPressListVulnerableAdults"/>
                                                        <StandardListItem title="Photo Face Matching"   type="Navigation" press="onPressMLPhotoFaceMatching"/>
                                                        {% if session.utype in AUTH['CF'] %}
                                                        <StandardListItem title="Fake News Monitor"     type="Navigation" press="onPressFakeNewsMonitor"/>
                                                        {% endif %}
                                                </items>
                                        </List>
                                        <List id="DetectPatternItems">
                                                <items>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>
<!--REGISTER VIEW-->
<script id="vRegister" type="ui5/xmlview">
  <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form">
    <SplitApp id="SplitAppDemo" initialDetail="pUserSettings" initialMaster="master" orientationChange="onOrientationChange">
                <detailPages>
                <Page title="Register User" id="Register" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToUserAdministration">
                        <content>
                                <VBox fitContainer="true" justifyContent="Center" alignItems="Center" alignContent="Center">
                                        <items>
                                                <Input id="username" placeholder="Username"></Input>
                                                <Input id="password" placeholder="Password" type="Password"></Input>
                                                <Input id="email" placeholder="Email@provider.com" ></Input>
                                                <Input id="tel" placeholder="Telephone"></Input>
                                                <Input id="image" placeholder="Image"></Input>
                                                <Input id="location" placeholder="Location"></Input>
                                                <Label text="User Type:" />
                                                <Select id="utype" >
                                                <items>
                                                        <core:Item text="Admin"               key="Admin"/>
                                                        <core:Item text="Data Analyst"        key="Analyst"/>
                                                        <core:Item text="Field Operations"    key="Field"/>
                                                        <core:Item text="Manager"             key="Manager"/>
                                                        <core:Item text="Director"            key="Director"/>
                                                        <core:Item text="Health"              key="Health"/>
                                                        <core:Item text="Social"              key="Social"/>
                                                </items>
                                                </Select>

                                                <Button width="12rem" text="Register" type="Emphasized" press="onRegisterTap"></Button>
                                        </items>
                                </VBox>
                        </content>
                        <footer >
                                <Bar>
                                        <contentLeft>

                                        </contentLeft>
                                        <contentRight>

                                        </contentRight>
                                </Bar>
                        </footer>
                </Page>
                <Page title="Stored Procedures" id="StoredProcedures" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToUserAdministration">
                        <content>
                                <VBox fitContainer="true" justifyContent="Center" alignItems="Center" alignContent="Center">
                                <Label text="POLE specific data loads" />
                                <Select id="StoredProcedureType" >
                                        <items>
                                                <core:Item text="People"       key="People"/>
                                                <core:Item text="Locations"    key="Locations"/>
                                                <core:Item text="Full SPF"     key="SPF"/>
                                                <core:Item text="System reset" key="Reset"/>
                                        </items>
                                </Select>
                                <Button width="12rem" text="Start" type="Emphasized" press="onStoredProcedureStart"></Button>
                                </VBox>
                        </content>
                </Page>
                <Page id="pUserSettings" title="User Profile" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToUserAdministration">
                                <VBox class="sapUiSmallMargin">
                                <Text id="UserSettingsDetail" text="Profile Description" />
                                </VBox>
                                <IconTabBar
                                        id="UserSettingsTabContainer"
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                        <items>
                                        <IconTabFilter
                                                text="Activities"
                                                icon="sap-icon://workflow-tasks">
                                                        <List id="UserActivitiesTable" inset="false">
                                                                <items>
                                                                </items>
                                                        </List>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Tasks"
                                                icon="sap-icon://task">
                                                        <List id="UserTasksTable" inset="false">
                                                                <items>
                                                                </items>
                                                        </List>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Edit profile"
                                                icon="sap-icon://edit">
                                                        <VBox class="sapUiSmallMargin">
                                                                <f:SimpleForm id="USERUPDATEFORM"
                                                                        editable="true"
                                                                        layout="ResponsiveGridLayout"
                                                                        labelSpanXL="4"
                                                                        labelSpanL="4"
                                                                        labelSpanM="4"
                                                                        labelSpanS="12"
                                                                        adjustLabelSpan="false"
                                                                        emptySpanXL="1"
                                                                        emptySpanL="1"
                                                                        emptySpanM="1"
                                                                        emptySpanS="0"
                                                                        columnsXL="1"
                                                                        columnsL="1"
                                                                        columnsM="1"
                                                                        singleContainerFullSize="false"
                                                                >
                                                                <f:content>
                                                                <VBox class="sapUiSmallMargin">
                                                                <Label text="Updating user " />
                                                                <Text id="UserIDUpdate" text="Profile ID" />
                                                                <Text id="UserNameUpdate" text="Profile Name" />
                                                                </VBox>
                                                                        <Label text="Email" />
                                                                        <Input
                                                                                id="User_Email_change"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Label text="Phone" />
                                                                        <Input
                                                                                id="User_Phone_change"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Label text="Password" />
                                                                        <Input
                                                                                id="User_Password_change"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Label text="Role" />
                                                                        <Select id="UserROLEupdate" >
                                                                                <items>
                                                                                        <core:Item text="Admin"          key="Admin"/>
                                                                                        <core:Item text="Data Analyst"   key="Data Analyst"/>
                                                                                        <core:Item text="Director"       key="Director"/>
                                                                                        <core:Item text="Field"          key="Field"/>
                                                                                        <core:Item text="Health"         key="Health"/>
                                                                                        <core:Item text="Manager"        key="Manager"/>
                                                                                        <core:Item text="Social"         key="Social"/>
                                                                                </items>
                                                                        </Select>
                                                                        <Label text="Authorizations" />
                                                                        <Input
                                                                                id="User_Auth_change"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Button id="UpdatePersonButton" text="Update User" press="onPressUpdateUser" type="Accept"/>
                                                                        <Button id="DeletePersonButton" text="Delete User" press="onPressDeleteUser" type="Reject"/>
                                                                </f:content>
                                                                </f:SimpleForm>
                                                        </VBox>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Add Tokens"
                                                icon="sap-icon://key">
                                                        <VBox class="sapUiSmallMargin">
                                                                <f:SimpleForm id="USERTOKENS"
                                                                        editable="true"
                                                                        layout="ResponsiveGridLayout"
                                                                        labelSpanXL="4"
                                                                        labelSpanL="4"
                                                                        labelSpanM="4"
                                                                        labelSpanS="12"
                                                                        adjustLabelSpan="false"
                                                                        emptySpanXL="1"
                                                                        emptySpanL="1"
                                                                        emptySpanM="1"
                                                                        emptySpanS="0"
                                                                        columnsXL="1"
                                                                        columnsL="1"
                                                                        columnsM="1"
                                                                        singleContainerFullSize="false"
                                                                >
                                                                <f:content>
                                                                        <Label text="Token Type" />
                                                                        <Select id="UserTokenType" >
                                                                                <items>
                                                                                        <core:Item text="Twitter"        key="twitter"/>
                                                                                        <core:Item text="YouTube"        key="youtube"/>
                                                                                        <core:Item text="Facebook"       key="facebook"/>
                                                                                </items>
                                                                        </Select>
                                                                        <Label text="Client key or Email" />
                                                                        <Input
                                                                                id="UserClientKey"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Label text="Client secret or Password" />
                                                                        <Input
                                                                                id="UserClientSecret"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Label text="Token" />
                                                                        <Input
                                                                                id="UserToken"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Label text="Token secret" />
                                                                        <Input
                                                                                id="UserTokenSecret"
                                                                                class="sapUiSmallMarginBottom"
                                                                                >
                                                                        </Input>
                                                                        <Button id="UpdateUserTokens" text="Add Tokens" press="onPressUpdateUserTokens" type="Emphasized"/>
                                                                </f:content>
                                                                </f:SimpleForm>
                                                        </VBox>
                                        </IconTabFilter>
                                        </items>
                                </IconTabBar>
                        </Page>

                        <Page id="useractivityProfiles" title="Entity Profiles" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToUserAdministration">
                                <VBox class="sapUiSmallMargin">
                                <Text id="uaProfileGUID" text="ID" />
                                <Text id="uaProfileDescription" text="Profile Description" />

                                </VBox>
                                <IconTabBar
                                        id="uaRelatedEntitiesIcons"
                                        headerMode="Inline"
                                        upperCase="false"
                                        class="sapUiResponsiveContentPadding">
                                <items>
                                        <IconTabFilter
                                                text="People"
                                                icon="sap-icon://person-placeholder">
                                                <Table id="uaRelatedPersons" inset="false">
                                                        <columns>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="First"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Last"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Birthday"/>
                                                                </Column>
                                                                <Column
                                                                        width="15%">
                                                                        <Text text="Place of birth"/>
                                                                </Column>
                                                                <Column
                                                                        width="10%">
                                                                        <Text text="Gender"/>
                                                                </Column>
                                                                <Column
                                                                        width="20%">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Objects"
                                                icon="sap-icon://product">
                                                <Table id="uaRelatedObjects" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Category"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 2"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 3"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Locations"
                                                icon="sap-icon://geographic-bubble-chart">
                                                <Table id="uaRelatedLocations" inset="false">
                                                        <columns>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Type"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Description"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Latitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Longitude"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Other"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Class 1"/>
                                                                </Column>
                                                                <Column
                                                                        minScreenWidth="Tablet">
                                                                        <Text text="Relation"/>
                                                                </Column>
                                                        </columns>
                                                        <items>
                                                                <ColumnListItem>
                                                                        <cells>
                                                                        </cells>
                                                                </ColumnListItem>
                                                        </items>
                                                </Table>
                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Events"
                                                icon="sap-icon://calendar">
                                                <Table id="uaRelatedEvents" inset="false">
                                                <columns>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Type"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Category"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Description"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Date"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Relation"/>
                                                        </Column>
                                                </columns>
                                                <items>
                                                        <ColumnListItem>
                                                                <cells>
                                                                </cells>
                                                        </ColumnListItem>
                                                </items>
                                                </Table>
                                        </IconTabFilter>
                                        {% if session.utype in AUTH['USE'] %}
                                        <IconTabFilter
                                                text="Reports"
                                                icon="sap-icon://bar-chart">

                                        </IconTabFilter>
                                        <IconTabFilter
                                                text="Attributes"
                                                icon="sap-icon://action-settings">
                                                <Table id="uaentity_settings" inset="false">
                                                <columns>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Type"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Category"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Description"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Date"/>
                                                        </Column>
                                                        <Column
                                                                minScreenWidth="Tablet">
                                                                <Text text="Relation"/>
                                                        </Column>
                                                </columns>
                                                <items>
                                                        <ColumnListItem>
                                                                <cells>
                                                                </cells>
                                                        </ColumnListItem>
                                                </items>
                                                </Table>
                                        </IconTabFilter>
                                        {% endif %}
                                </items>
                                </IconTabBar>
                        </Page>


                </detailPages>
                <masterPages>
                        <Page id="UserAdmin" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Register user"     type="Navigation" press="onPressNavToRegister"/>
                                                        <StandardListItem title="Stored procedures" type="Navigation" press="onPressNavToStoredProcedures"/>
                                                </items>
                                        </List>
                                        <StandardListItem title="List Users"  type="Navigation" press="onPressListUsers"/>
                                        <List id="UserProfiles">
                                                <items>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
  </mvc:View>
</script>
<!--LOGIN VIEW-->
<script id="vLogin" type="ui5/xmlview">
  <mvc:View
    controllerName="local.controller"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
    <App>
     <Page title="Collective Intelligence Login" id="Login">
                            <content>
                                    <VBox fitContainer="true" justifyContent="Center" alignItems="Center" alignContent="Center">
                                            <items>
                                                    <Input id="uid" placeholder="User ID"></Input>
                                                    <Input id="pasw" placeholder="Password" type="Password"></Input>
                                                    <Button width="12rem" text="Login" type="Emphasized" press="onLoginTap"></Button>
                                            </items>
                                    </VBox>
                            </content>
                            <footer >
                                    <Bar>
                                            <contentLeft>

                                            </contentLeft>
                                            <contentRight>

                                            </contentRight>
                                    </Bar>
                            </footer>
                    </Page>
        </App>
  </mvc:View>
</script>
<!--DASHBOARD VIEW-->
<script id="vDashboards" type="ui5/xmlview">
        <mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:core="sap.ui.core"
        xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        controllerName="sap.m.sample.SplitApp.C"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form"
        xmlns:viz="sap.viz.ui5.controls"
        xmlns:vk="sap.ui.vk"
        xmlns:vbm="sap.ui.vbm"
        height="100%" displayBlock="true"
        >
        <SplitApp id="SplitAppDemo" initialDetail="DashboardViews" initialMaster="DashboardLinks" orientationChange="onOrientationChange">
                <detailPages>
                <!--REQUIREMENTS-->
                        <Page id="DashboardViews" title="Dashboard views" class="sapUiStdPage" showNavButton="true"
                                navButtonText="Back" navButtonPress="onPressNavToDashboardLinks">
                                <VBox class="sapUiSmallMargin">
                                        <f:SimpleForm id="FORMDIR"
                                                editable="true"
                                                layout="ResponsiveGridLayout"
                                                title="Applications"
                                                labelSpanXL="4"
                                                labelSpanL="4"
                                                labelSpanM="4"
                                                labelSpanS="12"
                                                adjustLabelSpan="false"
                                                emptySpanXL="1"
                                                emptySpanL="1"
                                                emptySpanM="1"
                                                emptySpanS="0"
                                                columnsXL="1"
                                                columnsL="1"
                                                columnsM="1"
                                                singleContainerFullSize="false"
                                        >
                                        <f:content>
                                        </f:content>
                                        </f:SimpleForm>
                                </VBox>
                        </Page>
                </detailPages>
                <!---MAIN MENU OF OPTIONS-->
                <masterPages>
                        <Page id="DashboardLinks" title="Main Menu" icon="sap-icon://action" class="sapUiStdPage" showNavButton="true"
                                        navButtonText="Back" navButtonPress="onPressLaunchpadBack">
                                <content>
                                        <List>
                                                <items>
                                                        <StandardListItem title="Connections Discovery" type="Navigation" press="onPressNavToConDis"/>
                                                        <StandardListItem title="Investigative Case Management" type="Navigation" press="onPressNavToStrategies"/>
                                                        <StandardListItem title="Digital Boardroom" type="Navigation" press="onPressNavToRecents"/>
                                                </items>
                                        </List>
                                </content>
                        </Page>
                </masterPages>
        </SplitApp>
        </mvc:View>
</script>


<!--END VIEWS top of the JS-->
<script type="text/javascript">
//-------MainApp Controllers-------//
        sap.ui.define([
                        'jquery.sap.global',
                        'sap/m/MessageToast',
                        'sap/ui/core/Fragment',
                        'sap/ui/core/mvc/Controller',
                        'sap/ui/model/Filter',
                        'sap/ui/model/json/JSONModel',
                        "sap/ui/vbm/AnalyticMap",
                ], function(jQuery, MessageToast, Fragment, Controller, Filter, JSONModel, AnalyticMap, Device) {
                "use strict";


                window.globalVariable = jQuery.ajax({
                                        type : "POST",
                                        url : "/load_model",
                                        dataType : "json",
                                        async : false,
                                        success : function(response, textStatus, jqXHR) {
                                            var oModel = new sap.ui.model.json.JSONModel(response);
                                            sap.ui.getCore().setModel(oModel, "MENUS");
                                            console.log('MODEL:', oModel)
                                        }
                                });


                var CController = Controller.extend("sap.m.sample.SplitApp.C", {

                        onInit: function(){

                          var oDeviceModel = new JSONModel(Device);
                          oDeviceModel.setDefaultBindingMode("OneWay");
                          this.getView().setModel(oDeviceModel, "device");

                        },

                        onPressLogOut: function() {

                                var jsMENU = jQuery.ajax({
                                        type : "POST",
                                        url : "/logout",
                                        dataType : "json",
                                        async : true,
                                        success : function(response, textStatus, jqXHR) {
                                                MessageToast.show(response['message']);
                                                app.to("pLogin");
                                        }
                                });

                        },

                                        onPressLegend: function() {
                        if (this.byId("vbi").getLegendVisible() == true) {
                                this.byId("vbi").setLegendVisible(false);
                                this.byId("btnLegend").setTooltip("Show legend");
                        } else {
                                this.byId("vbi").setLegendVisible(true);
                                this.byId("btnLegend").setTooltip("Hide legend");
                        }
                        },

                        onPressResize: function() {
                                if (this.byId("btnResize").getTooltip() == "Minimize") {
                                        if (sap.ui.Device.system.phone) {
                                                this.byId("vbi").minimize(132, 56, 1320, 560);// Height: 3,5 rem; Width: 8,25 rem
                                        } else {
                                                this.byId("vbi").minimize(168, 72, 1680, 720);// Height: 4,5 rem; Width: 10,5 rem
                                        }
                                        this.byId("btnResize").setTooltip("Maximize");
                                } else {
                                        this.byId("vbi").maximize();
                                        this.byId("btnResize").setTooltip("Minimize");
                                }
                        },

                        onRegionClick: function(e) {
                                sap.m.MessageToast.show("onRegionClick " + e.getParameter("code"));
                        },

                        onRegionContextMenu: function(e) {
                                sap.m.MessageToast.show("onRegionContextMenu " + e.getParameter("code"));
                        },

                        onClickItem: function(evt) {
                                alert("onClick");
                        },

                        onContextMenuItem: function(evt) {
                                alert("onContextMenu");
                        },

                        onClickSpot: function(evt) {
                                alert("onClickSpot " + evt.getSource().getBindingContext().getProperty("tooltip"));
                        },

                        onContextMenuSpot: function(evt) {
                                alert("onContextMenuSpot " + evt.getSource().getBindingContext().getProperty("tooltip"));
                        },

                        onPressLaunchpadBack : function() {
                                MessageToast.show("To Launchpad.");
                                app.to("pLaunchpad");
                        },

                        onOrientationChange: function(oEvent) {
                                var bLandscapeOrientation = oEvent.getParameter("landscape"),
                                        sMsg = "Orientation now is: " + (bLandscapeOrientation ? "Landscape" : "Portrait");
                                MessageToast.show(sMsg, {duration: 5000});
                        },

                        //-----PIR APP CONTROLS------///
                        onPressNavToRequirements : function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Requirements"));
                                MessageToast.show("Requirements drive collection activities. Ensure they are aligned with strategies.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var DIRSTR = this.byId("DIRSTR");
                                DIRSTR.setModel(menuModel);
                                DIRSTR.bindAggregation("items", "/STR", oItemSelectTemplateA);

                                var DIRPIR = this.byId("DIRPIR");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oItemSelectTemplateA);

                                var DIRLOC = this.byId("DIRLOC");
                                DIRLOC.setModel(menuModel);
                                DIRLOC.bindAggregation("items", "/LOCATIONS", oItemSelectTemplateA);

                        },
                        onPressNavPIRAPP : function() {

                                var oThis = this;
                                var PIR = {}
                                PIR['CATEGORY']   = this.byId("DIRTYP").getSelectedItem().getKey();
                                PIR['DESC']       = this.byId("DIRREQ").getValue();
                                PIR['CLASS1']     = this.byId("DIRSTR").getSelectedItem().getKey();
                                PIR['CLASS2']     = this.byId("DIRPRI").getSelectedItem().getKey();
                                PIR['CLASS3']     = this.byId("DIRTAG").getValue();
                                PIR['Location']   = this.byId("DIRLOC").getSelectedItem().getKey();
                                PIR['References'] = this.byId("DIRPIR").getSelectedKeys();
                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_pir",
                                        dataType : "json",
                                        async : false,
                                        data : PIR,
                                        success : function(response, textStatus, jqXHR) {

                                            oThis.getView().byId("DIRREQ").setValue('');
                                            oThis.getView().byId("DIRTAG").setValue('');
                                            sap.ui.getCore().getModel("MENUS").getProperty("/PIR").push(response);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Entered PIR " + response['GUID']);
                                        }
                                });

                                this.getSplitAppObj().backDetail();

                                return oModel;

                        },

                        onPressNavToConDis : function(oEvent) {

                                window.open("https://sghana27.sin.sap.corp:51050/condis/index.html");

                        },



                        onPressNavToStrategies : function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Strategies"));

                                MessageToast.show("Strategies are formed around parent organization plans and high level directives.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var STRLOC = this.byId("STRLOC");
                                STRLOC.setModel(menuModel);
                                STRLOC.bindAggregation("items", "/LOCATIONS", oItemSelectTemplateA);

                        },
                        onPressNavSTRAPP : function() {
                                var oThis = this;
                                var STR = {}
                                STR['CATEGORY']   = this.byId("STRTYP").getSelectedItem().getKey();
                                STR['DESC']       = this.byId("STRDESC").getValue();
                                STR['CLASS1']     = this.byId("STRTIT").getValue();
                                STR['Location']   = this.byId("STRLOC").getSelectedKeys();
                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_strat",
                                        dataType : "json",
                                        async : false,
                                        data : STR,
                                        success : function(data,textStatus, jqXHR) {

                                            oThis.getView().byId("STRDESC").setValue('');
                                            oThis.getView().byId("STRTIT").setValue('');
                                            sap.ui.getCore().getModel("MENUS").getProperty("/STR").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Entered Strategy " + data['GUID']);
                                        }
                                });

                                this.getSplitAppObj().backDetail();

                        },

                        onPressNavToRecents : function(oEvent) {
                                this.getSplitAppObj().to(this.createId("RecentTasks"));
                                MessageToast.show("Profiles of recent activities");
                        },

                         //************PIR***********///

                         //-----TASK APP CONTROLS------///
                        onPressNavToTasks: function(oEvent, onPressNavToDetail) {

                                var oThis = this
                                oThis.getSplitAppObj().to(oThis.createId("Tasks"));
                                MessageToast.show("Tasks drive logistics activities that support collection in which special skills or tools are required.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var TASKED = this.byId("TASKED");
                                TASKED.setModel(menuModel);
                                TASKED.bindAggregation("items", "/USERS", oItemSelectTemplateA);

                                var RELPIR = this.byId("RELPIR");
                                RELPIR.setModel(menuModel);
                                RELPIR.bindAggregation("items", "/PIR", oItemSelectTemplateA);

                                var oRecentItemsTemplate = new sap.m.StandardListItem(
                                        {
                                                title : "{CLASS1}",
                                                info  : "{DESC}",
                                                description : "{GUID}",
                                                type  : "Navigation",
                                                press : function(oEvent){
                                                        var GUID = {'GUID' : this.getDescription()};
                                                        MessageToast.show("Loading " + GUID['GUID']);

                                                        var jsTASK = jQuery.ajax({
                                                                type : "POST",
                                                                url  : "/load_task_profile",
                                                                dataType : "json",
                                                                data : GUID,
                                                                async : false,
                                                                success: function(response, textStatus, jqXHR) {
                                                                    sap.ui.getCore().getModel("MENUS").getProperty("/Tprofile").splice(0,1)
                                                                    sap.ui.getCore().getModel("MENUS").getProperty("/Tprofile").push(response);
                                                                    sap.ui.getCore().getModel("MENUS").refresh();
                                                                }
                                                        });

                                                        var oTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{FROM}"}),
                                                                        new sap.m.Text({text : "{TO}"}),
                                                                        new sap.m.Text({text : "{STATUS}"}),
                                                                        ]
                                                        });

                                                        var TaskTable = oThis.byId("TaskTable");
                                                        TaskTable.setModel(menuModel);
                                                        TaskTable.bindAggregation("items", "/Tprofile", oTableTemplate);

                                                        oThis.getSplitAppObj().to(oThis.createId("RecentTasks"));

                                                }
                                        });

                                var TASKS = this.byId("RecentTasksList");
                                TASKS.setModel(menuModel);
                                TASKS.bindAggregation("items", "/TASKS", oRecentItemsTemplate);

                        },

                        onPressNavTSKAPP : function() {

                                var TSK = {}
                                TSK['DESC']   = this.byId("TSKSUB").getValue();
                                TSK['CLASS1'] = this.byId("TSKTYP").getSelectedItem().getKey();
                                TSK['CLASS2'] = this.byId("TASKED").getSelectedItem().getKey();
                                TSK['CLASS3'] = this.byId("TSKTAG").getValue();
                                TSK['ORIGIN'] = this.byId("RELPIR").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_task",
                                        dataType : "json",
                                        async : false,
                                        data : TSK,
                                        success : function(data,textStatus, jqXHR) {
                                            sap.ui.getCore().getModel("MENUS").getProperty("/TASKS").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Task entered");
                                        }
                                });

                        },

                        //************TASKS***********///

                         //-----ANALYZE APP CONTROLS------///

                        onPressNavToLocations: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Locations"));
                                MessageToast.show("Define a new location not currently in the inventory.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var lLOC = this.byId("lLOC");
                                lLOC.setModel(menuModel);
                                lLOC.bindAggregation("items", "/LOCATIONS", oItemSelectTemplateA);

                                //REFERENCE-PIR FOR TRACE
                                var pREFGUID = this.byId("LOC-searchReference");
                                pREFGUID.setModel(menuModel);
                                pREFGUID.bindAggregation("items", "/PIR", oItemSelectTemplateA);


                        },
                        onPressNavToEvents: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Events"));
                                MessageToast.show("Create a new event based on date and time.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                //REFERENCE-PIR FOR TRACE
                                var pREFGUID = this.byId("EVE-searchReference");
                                pREFGUID.setModel(menuModel);
                                pREFGUID.bindAggregation("items", "/PIR", oItemSelectTemplateA);

                                var eLOC = this.byId("eLOC");
                                eLOC.setModel(menuModel);
                                eLOC.bindAggregation("items", "/LOCATIONS", oItemSelectTemplateA);
                        },

                        // RELATIONS APP
                        onPressNavToRelations: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Relations"));
                                MessageToast.show("Create a link between two entities.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                //REFERENCE-PIR FOR TRACE
                                var pREFGUID = this.byId("REL-searchReference");
                                pREFGUID.setModel(menuModel);
                                pREFGUID.bindAggregation("items", "/PIR", oItemSelectTemplateA);

                                var pAGUID = this.byId("pAGUID");
                                pAGUID.setModel(menuModel);
                                pAGUID.bindAggregation("items", "/PERSONS", oItemSelectTemplateA);

                                var oAGUID = this.byId("oAGUID");
                                oAGUID.setModel(menuModel);
                                oAGUID.bindAggregation("items", "/OBJECTS", oItemSelectTemplateA);

                                var pBGUID = this.byId("pBGUID");
                                pBGUID.setModel(menuModel);
                                pBGUID.bindAggregation("items", "/PERSONS", oItemSelectTemplateA);

                                var oBGUID = this.byId("oBGUID");
                                oBGUID.setModel(menuModel);
                                oBGUID.bindAggregation("items", "/OBJECTS", oItemSelectTemplateA);

                        },

                        onPressNavADDREL : function() {

                                var REL = {}
                                REL['rDESC']     = this.byId("rDESC").getValue();
                                REL['pAGUID']     = this.byId("pAGUID").getSelectedItem().getKey();
                                REL['oAGUID']     = this.byId("oAGUID").getSelectedItem().getKey();
                                REL['AGUIDfree']  = this.byId("AGUIDfree").getValue();
                                REL['pBGUID']     = this.byId("pBGUID").getSelectedItem().getKey();
                                REL['oBGUID']     = this.byId("oBGUID").getSelectedItem().getKey();
                                REL['eBGUID']     = this.byId("eBGUID").getSelectedItem().getKey();
                                REL['BGUIDfree'] = this.byId("BGUIDfree").getValue();
                                REL['RELTYP']    = this.byId("RELTYP").getSelectedItem().getKey();
                                REL['PIRREF']     = this.byId("REL-searchReference").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_relation",
                                        dataType : "json",
                                        async : false,
                                        data : REL,
                                        success : function(data,textStatus, jqXHR) {
                                            oModel.setData({modelData : data});
                                            alert("success to post");
                                        }
                                });

                                MessageToast.show("Adding Relation...");
                                this.getSplitAppObj().backDetail();

                        },

                        //RESOLUTION APP
                        onPressNavToResolutions: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Resolutions"));
                                MessageToast.show("Resolve multiple instances into a single intelligence entity.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var AbGUID = this.byId("AbGUID");
                                AbGUID.setModel(menuModel);
                                AbGUID.bindAggregation("items", "/PERSONS", oItemSelectTemplateA);

                                var PGUID = this.byId("PGUID");
                                PGUID.setModel(menuModel);
                                PGUID.bindAggregation("items", "/PERSONS", oItemSelectTemplateA);

                                var OGUID = this.byId("OGUID");
                                OGUID.setModel(menuModel);
                                OGUID.bindAggregation("items", "/OBJECTS", oItemSelectTemplateA);


                        },

                        //PERSONS APP
                        onPressNavToPersons: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Persons"));
                                MessageToast.show("Enter basic personal information to create a new Person entity.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var pPOB = this.byId("pPOB");
                                pPOB.setModel(menuModel);
                                pPOB.bindAggregation("items", "/LOCATIONS", oItemSelectTemplateA);

                                //REFERENCE-PIR FOR TRACE
                                var pREFGUID = this.byId("PER-searchReference");
                                pREFGUID.setModel(menuModel);
                                pREFGUID.bindAggregation("items", "/PIR", oItemSelectTemplateA);

                        },

                        onPressNavADDPER : function() {

                                var PER = {}
                                PER['pFNAME']   = this.byId("pFNAME").getValue();
                                PER['pLNAME']   = this.byId("pLNAME").getValue();
                                PER['pGEN']     = this.byId("pGEN").getSelectedItem().getKey();
                                PER['pDOB']     = this.byId("pDOB").getValue();
                                PER['pPOB']     = this.byId("pPOB").getSelectedItem().getKey();
                                PER['pDESC']    = this.byId("pDESC").getValue();
                                PER['PIRREF']   = this.byId("PER-searchReference").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_person",
                                        dataType : "json",
                                        async : false,
                                        data : PER,
                                        success : function(data, textStatus, jqXHR) {
                                            sap.ui.getCore().getModel("MENUS").getProperty("/PERSONS").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Person with ID " + data['GUID'] + " entered.");
                                        }
                                });

                                //Message to say that person was not added if already existing.
                                this.getSplitAppObj().backDetail();

                        },
                        //OBJECTS APP
                        onPressNavToObjects: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Objects"));
                                MessageToast.show("Enter details to create a new intelligence Object.");

                                var oItemSelectTemplateA = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oLOC = this.byId("oLOC");
                                oLOC.setModel(menuModel);
                                oLOC.bindAggregation("items", "/LOCATIONS", oItemSelectTemplateA);

                                //REFERENCE-PIR FOR TRACE
                                var pREFGUID = this.byId("PER-searchReference");
                                pREFGUID.setModel(menuModel);
                                pREFGUID.bindAggregation("items", "/PIR", oItemSelectTemplateA);

                        },
                        onPressNavADDOBJ : function() {

                                var OBJ = {}
                                OBJ['oTYPE']     = this.byId("oTYPE").getValue();
                                OBJ['oCATEGORY'] = this.byId("oCATEGORY").getValue();
                                OBJ['oCLASS1']   = this.byId("oCLASS1").getValue();
                                OBJ['oCLASS2']   = this.byId("oCLASS2").getValue();
                                OBJ['oCLASS3']   = this.byId("oCLASS3").getValue();
                                OBJ['oDESC']     = this.byId("oDESC").getValue();
                                OBJ['oLOC']      = this.byId("oLOC").getSelectedItem().getKey();
                                OBJ['PIRREF']   = this.byId("OBJ-searchReference").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_object",
                                        dataType : "json",
                                        async : false,
                                        data : OBJ,
                                        success : function(data,textStatus, jqXHR) {
                                            sap.ui.getCore().getModel("MENUS").getProperty("/OBJECTS").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Object with ID " + data['GUID'] + " entered.");
                                        }
                                });

                                this.getSplitAppObj().backDetail();

                        },

                        onPressNavADDLOC : function() {

                                var LOC = {}
                                LOC['lTYPE']   = this.byId("lTYPE").getValue();
                                LOC['lDESC']   = this.byId("lDESC").getValue();
                                LOC['lCLASS1'] = this.byId("lCLASS1").getValue();
                                LOC['lLOC']    = this.byId("lLOC").getSelectedItem().getKey();
                                LOC['lXCOORD'] = this.byId("lXCOORD").getValue();
                                LOC['lYCOORD'] = this.byId("lYCOORD").getValue();
                                LOC['lZCOORD'] = this.byId("lZCOORD").getValue();
                                LOC['PIRREF']   = this.byId("LOC-searchReference").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_location",
                                        dataType : "json",
                                        async : false,
                                        data : LOC,
                                        success : function(data,textStatus, jqXHR) {
                                            sap.ui.getCore().getModel("MENUS").getProperty("/LOCATIONS").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Location with ID " + data['GUID'] + " entered.");
                                        }
                                });

                                this.getSplitAppObj().backDetail();

                        },

                        onPressNavADDEVE : function() {

                                var EVE = {}
                                EVE['eTYPE']     = this.byId("eTYPE").getValue();
                                EVE['eCATEGORY'] = this.byId("eCATEGORY").getValue();
                                EVE['eDESC']     = this.byId("eDESC").getValue();
                                EVE['eCLASS1']   = this.byId("eCLASS1").getValue();
                                EVE['eDATE']     = this.byId("eDATE").getValue();
                                EVE['eTIME']     = this.byId("eTIME").getValue();
                                EVE['eLOC']      = this.byId("eLOC").getSelectedItem().getKey();
                                EVE['PIRREF']   = this.byId("EVE-searchReference").getSelectedItem().getKey();


                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/add_event",
                                        dataType : "json",
                                        async : false,
                                        data : EVE,
                                        success : function(data, textStatus, jqXHR) {
                                            sap.ui.getCore().getModel("MENUS").getProperty("/EVENTS").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Event with ID " + data['GUID'] + " entered.");
                                        }
                                });


                        },

                        onPressNavADDRES : function() {

                                var RES = {}
                                RES['R_DESC'] = this.byId("R_DESC").getValue();
                                RES['AGUID'] = this.byId("AbGUID").getSelectedItem().getKey();
                                RES['PGUID'] = this.byId("PGUID").getSelectedItem().getKey();
                                RES['OGUID'] = this.byId("OGUID").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/merge_entities",
                                        dataType : "json",
                                        async : false,
                                        data : RES,
                                        success : function(data,textStatus, jqXHR) {
                                            MessageToast.show(data['message']);
                                        }
                                });

                        },


                        //--------- ANALYZE PROFILES : PERSONS ----------------- //
                        onPressListPersons : function(oEvent) {

                                var oThis = this;

                                oThis.getSplitAppObj().to(oThis.createId("Profiles"));
                                ///HEREFORMAPS
                                var oGeoMap = this.getView().byId("GeoMap1");
                                var oMapConfig = {
                                                  "MapProvider": [{
                                                  "name": "HEREMAPS",
                                                  "type": "",
                                                  "description": "",
                                                  "tileX": "256",
                                                  "tileY": "256",
                                                  "maxLOD": "20",
                                                  "copyright": "Tiles Courtesy of HERE Maps",
                                                  "Source": [{
                                                  "id": "s1",
                                                  "url": "https://1.base.maps.cit.api.here.com/maptile/2.1/maptile/newest/reduced.day/{LOD}/{X}/{Y}/256/png8?app_id=YOUR_APP_ID&app_code=YOUR_APP_CODE"
                                                  }, {
                                                  "id": "s2",
                                                  "url": "https://2.base.maps.cit.api.here.com/maptile/2.1/maptile/newest/reduced.day/{LOD}/{X}/{Y}/256/png8?app_id=YOUR_APP_ID&app_code=YOUR_APP_CODE"
                                                  }
                                                  ]
                                                  }],
                                                  "MapLayerStacks": [{
                                                  "name": "DEFAULT",
                                                  "MapLayer": {
                                                  "name": "layer1",
                                                  "refMapProvider": "HEREMAPS",
                                                  "opacity": "1.0",
                                                  "colBkgnd": "RGB(255,255,255)"
                                                  }
                                                  }]
                                                  };
                                                  oGeoMap.setMapConfiguration(oMapConfig);
                                                  oGeoMap.setRefMapLayerStack("DEFAULT");


                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);


                                var oTemplate = new sap.m.StandardListItem(
                                        {
                                                title : "{NAME}",
                                                info  : "{DESC}",
                                                description : "{GUID}",
                                                type  : "Navigation",
                                                press : function(oEvent) {
                                                        var GUID = this.getDescription();
                                                        MessageToast.show("Loading " + GUID);
                                                        var pData = {'GUID' : GUID, 'TYPE' : 'Person'}
                                                        // Update just profile array with a new one, splicing the previous out
                                                        var personProfile = jQuery.ajax({
                                                                type : "POST",
                                                                url  : "/load_entity_profile",
                                                                dataType : "json",
                                                                data : pData,
                                                                success : function(response, textStatus, jqXHR) {
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                        //Cycle through and clean up the links to pictures
                                                                        var objs = sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile")[0]['Object'];
                                                                        for ( var i = 0; i < objs.length; i++) {
                                                                                console.log(objs[i]);
                                                                                }
                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                }
                                                        });


                                                        // PROFILE DETAIL
                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var ProfileDescription = oThis.byId("ProfileDescription");
                                                        ProfileDescription.setModel(menuModel);
                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);

                                                        var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var ProfileGUID = oThis.byId("ProfileGUID");
                                                        ProfileGUID.setModel(menuModel);
                                                        ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                        // RELATED PERSONS
                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                        new sap.m.Text({text : "{POB}"}),
                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedPersons = oThis.byId("RelatedPersons");
                                                        RelatedPersons.setModel(menuModel);
                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                        // RELATED OBJECTS
                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                        new sap.m.Image({src : "{DATE}", width : "100px"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });


                                                        var RelatedObjects = oThis.byId("RelatedObjects");
                                                        RelatedObjects.setModel(menuModel);
                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                        // RELATED LOCATIONS
                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedLocations = oThis.byId("RelatedLocations");
                                                        RelatedLocations.setModel(menuModel);
                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                        var oVBI = new sap.ui.vbm.GeoMap({
                                                           vos : [ new sap.ui.vbm.Spots({
                                                              items : [ new sap.ui.vbm.Spot({ position : "20;0;0" }) ]
                                                           }) ]
                                                        });


                                                        var LocationSpots = oThis.byId("GeoMap1");
                                                        LocationSpots.setModel(menuModel);
                                                        LocationSpots.bindAggregation("vos", "/Pprofile/0/Location", oVBI);

                                                        // RELATED EVENTS
                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedEvents = oThis.byId("RelatedEvents");
                                                        RelatedEvents.setModel(menuModel);
                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);


                                                        // VIZFRAME REPORTS
                                                        var oChart = new sap.suite.ui.microchart.HarveyBallMicroChart({
                                                                size: sap.m.Size.L,
                                                                });


                                                        // ENTITY ATTRIBUTES
                                                        var oTypeAttributeLabel= new sap.m.Text({text : "{TYPE}"});
                                                        var EditEntityTypeLabel = oThis.byId("EditEntityTypeLabel");
                                                        EditEntityTypeLabel.setModel(menuModel);
                                                        EditEntityTypeLabel.bindText("/Pprofile/0/Profile/TYPE", oTypeAttributeLabel);

                                                        var oCategoryAttributeLabel= new sap.m.Text({text : "{CATEGORY}"});
                                                        var EditEntityCategoryLabel = oThis.byId("EditEntityCategoryLabel");
                                                        EditEntityCategoryLabel.setModel(menuModel);
                                                        EditEntityCategoryLabel.bindText("/Pprofile/0/Profile/CATEGORY", oCategoryAttributeLabel);

                                                        var oClass1AttributeLabel= new sap.m.Text({text : "{CLASS1}"});
                                                        var EditEntityClass1Label = oThis.byId("EditEntityClass1Label");
                                                        EditEntityClass1Label.setModel(menuModel);
                                                        EditEntityClass1Label.bindText("/Pprofile/0/Profile/CLASS1", oClass1AttributeLabel);

                                                        var oClass2AttributeLabel= new sap.m.Text({text : "{CLASS2}"});
                                                        var EditEntityClass2Label = oThis.byId("EditEntityClass2Label");
                                                        EditEntityClass2Label.setModel(menuModel);
                                                        EditEntityClass2Label.bindText("/Pprofile/0/Profile/CLASS2", oClass2AttributeLabel);

                                                }
                                        });


                                var EntityProfiles = this.byId("EntityProfiles");
                                EntityProfiles.setModel(menuModel);
                                EntityProfiles.bindAggregation("items", "/PERSONS", oTemplate);

                        },

                        //--------- ANALYZE PROFILES : Objects ----------------- //
                        onPressListObjects : function(oEvent) {

                                var oThis = this;

                                oThis.getSplitAppObj().to(oThis.createId("Profiles"));

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oTemplate = new sap.m.StandardListItem(
                                        {
                                                title : "{NAME}",
                                                info  : "{DESC}",
                                                description : "{GUID}",
                                                type  : "Navigation",
                                                press : function(oEvent) {
                                                        var GUID = this.getDescription();
                                                        MessageToast.show("Loading " + GUID);
                                                        var pData = {'GUID' : GUID, 'TYPE' : 'Object'}
                                                        // Update just profile array with a new one, splicing the previous out
                                                        var personProfile = jQuery.ajax({
                                                                type : "POST",
                                                                url  : "/load_entity_profile",
                                                                dataType : "json",
                                                                data : pData,
                                                                success : function(response, textStatus, jqXHR) {
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                }
                                                        });


                                                        // PROFILE DETAIL
                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var ProfileDescription = oThis.byId("ProfileDescription");
                                                        ProfileDescription.setModel(menuModel);
                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oPersonTableTemplate);

                                                        // RELATED PERSONS
                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                        new sap.m.Text({text : "{POB}"}),
                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedPersons = oThis.byId("RelatedPersons");
                                                        RelatedPersons.setModel(menuModel);
                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                        // RELATED OBJECTS
                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                        new sap.m.Image({src : "{CLASS3}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedObjects = oThis.byId("RelatedObjects");
                                                        RelatedObjects.setModel(menuModel);
                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                        // RELATED LOCATIONS
                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedLocations = oThis.byId("RelatedLocations");
                                                        RelatedLocations.setModel(menuModel);
                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                        // RELATED EVENTS
                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedEvents= oThis.byId("RelatedEvents");
                                                        RelatedEvents.setModel(menuModel);
                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                }
                                        });


                                var EntityProfiles = this.byId("EntityProfiles");
                                EntityProfiles.setModel(menuModel);
                                EntityProfiles.bindAggregation("items", "/OBJECTS", oTemplate);

                        },



                        //************ANALYZE***********///

                        //-----OSINT APP CONTROLS------///
                        onPressNavToTwitter: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Twitter"));
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oPIRSelectTemplate = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });
                                var DIRPIR = this.byId("TWT-searchReference");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oPIRSelectTemplate);
                                MessageToast.show("Collect tweets and user social network information.");

                        },
                        onPressCollectTwitter : function() {

                                var TWT = {}
                                TWT['searchterm'] = this.byId("TWT-searchterm").getValue();
                                TWT['searchtype'] = this.byId("TWT-searchtype").getSelectedItem().getKey();
                                TWT['latitude'] = this.byId("TWT-latitude").getValue();
                                TWT['longitude'] = this.byId("TWT-longitude").getValue();
                                TWT['radius'] = this.byId("TWT-radius").getValue();
                                TWT['PIRREF'] = this.byId("TWT-searchReference").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_twitter",
                                        dataType : "json",
                                        async : false,
                                        data : TWT,
                                        success : function(data, textStatus, jqXHR) {
                                            MessageToast.show("Collection started with ID " + data['GUID']);
                                        }
                                });
                                this.getSplitAppObj().backDetail();

                        },
                        onPressNavToYoutube: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Youtube"));
                                MessageToast.show("Collect information on videos and channels.");
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oSelectTemplate = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });
                                var DIRPIR = this.byId("YOU-searchReference");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oSelectTemplate);
                        },

                        onPressCollectYoutube : function() {

                                var YOU = {}
                                YOU['searchterm'] = this.byId("YOU-searchterm").getValue();
                                YOU['searchtype'] = this.byId("YOU-searchtype").getSelectedItem().getKey();
                                YOU['latitude'] = this.byId("YOU-latitude").getValue();
                                YOU['longitude'] = this.byId("YOU-longitude").getValue();
                                YOU['radius'] = this.byId("YOU-radius").getValue();
                                YOU['PIRREF'] = this.byId("YOU-searchReference").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_twitter",
                                        dataType : "json",
                                        async : false,
                                        data : YOU,
                                        success : function(data,textStatus, jqXHR) {
                                            oModel.setData({modelData : data});
                                            alert("success to post");
                                        }
                                });

                                MessageToast.show("Running collection...");
                                this.getSplitAppObj().backDetail();

                        },

                        onPressNavToGDELT: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("GDELT"));
                                MessageToast.show("Collect API token based information from Google Big Query and the GDELT knowledge base");
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oSelectTemplate = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });
                                var DIRPIR = this.byId("GDELT-searchReference");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oSelectTemplate);
                        },

                        onPressCollectGDELT : function() {

                                var GDELT = {}
                                GDELT['searchdate'] = this.byId("GDELT-searchdate").getValue();
                                GDELT['Actor1Name'] = this.byId("GDELT-Actor1Name").getValue();
                                GDELT['Actor1Code'] = this.byId("GDELT-Actor1Code").getValue();
                                GDELT['Actor2Name'] = this.byId("GDELT-Actor2Name").getValue();
                                GDELT['ActionGeo']  = this.byId("GDELT-ActionGeo").getValue();
                                GDELT['Persons']    = this.byId("GDELT-Persons").getValue();
                                GDELT['GoldsteinBin'] = this.byId("GDELT-GoldsteinBin").getSelectedItem().getKey();
                                GDELT['Type'] = this.byId("GDELT-QueryType").getSelectedItem().getKey();
                                GDELT['PIRREF'] = this.byId("GDELT-searchReference").getSelectedItem().getKey();
                                GDELT['Language'] = this.byId("GDELT-Language").getSelectedItem().getKey();
                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_gdelt",
                                        dataType : "json",
                                        async : false,
                                        data : GDELT,
                                        success : function(data,textStatus, jqXHR) {
                                            oModel.setData({modelData : data});
                                        }
                                });

                                MessageToast.show("Running collection...");

                        },
                        onPressNavToACLED: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("ACLED"));
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oPIRSelectTemplate = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });
                                var DIRPIR = this.byId("ACLED-searchReference");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oPIRSelectTemplate);

                                MessageToast.show("Collect information from research agencies focused on Armed Conflict");


                        },

                        onPressCollectACLED : function() {

                                var ACLED = {}
                                ACLED['searchdate'] = this.byId("AcledSearchDate").getValue();
                                ACLED['searchlocation'] = this.byId("AcledSearchLocation").getSelectedItem().getKey();
                                ACLED['PIRREF'] = this.byId("ACLED-searchReference").getSelectedItem().getKey();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_acled",
                                        dataType : "json",
                                        data : ACLED,
                                        async : false,
                                        success : function(data, textStatus, jqXHR) {
                                            MessageToast.show(data['messages']);
                                        }
                                });

                        },

                        onPressNavToCrawler: function(oEvent){
                                this.getSplitAppObj().to(this.createId("WebCrawler"));
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oPIRSelectTemplate = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });
                                var DIRPIR = this.byId("WebCrawler-searchReference");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oPIRSelectTemplate)
                                MessageToast.show("Collect information from a user entered URL and parameters");
                        },

                        onPressStartWebCrawler: function(oEvent){
                                var CRAWL = {}
                                CRAWL['PIRREF'] = this.byId("WebCrawler-searchReference").getSelectedItem().getKey();
                                CRAWL['searchDepth'] = this.byId("WebCrawler-searchDepth").getSelectedItem().getKey();
                                CRAWL['startURL'] = this.byId("WebCrawler-startURL").getValue();
                                CRAWL['searchTerms'] = this.byId("WebCrawler-searchTerms").getValue();
                                CRAWL['searchLanguage'] = this.byId("WebCrawler-searchLanguage").getSelectedItem().getKey();
                                CRAWL['showNavigation'] = this.byId('WebCrawler-showNavigation').getState();
                                CRAWL['searchEngine'] = this.byId('WebCrawler-searchEngine').getState();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_crawler",
                                        dataType : "json",
                                        data : CRAWL,
                                        async : false,
                                        success : function(data, textStatus, jqXHR) {
                                            MessageToast.show(data['text']);
                                        }
                                });
                        },

                        onPressNavToUCDP: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("UCDP"));
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oPIRSelectTemplate = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });
                                var DIRPIR = this.byId("UCDP-searchReference");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oPIRSelectTemplate);

                                MessageToast.show("Collect information from the Sweden based research group focused on Armed Conflict");
                        },

                        onPressCollectUCDP : function() {

                                var UCDP = {}
                                UCDP['startDate'] = this.byId("UCDPSearchDate").getValue();
                                UCDP['countries'] = this.byId("UCDPSearchLocation").getSelectedItem().getKey();
                                UCDP['geography'] = this.byId("UCDPSearchGeography").getValue();
                                UCDP['PIRREF'] = this.byId("UCDP-searchReference").getSelectedItem().getKey();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_ucdp",
                                        dataType : "json",
                                        data : UCDP,
                                        async : false,
                                        success : function(data, textStatus, jqXHR) {
                                            MessageToast.show(data['messages']);
                                        }
                                });

                        },

                        onPressNavToSEC: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("SECEDGAR"));
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oPIRSelectTemplate = new sap.ui.core.Item({
                                                key: "{GUID}",
                                                text: "{NAME}"
                                                });
                                var DIRPIR = this.byId("SECEDGAR-searchReference");
                                DIRPIR.setModel(menuModel);
                                DIRPIR.bindAggregation("items", "/PIR", oPIRSelectTemplate)
                                MessageToast.show("Collect information from the securities and exchange commission using Edgar");
                        },

                        onPressCollectSECEDGAR : function() {

                                var SECEDGAR = {}
                                SECEDGAR['searchdate'] = this.byId("SECEDGARSearchDate").getValue();
                                SECEDGAR['searchlocation'] = this.byId("SECEDGARSearchLocation").getSelectedItem().getKey();
                                SECEDGAR['searchgroup'] = this.byId("SECEDGARSearchGroup").getSelectedItem().getKey();
                                SECEDGAR['PIRREF'] = this.byId("SECEDGAR-searchReference").getSelectedItem().getKey();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_secedgar",
                                        dataType : "json",
                                        data : SECEDGAR,
                                        async : false,
                                        success : function(data, textStatus, jqXHR) {
                                            oModel.setData({modelData : data});
                                        }
                                });

                                MessageToast.show("Running collection...");
                                this.getSplitAppObj().backDetail();

                        },

                        //************OSINT***********///

                        //-----COLLECT FILE APP CONTROLS------///
                        onPressNavToIfile: function(oEvent) {
                                var oThis = this;
                                this.getSplitAppObj().to(this.createId("Ifile"));
                                MessageToast.show("Transform internal files into a P-O-L-E format for graph exploration.");
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                var oData = {"step" : 0};

                                jQuery.ajax({
                                        type : "POST",
                                        data : JSON.stringify(oData),
                                        url : "/polerize",
                                        async : true,
                                        success: function(data, textStatus, jqXHR) {
                                                sap.ui.getCore().getModel("MENUS").setProperty("/FILES", data['files']);
                                                sap.ui.getCore().getModel("MENUS").setProperty("/MAPS", data['maps']);
                                                sap.ui.getCore().getModel("MENUS").refresh();

                                        }

                                });

                                var oFileList = new sap.ui.core.Item({
                                        key: "{TYPE}",
                                        text: "{TYPE}"
                                });
                                var FileList  = oThis.byId("POLERIZE-Files");
                                FileList.setModel(menuModel);
                                FileList.bindAggregation("items", "/FILES/", oFileList);


                                var oMapList = new sap.ui.core.Item({
                                        key: "{TYPE}",
                                        text: "{TYPE}"
                                });
                                var MapList  = oThis.byId("POLERIZE-Maps");
                                MapList.setModel(menuModel);
                                MapList.bindAggregation("items", "/MAPS/", oMapList);

                                var MapList2  = oThis.byId("POLERIZE-ExtractionType");
                                MapList2.setModel(menuModel);
                                MapList2.bindAggregation("items", "/MAPS/", oMapList);

                        },
                        onPressNavToSPFfile: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("SPFfile"));
                                MessageToast.show("Transform SPF internal systems to POLE.");
                        },
                        onPressCollectIfile : function(e) {

                                var IFL = {}
                                IFL['fileType'] = this.byId("fileType").getSelectedItem().getKey();
                                var fu = this.byId("fileuploader");
                                var domref = fu.getFocusDomRef();
                                var file = domref.files[0];
                                var base64_marker = 'data:' + file.type + ';base64,';
                                var reader = new FileReader();
                                reader.readAsDataURL(file);
                                var results = reader['result'];
                                setTimeout(function(){
                                        results = reader['result'];
                                        MessageToast.show("Starting collection...");
                                        var r = {};
                                        r['result'] = results;
                                        r['name']   = file['name'];
                                        r['size']   = file['size'];
                                        r['type']   = file['type'];

                                        $.ajax({
                                                type : "PUT",
                                                url : "/from_file",
                                                async : false,
                                                contentType : r['type'],
                                                data : file,
                                                processData : false,
                                                success : function(data, textStatus, jqXHR) {
                                                        MessageToast.show("Collection running " );
                                                    }
                                        });
                                    }, 1000);


                                MessageToast.show("Uploading");


                        },

                        handleSPFExtraction : function(e) {

                                var SPF = {}
                                SPF['SOURCE_SPF_CRIMES2']      = this.byId("SOURCE_SPF_CRIMES2").getSelectedItem().getKey();
                                SPF['SOURCE_SPF_OTTER']        = this.byId("SOURCE_SPF_OTTER").getSelectedItem().getKey();
                                SPF['SOURCE_SPF_PDS']          = this.byId("SOURCE_SPF_PDS").getSelectedItem().getKey();
                                SPF['SOURCE_SPF_FOCUS']        = this.byId("SOURCE_SPF_FOCUS").getSelectedItem().getKey();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/from_SPF",
                                        dataType : "json",
                                        async : false,
                                        data : SPF,
                                        success : function(data,textStatus, jqXHR) {
                                            console.log(data)
                                            MessageToast.show("Running collection. " + data['messages'][0] );
                                        }
                                });


                        },

                        handleHSSExtraction : function(e) {

                                var HSS = {}
                                HSS['SOCIAL_SERVICES'] = this.byId("SOCIAL_SERVICES").getSelectedItem().getKey();
                                HSS['HEALTH_SERVICES'] = this.byId("HEALTH_SERVICES").getSelectedItem().getKey();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/from_HSS",
                                        dataType : "json",
                                        async : true,
                                        data : HSS,
                                        success : function(data,textStatus, jqXHR) {
                                            console.log(data)
                                            MessageToast.show("Social data loaded. " + data['messages'][0] );
                                        }
                                });


                        },

                        handleUploadComplete: function(oEvent) {
                                var sResponse = oEvent.getParameter("response");
                                console.log(sResponse)

                                if (sResponse) {
                                        var sMsg = "";
                                        var m = /^\[(\d\d\d)\]:(.*)$/.exec(sResponse);
                                        if (m[1] == "200") {
                                                sMsg = "Return Code: " + m[1] + "\n" + m[2] + "(Upload Success)";
                                                oEvent.getSource().setValue("");
                                        } else {
                                                sMsg = "Return Code: " + m[1] + "\n" + m[2] + "(Upload Error)";
                                        }

                                        MessageToast.show(sMsg);
                                }
                        },

                        handleUploadPress: function(oEvent) {
                                var oFileUploader = this.getView().byId("fileuploader");

                                oFileUploader.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({
                                                           name: "slug",
                                                           value: oFileUploader.getValue()
                                                }));

                                oFileUploader.upload();
                        },
                        //************COLLECT FILE***********///


                        //-----DETECT TEXT APP CONTROLS------///
                        onPressNavToTextAnalytics: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Dtext"));
                                MessageToast.show("Extract entities from unstructured text.");
                        },

                        onPressListTAruns : function(oEvent) {

                                var oThis = this;

                                oThis.getSplitAppObj().to(oThis.createId("Dtext"));

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oTemplate = new sap.m.StandardListItem(
                                        {
                                                title : "{CLASS1}",
                                                info  : "{DESC}",
                                                description : "{GUID}",
                                                type  : "Navigation",
                                                press : function(oEvent) {
                                                        var GUID = this.getDescription();
                                                        MessageToast.show("Loading " + GUID);
                                                        var pData = {'GUID' : GUID, 'TYPE' : 'Event'}
                                                        // Update just profile array with a new one, splicing the previous out
                                                        var personProfile = jQuery.ajax({
                                                                type : "POST",
                                                                url  : "/load_entity_profile",
                                                                dataType : "json",
                                                                data : pData,
                                                                success : function(response, textStatus, jqXHR) {
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                }
                                                        });


                                                        // PROFILE DETAIL
                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var ProfileDescription = oThis.byId("ProfileDescriptionfromTA");
                                                        ProfileDescription.setModel(menuModel);
                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);

                                                        var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var ProfileGUID = oThis.byId("ProfileGUIDfromTA");
                                                        ProfileGUID.setModel(menuModel);
                                                        ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                        // RELATED PERSONS
                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                        new sap.m.Text({text : "{POB}"}),
                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedPersons = oThis.byId("RelatedPersonsfromTA");
                                                        RelatedPersons.setModel(menuModel);
                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                        // RELATED OBJECTS
                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                        new sap.m.Image({src : "{CLASS3}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedObjects = oThis.byId("RelatedObjectsfromTA");
                                                        RelatedObjects.setModel(menuModel);
                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                        // RELATED LOCATIONS
                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedLocations = oThis.byId("RelatedLocationsfromTA");
                                                        RelatedLocations.setModel(menuModel);
                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                        // RELATED EVENTS
                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedEvents = oThis.byId("RelatedEventsfromTA");
                                                        RelatedEvents.setModel(menuModel);
                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                        // ENTITY ATTRIBUTES
                                                        var oTypeAttributeLabel= new sap.m.Text({text : "{TYPE}"});
                                                        var EditEntityTypeLabel = oThis.byId("EditEntityTypeLabelfromTA");
                                                        EditEntityTypeLabel.setModel(menuModel);
                                                        EditEntityTypeLabel.bindText("/Pprofile/0/Profile/TYPE", oTypeAttributeLabel);

                                                        var oCategoryAttributeLabel= new sap.m.Text({text : "{CATEGORY}"});
                                                        var EditEntityCategoryLabel = oThis.byId("EditEntityCategoryLabelfromTA");
                                                        EditEntityCategoryLabel.setModel(menuModel);
                                                        EditEntityCategoryLabel.bindText("/Pprofile/0/Profile/CATEGORY", oCategoryAttributeLabel);

                                                        var oClass1AttributeLabel= new sap.m.Text({text : "{CLASS1}"});
                                                        var EditEntityClass1Label = oThis.byId("EditEntityClass1LabelfromTA");
                                                        EditEntityClass1Label.setModel(menuModel);
                                                        EditEntityClass1Label.bindText("/Pprofile/0/Profile/CLASS1", oClass1AttributeLabel);

                                                        var oClass2AttributeLabel= new sap.m.Text({text : "{CLASS2}"});
                                                        var EditEntityClass2Label = oThis.byId("EditEntityClass2LabelfromTA");
                                                        EditEntityClass2Label.setModel(menuModel);
                                                        EditEntityClass2Label.bindText("/Pprofile/0/Profile/CLASS2", oClass2AttributeLabel);

                                                }
                                        });


                                var TAProfiles = this.byId("TArunProfileList");
                                TAProfiles.setModel(menuModel);
                                TAProfiles.bindAggregation("items", "/TARUNS", oTemplate);

                        },

                        onPressPublicSector : function() {

                                var oThis = this;

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var sTXT = {}
                                sTXT['dtext'] = this.byId("dtext").getValue();
                                sTXT['submit'] = "EXTRACTION_CORE_PUBLIC_SECTOR"
                                MessageToast.show("Running text extraction...");
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_ta",
                                        dataType : "json",
                                        async : false,
                                        data : sTXT,
                                        success : function(data, textStatus, jqXHR) {


                                                var x = 0;
                                                for (x in data['Person']) {
                                                        var newdata = {'NAME' : data['Person'][x]['NAME'], 'GUID' : data['Person'][x]['GUID']};
                                                        sap.ui.getCore().getModel("MENUS").getProperty("/PERSONS").push(newdata);
                                                }
                                                for (x in data['Object']) {
                                                        var newdata = {'NAME' : data['Object'][x]['NAME'], 'GUID' : data['Object'][x]['GUID']};
                                                        sap.ui.getCore().getModel("MENUS").getProperty("/OBJECTS").push(data);
                                                }
                                                for (x in data['Location']) {
                                                        var newdata = {'NAME' : data['Location'][x]['NAME'], 'GUID' : data['Location'][x]['GUID']};
                                                        sap.ui.getCore().getModel("MENUS").getProperty("/LOCATIONS").push(data);
                                                }
                                                for (x in data['Event']) {
                                                        var newdata = {'NAME' : data['Event'][x]['NAME'], 'GUID' : data['Event'][x]['GUID']};
                                                        sap.ui.getCore().getModel("MENUS").getProperty("/EVENTS").push(data);
                                                }

                                                sap.ui.getCore().getModel("MENUS").getProperty("/TARUNS").push(data);
                                                sap.ui.getCore().getModel("MENUS").refresh();

                                                var oModel = new sap.ui.model.json.JSONModel(data);
                                                MessageToast.show("Populating tabs with the results\n" + "Persons: " + data['COUNTS']['Persons']);
                                                var oListTemplate = new sap.m.StandardListItem({
                                                        title : "{DESC}",
                                                        info : "{GUID}",
                                                        description : "{TYPE}",
                                                        type : "Navigation",
                                                        press : function(nEvent) {
                                                                var GUID = this.getInfo();
                                                                var oTYPE = this.getDescription()
                                                                MessageToast.show("Loading ");
                                                                var pData = {'GUID' : GUID, 'TYPE' : oTYPE}
                                                                // Go to entity profiles from here

                                                                var personProfile = jQuery.ajax({
                                                                        type : "POST",
                                                                        url  : "/load_entity_profile",
                                                                        dataType : "json",
                                                                        data : pData,
                                                                        success : function(response, textStatus, jqXHR) {
                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                                sap.ui.getCore().getModel("MENUS").refresh();
                                                                                oThis.getSplitAppObj().toDetail(oThis.createId("ProfilesfromTA"));
                                                                        }
                                                                });


                                                                // PROFILE DETAIL
                                                                var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                                var ProfileDescription = oThis.byId("ProfileDescriptionfromTA");
                                                                ProfileDescription.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);

                                                                var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                                var ProfileGUID = oThis.byId("ProfileGUIDfromTA");
                                                                ProfileGUID.setModel(menuModel);
                                                                ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                                // RELATED PERSONS
                                                                var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{FNAME}"}),
                                                                                new sap.m.Text({text : "{LNAME}"}),
                                                                                new sap.m.Text({text : "{DOB}"}),
                                                                                new sap.m.Text({text : "{POB}"}),
                                                                                new sap.m.Text({text : "{GEN}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedPersons = oThis.byId("RelatedPersonsfromTA");
                                                                RelatedPersons.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                                // RELATED OBJECTS
                                                                var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                new sap.m.Text({text : "{CLASS2}"}),
                                                                                new sap.m.Image({src : "{CLASS3}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedObjects = oThis.byId("RelatedObjectsfromTA");
                                                                RelatedObjects.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                                // RELATED LOCATIONS
                                                                var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{XCOORD}"}),
                                                                                new sap.m.Text({text : "{YCOORD}"}),
                                                                                new sap.m.Text({text : "{ZCOORD}"}),
                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedLocations = oThis.byId("RelatedLocationsfromTA");
                                                                RelatedLocations.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                                // RELATED EVENTS
                                                                var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{DATE}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedEvents = oThis.byId("RelatedEventsfromTA");
                                                                RelatedEvents.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                                // ENTITY ATTRIBUTES
                                                                var oTypeAttributeLabel= new sap.m.Text({text : "{TYPE}"});
                                                                var EditEntityTypeLabel = oThis.byId("EditEntityTypeLabelfromTA");
                                                                EditEntityTypeLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityTypeLabel.bindText("/Pprofile/0/Profile/TYPE", oTypeAttributeLabel);

                                                                var oCategoryAttributeLabel= new sap.m.Text({text : "{CATEGORY}"});
                                                                var EditEntityCategoryLabel = oThis.byId("EditEntityCategoryLabelfromTA");
                                                                EditEntityCategoryLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityCategoryLabel.bindText("/Pprofile/0/Profile/CATEGORY", oCategoryAttributeLabel);

                                                                var oClass1AttributeLabel= new sap.m.Text({text : "{CLASS1}"});
                                                                var EditEntityClass1Label = oThis.byId("EditEntityClass1LabelfromTA");
                                                                EditEntityClass1Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityClass1Label.bindText("/Pprofile/0/Profile/CLASS1", oClass1AttributeLabel);

                                                                var oClass2AttributeLabel= new sap.m.Text({text : "{CLASS2}"});
                                                                var EditEntityClass2Label = oThis.byId("EditEntityClass2LabelfromTA");
                                                                EditEntityClass2Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityClass2Label.bindText("/Pprofile/0/Profile/CLASS2", oClass2AttributeLabel);


                                                        }

                                                });

                                                var RelatedPersons = oThis.byId('taRelatedPersons')
                                                RelatedPersons.setModel(oModel);
                                                RelatedPersons.bindAggregation("items", "/Person", oListTemplate);

                                                var RelatedObjects = oThis.byId('taRelatedObjects')
                                                RelatedObjects.setModel(oModel);
                                                RelatedObjects.bindAggregation("items", "/Object", oListTemplate);

                                                var RelatedLocations = oThis.byId('taRelatedLocations')
                                                RelatedLocations.setModel(oModel);
                                                RelatedLocations.bindAggregation("items", "/Location", oListTemplate);

                                                var RelatedEvents = oThis.byId('taRelatedEvents')
                                                RelatedEvents.setModel(oModel);
                                                RelatedEvents.bindAggregation("items", "/Event", oListTemplate);

                                        }
                                });

                        },

                        //************DETECT TEXT ***********///


                        onPressFakeNewsMonitor : function(oEvent) {

                                var oThis = this;
                                oThis.getSplitAppObj().to(oThis.createId("FakeNewsMonitor"));
                                MessageToast.show("Use machine learning to classify news streams.");

                        },

                        onPressMLPhotoFaceMatching : function(oEvent) {

                                var oThis = this;
                                oThis.getSplitAppObj().to(oThis.createId("PhotoFaceMatching"));
                                MessageToast.show("Upload new photo to determine match in current database.");
                        },

                        onPressListVulnerableAdults : function(oEvent) {

                                var oThis = this;

                                oThis.getSplitAppObj().to(oThis.createId("VulnerableAdults"))

                                MessageToast.show("Adults based on rules and automated calculations.");

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oVulAdultListTemplate = new sap.m.StandardListItem({
                                                title : "{NAME}",
                                                info  : "{ROLE}",
                                                description : "{GUID}",
                                                type  : "Navigation",
                                                infoState : "Success",
                                                press : function(oEvent) {
                                                        var pData = {};
                                                        pData['GUID'] = this.getDescription();
                                                        pData['TYPE'] = 'Person'
                                                        MessageToast.show("Loading profile");
                                                        var personProfile = jQuery.ajax({
                                                                type : "POST",
                                                                url  : "/load_VP_entity_profile",
                                                                dataType : "json",
                                                                data : pData,
                                                                success : function(response, textStatus, jqXHR) {
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                }
                                                        });
                                                        // PROFILE DETAIL
                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var ProfileDescription = oThis.byId("VPAdultProfileDescription");
                                                        ProfileDescription.setModel(menuModel);
                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oPersonTableTemplate);

                                                        // RELATED PERSONS
                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                        new sap.m.Text({text : "{POB}"}),
                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedPersons = oThis.byId("VPadultRelatedPersons");
                                                        RelatedPersons.setModel(menuModel);
                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                        // RELATED OBJECTS
                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                        new sap.m.Image({src : "{CLASS3}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedObjects = oThis.byId("VPadultRelatedObjects");
                                                        RelatedObjects.setModel(menuModel);
                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                        // RELATED LOCATIONS
                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedLocations = oThis.byId("VPadultRelatedLocations");
                                                        RelatedLocations.setModel(menuModel);
                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                        // RELATED EVENTS
                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedEvents = oThis.byId("VPadultRelatedEvents");
                                                        RelatedEvents.setModel(menuModel);
                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                        //RELATED RISKS
                                                        var oListTemplate = new sap.m.StandardListItem({
                                                        title : "{DESC}",
                                                        info : "{GUID}",
                                                        description : "{TYPE}",
                                                        type : "Navigation",
                                                        press : function(nEvent) {
                                                                var GUID = this.getInfo();
                                                                var oTYPE = this.getDescription()
                                                                MessageToast.show("Loading ");
                                                                var pData = {'GUID' : GUID, 'TYPE' : 'Event'}
                                                                // Go to entity profiles from here

                                                                var personProfile = jQuery.ajax({
                                                                        type : "POST",
                                                                        url  : "/load_entity_profile",
                                                                        dataType : "json",
                                                                        data : pData,
                                                                        success : function(response, textStatus, jqXHR) {
                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                                sap.ui.getCore().getModel("MENUS").refresh();
                                                                                oThis.getSplitAppObj().toDetail(oThis.createId("ProfilesfromVPChild"));
                                                                        }
                                                                });

                                                                // PROFILE DETAIL
                                                                var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                                var ProfileDescription = oThis.byId("ProfileDescriptionfromVPChild");
                                                                ProfileDescription.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);

                                                                var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                                var ProfileGUID = oThis.byId("ProfileGUIDfromVPChild");
                                                                ProfileGUID.setModel(menuModel);
                                                                ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                                // RELATED PERSONS
                                                                var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{FNAME}"}),
                                                                                new sap.m.Text({text : "{LNAME}"}),
                                                                                new sap.m.Text({text : "{DOB}"}),
                                                                                new sap.m.Text({text : "{POB}"}),
                                                                                new sap.m.Text({text : "{GEN}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedPersons = oThis.byId("RelatedPersonsfromVPChild");
                                                                RelatedPersons.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                                // RELATED OBJECTS
                                                                var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                new sap.m.Text({text : "{CLASS2}"}),
                                                                                new sap.m.Image({src : "{CLASS3}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedObjects = oThis.byId("RelatedObjectsfromVPChild");
                                                                RelatedObjects.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                                // RELATED LOCATIONS
                                                                var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{XCOORD}"}),
                                                                                new sap.m.Text({text : "{YCOORD}"}),
                                                                                new sap.m.Text({text : "{ZCOORD}"}),
                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedLocations = oThis.byId("RelatedLocationsfromVPChild");
                                                                RelatedLocations.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                                // RELATED EVENTS
                                                                var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{DATE}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedEvents = oThis.byId("RelatedEventsfromVPChild");
                                                                RelatedEvents.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                                // ENTITY ATTRIBUTES
                                                                var oTypeAttributeLabel= new sap.m.Text({text : "{TYPE}"});
                                                                var EditEntityTypeLabel = oThis.byId("EditEntityTypeLabelfromVPChild");
                                                                EditEntityTypeLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityTypeLabel.bindText("/Pprofile/0/Profile/TYPE", oTypeAttributeLabel);

                                                                var oCategoryAttributeLabel= new sap.m.Text({text : "{CATEGORY}"});
                                                                var EditEntityCategoryLabel = oThis.byId("EditEntityCategoryLabelfromVPChild");
                                                                EditEntityCategoryLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityCategoryLabel.bindText("/Pprofile/0/Profile/CATEGORY", oCategoryAttributeLabel);

                                                                var oClass1AttributeLabel= new sap.m.Text({text : "{CLASS1}"});
                                                                var EditEntityClass1Label = oThis.byId("EditEntityClass1LabelfromVPChild");
                                                                EditEntityClass1Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityClass1Label.bindText("/Pprofile/0/Profile/CLASS1", oClass1AttributeLabel);

                                                                var oClass2AttributeLabel= new sap.m.Text({text : "{CLASS2}"});
                                                                var EditEntityClass2Label = oThis.byId("EditEntityClass2LabelfromVPChild");
                                                                EditEntityClass2Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityClass2Label.bindText("/Pprofile/0/Profile/CLASS2", oClass2AttributeLabel);

                                                        }

                                                });


                                                        //This might need to be a list nested to go to the entity profile table of this event/risk
                                                        var RelatedRisks = oThis.byId("VPadultRelatedRisks");
                                                        RelatedRisks.setModel(menuModel);
                                                        RelatedRisks.bindAggregation("items", "/Pprofile/0/RISKS", oListTemplate);

                                        }
                                });

                                var VulAdult = this.byId("DetectPatternItems");
                                VulAdult.setModel(menuModel);
                                VulAdult.bindAggregation("items", "/VULADULT", oVulAdultListTemplate);

                        },

                        onPressListVulnerableChildren : function(oEvent) {

                                var oThis = this;

                                oThis.getSplitAppObj().to(oThis.createId("VulnerableChildren"))

                                MessageToast.show("Children prioritized by proximity to criminality.");

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oVulChildrenListTemplate = new sap.m.StandardListItem({
                                                title : "{NAME}",
                                                info  : "{ROLE}",
                                                description : "{GUID}",
                                                type  : "Navigation",
                                                infoState : "Success",
                                                press : function(oEvent) {
                                                        var pData = {};
                                                        pData['GUID'] = this.getDescription();
                                                        pData['LOW']  = oThis.byId("VulChildrenReCalc").getRange()[0];
                                                        pData['HIGH'] = oThis.byId("VulChildrenReCalc").getRange()[1];
                                                        pData['TYPE'] = 'Person'
                                                        MessageToast.show("Loading profile");
                                                        var personProfile = jQuery.ajax({
                                                                type : "POST",
                                                                url  : "/load_VP_entity_profile",
                                                                dataType : "json",
                                                                data : pData,
                                                                success : function(response, textStatus, jqXHR) {
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                }
                                                        });
                                                        // PROFILE DETAIL
                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var ProfileDescription = oThis.byId("VPChildProfileDescription");
                                                        ProfileDescription.setModel(menuModel);
                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oPersonTableTemplate);

                                                        // RELATED PERSONS
                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                        new sap.m.Text({text : "{POB}"}),
                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedPersons = oThis.byId("VPchildRelatedPersons");
                                                        RelatedPersons.setModel(menuModel);
                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                        // RELATED OBJECTS
                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                        new sap.m.Image({src : "{CLASS3}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedObjects = oThis.byId("VPchildRelatedObjects");
                                                        RelatedObjects.setModel(menuModel);
                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                        // RELATED LOCATIONS
                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedLocations = oThis.byId("VPchildRelatedLocations");
                                                        RelatedLocations.setModel(menuModel);
                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                        // RELATED EVENTS
                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                cells: [
                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                        ]
                                                        });

                                                        var RelatedEvents = oThis.byId("VPchildRelatedEvents");
                                                        RelatedEvents.setModel(menuModel);
                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                        //RELATED RISKS
                                                        var oListTemplate = new sap.m.StandardListItem({
                                                        title : "{DESC}",
                                                        info : "{GUID}",
                                                        description : "{TYPE}",
                                                        type : "Navigation",
                                                        press : function(nEvent) {
                                                                var GUID = this.getInfo();
                                                                var oTYPE = this.getDescription()
                                                                MessageToast.show("Loading ");
                                                                var pData = {'GUID' : GUID, 'TYPE' : 'Event'}
                                                                // Go to entity profiles from here

                                                                var personProfile = jQuery.ajax({
                                                                        type : "POST",
                                                                        url  : "/load_entity_profile",
                                                                        dataType : "json",
                                                                        data : pData,
                                                                        success : function(response, textStatus, jqXHR) {
                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                                sap.ui.getCore().getModel("MENUS").refresh();
                                                                                oThis.getSplitAppObj().toDetail(oThis.createId("ProfilesfromVPChild"));
                                                                        }
                                                                });

                                                                // PROFILE DETAIL
                                                                var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                                var ProfileDescription = oThis.byId("ProfileDescriptionfromVPChild");
                                                                ProfileDescription.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);

                                                                var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                                var ProfileGUID = oThis.byId("ProfileGUIDfromVPChild");
                                                                ProfileGUID.setModel(menuModel);
                                                                ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                                // RELATED PERSONS
                                                                var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{FNAME}"}),
                                                                                new sap.m.Text({text : "{LNAME}"}),
                                                                                new sap.m.Text({text : "{DOB}"}),
                                                                                new sap.m.Text({text : "{POB}"}),
                                                                                new sap.m.Text({text : "{GEN}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedPersons = oThis.byId("RelatedPersonsfromVPChild");
                                                                RelatedPersons.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                                // RELATED OBJECTS
                                                                var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                new sap.m.Text({text : "{CLASS2}"}),
                                                                                new sap.m.Image({src : "{CLASS3}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedObjects = oThis.byId("RelatedObjectsfromVPChild");
                                                                RelatedObjects.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                                // RELATED LOCATIONS
                                                                var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{XCOORD}"}),
                                                                                new sap.m.Text({text : "{YCOORD}"}),
                                                                                new sap.m.Text({text : "{ZCOORD}"}),
                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedLocations = oThis.byId("RelatedLocationsfromVPChild");
                                                                RelatedLocations.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                                // RELATED EVENTS
                                                                var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                        cells: [
                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                new sap.m.Text({text : "{DATE}"}),
                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                ]
                                                                });

                                                                var RelatedEvents = oThis.byId("RelatedEventsfromVPChild");
                                                                RelatedEvents.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                                // ENTITY ATTRIBUTES
                                                                var oTypeAttributeLabel= new sap.m.Text({text : "{TYPE}"});
                                                                var EditEntityTypeLabel = oThis.byId("EditEntityTypeLabelfromVPChild");
                                                                EditEntityTypeLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityTypeLabel.bindText("/Pprofile/0/Profile/TYPE", oTypeAttributeLabel);

                                                                var oCategoryAttributeLabel= new sap.m.Text({text : "{CATEGORY}"});
                                                                var EditEntityCategoryLabel = oThis.byId("EditEntityCategoryLabelfromVPChild");
                                                                EditEntityCategoryLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityCategoryLabel.bindText("/Pprofile/0/Profile/CATEGORY", oCategoryAttributeLabel);

                                                                var oClass1AttributeLabel= new sap.m.Text({text : "{CLASS1}"});
                                                                var EditEntityClass1Label = oThis.byId("EditEntityClass1LabelfromVPChild");
                                                                EditEntityClass1Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityClass1Label.bindText("/Pprofile/0/Profile/CLASS1", oClass1AttributeLabel);

                                                                var oClass2AttributeLabel= new sap.m.Text({text : "{CLASS2}"});
                                                                var EditEntityClass2Label = oThis.byId("EditEntityClass2LabelfromVPChild");
                                                                EditEntityClass2Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                EditEntityClass2Label.bindText("/Pprofile/0/Profile/CLASS2", oClass2AttributeLabel);

                                                        }

                                                });


                                                        //This might need to be a list nested to go to the entity profile table of this event/risk
                                                        var RelatedRisks = oThis.byId("VPchildRelatedRisks");
                                                        RelatedRisks.setModel(menuModel);
                                                        RelatedRisks.bindAggregation("items", "/Pprofile/0/RISKS", oListTemplate);

                                        }
                                });

                                var VulChildren = this.byId("DetectPatternItems");
                                VulChildren.setModel(menuModel);
                                VulChildren.bindAggregation("items", "/VULCHILD", oVulChildrenListTemplate);

                        },

                        onPressNavToDetail : function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Recents"));
                                MessageToast.show("Profiles of recent activities");
                        },

                        onPressDetailBack : function() {
                                this.getSplitAppObj().backDetail();
                                MessageToast.show("Detail back.");
                        },

                        onPressMasterBack : function() {
                                this.getSplitAppObj().backMaster();
                                MessageToast.show("Back to main menu.");
                        },

                        onPressGoToDIRMaster : function() {
                                this.getSplitAppObj().toMaster(this.createId("master2"));
                                MessageToast.show("Back to Direct menu.");
                        },

                        onListItemPress : function(oEvent) {
                                var sToPageId = oEvent.getParameter("listItem").getCustomData()[0].getValue();
                                //Get page ID and can create detail page
                                this.getSplitAppObj().toDetail(this.createId(sToPageId));
                                MessageToast.show("List item.");
                        },

                        onPressModeBtn : function(oEvent) {
                                var sSplitAppMode = oEvent.getSource().getSelectedButton().getCustomData()[0].getValue();

                                this.getSplitAppObj().setMode(sSplitAppMode);
                                MessageToast.show("Split Container mode is changed to: " + sSplitAppMode, {duration: 5000});
                        },

                        getSplitAppObj : function() {
                                var result = this.byId("SplitAppDemo");
                                if (!result) {
                                        jQuery.sap.log.info("SplitApp object can't be found");
                                }
                                return result;
                        },

                        onPressNavToRegister: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("Register"));
                                MessageToast.show("Create a new Collective Intelligence User.");
                        },

                        onPressNavToUserAdministration: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("UserAdmin"));
                                MessageToast.show("Access User information.");
                        },

                        onPressNavToDirectIntelligence: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("DirectIntelligence"));
                                MessageToast.show("Direct intelligence collection.");
                        },

                        onPressNavToDirectTasks: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("DirectTasks"));
                                MessageToast.show("Direct intelligence support.");
                        },

                        onPressNavToAnalyzeProfiles: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("AnalyzeProfiles"));
                                jQuery.ajax({
                                        type : "POST",
                                        url : "/getmap",
                                        async : true,
                                        success: function(data, textStatus, jqXHR) {
                                                MessageToast.show("Getting Map data");
                                                var jMap = new sap.ui.model.json.JSONModel(data);


                                        }
                                });

                                //map = vbi2




                                MessageToast.show("View entity profiles.");
                        },

                        onPressNavToAnalyzeNetwork: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("AnalyzeNetwork"));
                                MessageToast.show("Change the network with analysis.");
                        },

                        onPressNavToOSINT: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("CollectOSINT"));
                                MessageToast.show("Get open source information.");
                        },

                        onPressNavToISINT: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("CollectISINT"));
                                MessageToast.show("Get internal sources.");
                        },

                        onPressNavToDetectText: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("DetectText"));
                                MessageToast.show("Run text analytics.");
                        },

                        onPressNavToEnterText: function(oEvent) {

                                this.getSplitAppObj().toDetail(this.createId("Dtext"));
                                MessageToast.show("Enter text and run extractions.");
                        },

                        onPressNavToDetectPatterns: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("DetectPatterns"));
                                MessageToast.show("Run machine learning algorithms.");
                        },

                        onPressNavToStoredProcedures: function(oEvent) {
                                this.getSplitAppObj().to(this.createId("StoredProcedures"));
                                MessageToast.show("Run data loads and other pre defined processes to manage the database.");
                        },

                        onStoredProcedureStart : function() {

                                var StoredProcedure = {}
                                StoredProcedure['type'] = this.byId("StoredProcedureType").getSelectedItem().getKey();

                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/load_stored_procedure",
                                        dataType : "json",
                                        async : false,
                                        data : StoredProcedure,
                                        success : function(data, textStatus, jqXHR) {
                                                MessageToast.show(data['messages'][0]);
                                        }
                                });

                                this.getSplitAppObj().backDetail();
                        },

                        onPressListUsers : function(oEvent) {

                                var oThis = this;

                                oThis.getSplitAppObj().to(oThis.createId("pUserSettings"));

                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                menuModel.setSizeLimit(10000);

                                var oTemplate = new sap.m.StandardListItem(
                                        {
                                                title : "{NAME}",
                                                info  : "{ROLE}",
                                                description : "{GUID}",
                                                type  : "Navigation",
                                                infoState : "Success",
                                                press : function(oEvent) {
                                                        var GUID = this.getDescription();
                                                        MessageToast.show("Loading " + GUID);
                                                        var pData = {'GUID' : GUID}
                                                        // Update just profile array with a new one, splicing the previous out
                                                        var personProfile = jQuery.ajax({
                                                                type : "POST",
                                                                url  : "/profile_user",
                                                                dataType : "json",
                                                                data : pData,
                                                                success : function(response, textStatus, jqXHR) {
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                        oThis.getSplitAppObj().to(oThis.createId("pUserSettings"));
                                                                }
                                                        });
                                                        // PROFILE DETAIL
                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                        var UserSettingsDetail = oThis.byId("UserSettingsDetail");
                                                        UserSettingsDetail.setModel(menuModel);
                                                        UserSettingsDetail.bindText("/Pprofile/0/DESC", oProfileDetailTemplate);
                                                        // USER EDIT ID
                                                        var oUserIDUpdateTemplate = new sap.m.Text({text : "{GUID}"});
                                                        var UserIDUpdate = oThis.byId("UserIDUpdate");
                                                        var oUserNameUpdateTemplate = new sap.m.Text({text : "{NAME}"});
                                                        var UserNameUpdate = oThis.byId("UserNameUpdate");
                                                        UserIDUpdate.setModel(menuModel);
                                                        UserIDUpdate.bindText("/Pprofile/0/GUID", oUserIDUpdateTemplate);
                                                        UserNameUpdate.setModel(menuModel);
                                                        UserNameUpdate.bindText("/Pprofile/0/NAME", oUserNameUpdateTemplate);

                                                        // ACTIVITIES DETAIL
                                                        var oUserActivities = new sap.m.StandardListItem(
                                                                {
                                                                type : "Navigation",
                                                                info : "{DESC}",
                                                                title : "{CATEGORY}",
                                                                description : "{GUID}",
                                                                press : function(oaEvent) {
                                                                        var GUID = this.getDescription();
                                                                        MessageToast.show("Loading " + GUID);
                                                                        var pData = {'GUID' : GUID, 'TYPE' : 'Event'}
                                                                        // Update just profile array with a new one, splicing the previous out
                                                                        var personProfile = jQuery.ajax({
                                                                                type : "POST",
                                                                                url  : "/load_entity_profile",
                                                                                dataType : "json",
                                                                                data : pData,
                                                                                success : function(response, textStatus, jqXHR) {
                                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                                        oThis.getSplitAppObj().toDetail(oThis.createId("useractivityProfiles"));
                                                                                }

                                                                        });

                                                                        // PROFILE DETAIL
                                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                                        var ProfileDescription = oThis.byId("uaProfileDescription");
                                                                        var menuModel = sap.ui.getCore().getModel("MENUS");
                                                                        ProfileDescription.setModel(menuModel);
                                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);
                                                                        var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                                        var ProfileGUID = oThis.byId("uaProfileGUID");
                                                                        ProfileGUID.setModel(menuModel);
                                                                        ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                                        // RELATED PERSONS
                                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                                        new sap.m.Text({text : "{POB}"}),
                                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedPersons = oThis.byId("uaRelatedPersons");
                                                                        RelatedPersons.setModel(menuModel);
                                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                                        // RELATED OBJECTS
                                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                                        new sap.m.Image({src : "{CLASS3}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedObjects = oThis.byId("uaRelatedObjects");
                                                                        RelatedObjects.setModel(menuModel);
                                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                                        // RELATED LOCATIONS
                                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedLocations = oThis.byId("uaRelatedLocations");
                                                                        RelatedLocations.setModel(menuModel);
                                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                                        // RELATED EVENTS
                                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedEvents= oThis.byId("uaRelatedEvents");
                                                                        RelatedEvents.setModel(menuModel);
                                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                                        // ENTITY ATTRIBUTES
                                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                                        new sap.m.Text({text : "{CLASS2}"})

                                                                                        ]
                                                                        });

                                                                }

                                                        });

                                                        var UserActivitiesTable = oThis.byId("UserActivitiesTable");
                                                        UserActivitiesTable.setModel(menuModel);
                                                        UserActivitiesTable.bindAggregation("items", "/Pprofile/0/ACTIVITIES", oUserActivities);



                                                        // TASKS DETAIL
                                                        var oUserTasks = new sap.m.StandardListItem({
                                                                type : "Navigation",
                                                                info : "{CATEGORY}",
                                                                title : "{DESC}",
                                                                description : "{GUID}",
                                                                press : function(oaEvent) {
                                                                        var GUID = this.getDescription();
                                                                        MessageToast.show("Loading " + GUID);
                                                                        var pData = {'GUID' : GUID, 'TYPE' : 'Event'}
                                                                        // Update just profile array with a new one, splicing the previous out
                                                                        var personProfile = jQuery.ajax({
                                                                                type : "POST",
                                                                                url  : "/load_entity_profile",
                                                                                dataType : "json",
                                                                                data : pData,
                                                                                success : function(response, textStatus, jqXHR) {
                                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                                        oThis.getSplitAppObj().toDetail(oThis.createId("useractivityProfiles"));
                                                                                }

                                                                        });

                                                                        // PROFILE DETAIL
                                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                                        var ProfileDescription = oThis.byId("uaProfileDescription");
                                                                        var menuModel = sap.ui.getCore().getModel("MENUS");
                                                                        ProfileDescription.setModel(menuModel);
                                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);
                                                                        var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                                        var ProfileGUID = oThis.byId("uaProfileGUID");
                                                                        ProfileGUID.setModel(menuModel);
                                                                        ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                                        // RELATED PERSONS
                                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                                        new sap.m.Text({text : "{POB}"}),
                                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedPersons = oThis.byId("uaRelatedPersons");
                                                                        RelatedPersons.setModel(menuModel);
                                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                                        // RELATED OBJECTS
                                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                                        new sap.m.Image({src : "{CLASS3}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedObjects = oThis.byId("uaRelatedObjects");
                                                                        RelatedObjects.setModel(menuModel);
                                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                                        // RELATED LOCATIONS
                                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedLocations = oThis.byId("uaRelatedLocations");
                                                                        RelatedLocations.setModel(menuModel);
                                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                                        // RELATED EVENTS
                                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedEvents= oThis.byId("uaRelatedEvents");
                                                                        RelatedEvents.setModel(menuModel);
                                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                                                }

                                                                        });

                                                        var UserTasksTable = oThis.byId("UserTasksTable");
                                                        UserTasksTable.setModel(menuModel);
                                                        UserTasksTable.bindAggregation("items", "/Pprofile/0/TASKS", oUserActivities);

                                                }
                                        });

                                var UserProfiles = this.byId("UserProfiles");
                                UserProfiles.setModel(menuModel);
                                UserProfiles.bindAggregation("items", "/USERS", oTemplate);

                        },



                        onPressUpdateUser : function() {

                                var UPDATE = {}

                                UPDATE['GUID']     = this.byId("UserIDUpdate").getText();
                                UPDATE['EMAIL']    = this.byId("User_Email_change").getValue();
                                UPDATE['TEL']      = this.byId("User_Phone_change").getValue();
                                UPDATE['PASSWORD'] = this.byId("User_Password_change").getValue();
                                UPDATE['ROLE']     = this.byId("UserROLEupdate").getSelectedItem().getKey();
                                UPDATE['AUTH']     = this.byId("User_Auth_change").getValue();
                                UPDATE['TYPE']     = "USER_DETAIL";

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/update_user",
                                        dataType : "json",
                                        async : false,
                                        data : UPDATE,
                                        success : function(data,textStatus, jqXHR) {
                                            oModel.setData({modelData : data});
                                            MessageToast.show("Update Success");
                                        }
                                });
                        },

                        onVulChildrenReCalc : function() {

                                var oThis = this;
                                var ReCalc = {}
                                ReCalc['LOW']  = this.byId("VulChildrenReCalc").getRange()[0];
                                ReCalc['HIGH'] = this.byId("VulChildrenReCalc").getRange()[1];
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/run_vulchild_recalc",
                                        async : false,
                                        data : ReCalc,
                                        success : function(Listdata, textStatus, jqXHR) {
                                                MessageToast.show("Refreshing list based on recalculation");
                                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                                menuModel.setSizeLimit(10000);
                                                sap.ui.getCore().getModel("MENUS").setProperty("/VULCHILD", null)
                                                sap.ui.getCore().getModel("MENUS").setProperty("/VULCHILD", Listdata)
                                                sap.ui.getCore().getModel("MENUS").refresh();

                                                var oVulChildrenListTemplate = new sap.m.StandardListItem({
                                                                title : "{NAME}",
                                                                info  : "{ROLE}",
                                                                description : "{GUID}",
                                                                type  : "Navigation",
                                                                infoState : "Success",
                                                                press : function(oEvent) {
                                                                        var pData = {};
                                                                        pData['GUID'] = this.getDescription();
                                                                        pData['LOW']  = oThis.byId("VulChildrenReCalc").getRange()[0];
                                                                        pData['HIGH'] = oThis.byId("VulChildrenReCalc").getRange()[1];
                                                                        pData['TYPE'] = 'Person'
                                                                        MessageToast.show("Loading profile");
                                                                        var personProfile = jQuery.ajax({
                                                                                type : "POST",
                                                                                url  : "/load_VP_entity_profile",
                                                                                dataType : "json",
                                                                                data : pData,
                                                                                success : function(response, textStatus, jqXHR) {
                                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                                        sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                                        sap.ui.getCore().getModel("MENUS").refresh();
                                                                                }
                                                                        });
                                                                        // PROFILE DETAIL
                                                                        var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                                        var ProfileDescription = oThis.byId("VPChildProfileDescription");
                                                                        ProfileDescription.setModel(menuModel);
                                                                        ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oPersonTableTemplate);

                                                                        // RELATED PERSONS
                                                                        var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{FNAME}"}),
                                                                                        new sap.m.Text({text : "{LNAME}"}),
                                                                                        new sap.m.Text({text : "{DOB}"}),
                                                                                        new sap.m.Text({text : "{POB}"}),
                                                                                        new sap.m.Text({text : "{GEN}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedPersons = oThis.byId("VPchildRelatedPersons");
                                                                        RelatedPersons.setModel(menuModel);
                                                                        RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                                        // RELATED OBJECTS
                                                                        var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                                        new sap.m.Text({text : "{CLASS2}"}),
                                                                                        new sap.m.Image({src : "{CLASS3}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedObjects = oThis.byId("VPchildRelatedObjects");
                                                                        RelatedObjects.setModel(menuModel);
                                                                        RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                                        // RELATED LOCATIONS
                                                                        var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{XCOORD}"}),
                                                                                        new sap.m.Text({text : "{YCOORD}"}),
                                                                                        new sap.m.Text({text : "{ZCOORD}"}),
                                                                                        new sap.m.Text({text : "{CLASS1}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedLocations = oThis.byId("VPchildRelatedLocations");
                                                                        RelatedLocations.setModel(menuModel);
                                                                        RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                                        // RELATED EVENTS
                                                                        var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                                cells: [
                                                                                        new sap.m.Text({text : "{TYPE}"}),
                                                                                        new sap.m.Text({text : "{CATEGORY}"}),
                                                                                        new sap.m.Text({text : "{DESC}"}),
                                                                                        new sap.m.Text({text : "{DATE}"}),
                                                                                        new sap.m.Text({text : "{RELTYP}"})
                                                                                        ]
                                                                        });

                                                                        var RelatedEvents = oThis.byId("VPchildRelatedEvents");
                                                                        RelatedEvents.setModel(menuModel);
                                                                        RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                                        //RELATED RISKS
                                                                        var oListTemplate = new sap.m.StandardListItem({
                                                                        title : "{DESC}",
                                                                        info : "{GUID}",
                                                                        description : "{TYPE}",
                                                                        type : "Navigation",
                                                                        press : function(nEvent) {
                                                                                var GUID = this.getInfo();
                                                                                var oTYPE = this.getDescription()
                                                                                MessageToast.show("Loading ");
                                                                                var pData = {'GUID' : GUID, 'TYPE' : 'Event'}
                                                                                // Go to entity profiles from here

                                                                                var personProfile = jQuery.ajax({
                                                                                        type : "POST",
                                                                                        url  : "/load_entity_profile",
                                                                                        dataType : "json",
                                                                                        data : pData,
                                                                                        success : function(response, textStatus, jqXHR) {
                                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").splice(0,1)
                                                                                                sap.ui.getCore().getModel("MENUS").getProperty("/Pprofile").push(response);
                                                                                                sap.ui.getCore().getModel("MENUS").refresh();
                                                                                                oThis.getSplitAppObj().toDetail(oThis.createId("ProfilesfromVPChild"));
                                                                                        }
                                                                                });

                                                                                // PROFILE DETAIL
                                                                                var oProfileDetailTemplate = new sap.m.Text({text : "{DESC}"});
                                                                                var ProfileDescription = oThis.byId("ProfileDescriptionfromVPChild");
                                                                                ProfileDescription.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                ProfileDescription.bindText("/Pprofile/0/Profile/DESC", oProfileDetailTemplate);

                                                                                var oProfileIDTemplate = new sap.m.Text({text : "{DESC}"});
                                                                                var ProfileGUID = oThis.byId("ProfileGUIDfromVPChild");
                                                                                ProfileGUID.setModel(menuModel);
                                                                                ProfileGUID.bindText("/Pprofile/0/Profile/GUID", oProfileIDTemplate);

                                                                                // RELATED PERSONS
                                                                                var oPersonTableTemplate = new sap.m.ColumnListItem({
                                                                                        cells: [
                                                                                                new sap.m.Text({text : "{FNAME}"}),
                                                                                                new sap.m.Text({text : "{LNAME}"}),
                                                                                                new sap.m.Text({text : "{DOB}"}),
                                                                                                new sap.m.Text({text : "{POB}"}),
                                                                                                new sap.m.Text({text : "{GEN}"}),
                                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                                ]
                                                                                });

                                                                                var RelatedPersons = oThis.byId("RelatedPersonsfromVPChild");
                                                                                RelatedPersons.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                RelatedPersons.bindAggregation("items", "/Pprofile/0/Person", oPersonTableTemplate);

                                                                                // RELATED OBJECTS
                                                                                var oObjectTableTemplate = new sap.m.ColumnListItem({
                                                                                        cells: [
                                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                                new sap.m.Text({text : "{CLASS2}"}),
                                                                                                new sap.m.Image({src : "{CLASS3}"}),
                                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                                ]
                                                                                });

                                                                                var RelatedObjects = oThis.byId("RelatedObjectsfromVPChild");
                                                                                RelatedObjects.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                RelatedObjects.bindAggregation("items", "/Pprofile/0/Object", oObjectTableTemplate);


                                                                                // RELATED LOCATIONS
                                                                                var oLocationTableTemplate = new sap.m.ColumnListItem({
                                                                                        cells: [
                                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                                new sap.m.Text({text : "{XCOORD}"}),
                                                                                                new sap.m.Text({text : "{YCOORD}"}),
                                                                                                new sap.m.Text({text : "{ZCOORD}"}),
                                                                                                new sap.m.Text({text : "{CLASS1}"}),
                                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                                ]
                                                                                });

                                                                                var RelatedLocations = oThis.byId("RelatedLocationsfromVPChild");
                                                                                RelatedLocations.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                RelatedLocations.bindAggregation("items", "/Pprofile/0/Location", oLocationTableTemplate);

                                                                                // RELATED EVENTS
                                                                                var oEventTableTemplate = new sap.m.ColumnListItem({
                                                                                        cells: [
                                                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                                                new sap.m.Text({text : "{CATEGORY}"}),
                                                                                                new sap.m.Text({text : "{DESC}"}),
                                                                                                new sap.m.Text({text : "{DATE}"}),
                                                                                                new sap.m.Text({text : "{RELTYP}"})
                                                                                                ]
                                                                                });

                                                                                var RelatedEvents = oThis.byId("RelatedEventsfromVPChild");
                                                                                RelatedEvents.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                RelatedEvents.bindAggregation("items", "/Pprofile/0/Event", oEventTableTemplate);

                                                                                // ENTITY ATTRIBUTES
                                                                                var oTypeAttributeLabel= new sap.m.Text({text : "{TYPE}"});
                                                                                var EditEntityTypeLabel = oThis.byId("EditEntityTypeLabelfromVPChild");
                                                                                EditEntityTypeLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                EditEntityTypeLabel.bindText("/Pprofile/0/Profile/TYPE", oTypeAttributeLabel);

                                                                                var oCategoryAttributeLabel= new sap.m.Text({text : "{CATEGORY}"});
                                                                                var EditEntityCategoryLabel = oThis.byId("EditEntityCategoryLabelfromVPChild");
                                                                                EditEntityCategoryLabel.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                EditEntityCategoryLabel.bindText("/Pprofile/0/Profile/CATEGORY", oCategoryAttributeLabel);

                                                                                var oClass1AttributeLabel= new sap.m.Text({text : "{CLASS1}"});
                                                                                var EditEntityClass1Label = oThis.byId("EditEntityClass1LabelfromVPChild");
                                                                                EditEntityClass1Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                EditEntityClass1Label.bindText("/Pprofile/0/Profile/CLASS1", oClass1AttributeLabel);

                                                                                var oClass2AttributeLabel= new sap.m.Text({text : "{CLASS2}"});
                                                                                var EditEntityClass2Label = oThis.byId("EditEntityClass2LabelfromVPChild");
                                                                                EditEntityClass2Label.setModel(sap.ui.getCore().getModel("MENUS"));
                                                                                EditEntityClass2Label.bindText("/Pprofile/0/Profile/CLASS2", oClass2AttributeLabel);

                                                                        }

                                                                });


                                                                        //This might need to be a list nested to go to the entity profile table of this event/risk
                                                                        var RelatedRisks = oThis.byId("VPchildRelatedRisks");
                                                                        RelatedRisks.setModel(menuModel);
                                                                        RelatedRisks.bindAggregation("items", "/Pprofile/0/RISKS", oListTemplate);

                                                        }
                                                });

                                                var VulChildren = oThis.byId("DetectPatternItems");
                                                VulChildren.setModel(menuModel);
                                                VulChildren.bindAggregation("items", "/VULCHILD", oVulChildrenListTemplate);

                                        }
                                });

                        },

                        onPressFileUploader : function() {
                                MessageToast.show("Opening file loader.");
                                window.open("/upload_file", "MsgWindow","width=500,height=300");

                        },

                        onPressETLSingleFile : function() {
                                MessageToast.show("Opening file processor.");
                                window.open("/etl_file", "MsgWindow","width=500,height=300");

                        },

                        onPressMapSingleFile : function() {
                                MessageToast.show("Opening file uploader for mapping.");
                                var win = window.open("/map_file", "MsgWindow","width=500, height=300");

                        },

                        onPressLoadEntityAttributes : function() {
                                MessageToast.show("Loading entity attributes.");
                                var oThis = this;
                                var menuModel = sap.ui.getCore().getModel("MENUS");

                                var step = {}
                                step['step'] = 3
                                step['entity'] = this.byId("POLERIZE-Entity").getSelectedItem().getKey();
                                var entities = sap.ui.getCore().getModel("MENUS").getProperty("/POLENODE");
                                var attributes = [];

                                for(var e in entities){
                                        if(entities[e]['LABEL'] == step['entity']){
                                                for(var a in entities[e]['Attributes']){
                                                        var att = {'TYPE' : entities[e]['Attributes'][a]};
                                                        attributes.push(att);
                                                }
                                        };
                                }

                                var oAttributeList = new sap.ui.core.Item({
                                        key: "{TYPE}",
                                        text: "{TYPE}"
                                });

                                sap.ui.getCore().getModel("MENUS").setProperty("/CURRENT", attributes);
                                sap.ui.getCore().getModel("MENUS").refresh();
                                var AttributeList = oThis.byId("POLERIZE-EntityAttribute");
                                AttributeList.setModel(menuModel);
                                AttributeList.bindAggregation("items", "/CURRENT", oAttributeList);

                        },

                        onPressPOLERIZEStep1 : function() {

                                var oThis = this;
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                MessageToast.show('Analyzing files in staging area...');

                                var oRelList = new sap.ui.core.Item({
                                        key: "{TYPE}",
                                        text: "{TYPE}"
                                });
                                var RelList = oThis.byId("POLERIZE-RelationshipType");
                                RelList.setModel(menuModel);
                                RelList.bindAggregation("items", "/RELS/", oRelList);

                                var step = {'step' : 1}
                                var uploader = jQuery.ajax({
                                        type : "POST",
                                        url : "/polerize",
                                        async : true,
                                        data : step,
                                        success: function(data, textStatus, jqXHR) {
                                                sap.ui.getCore().getModel("MENUS").setProperty("/POLERIZE/", data);
                                                sap.ui.getCore().getModel("MENUS").setProperty("/POLEATTR/", data['cols']);
                                                sap.ui.getCore().getModel("MENUS").refresh();
                                                MessageToast.show('Found ' + data['count'] + ' attributes\nMoving files to extraction');

                                                var oAttributeTable = new sap.m.ColumnListItem({
                                                        cells: [
                                                                new sap.m.Text({text : "{dsource}"}),
                                                                new sap.m.Text({text : "{attribute}"}),
                                                                new sap.m.Text({text : "{sample}"})
                                                        ]

                                                });
                                                var AttributeTable = oThis.byId("POLERIZE-AttributeTable");
                                                AttributeTable.setModel(menuModel);
                                                AttributeTable.bindAggregation("items", "/POLEATTR/", oAttributeTable);

                                                var oAttributeList = new sap.ui.core.Item({
                                                        key: "{attribute}",
                                                        text: "{attribute}"
                                                });

                                                var AttributeList = oThis.byId("POLERIZE-Attributes");
                                                AttributeList.setModel(menuModel);
                                                AttributeList.bindAggregation("items", "/POLEATTR/", oAttributeList);

                                                var oFileSummary = new sap.m.Text({
                                                        text: "{summary}"
                                                });
                                                var FileSummary = oThis.byId('POLERIZE-FileSummary');
                                                FileSummary.setModel(menuModel);
                                                FileSummary.bindText("/POLERIZE/summary", oFileSummary);

                                                var oFileName = new sap.m.Text({
                                                        text: "{file}"
                                                });
                                                var FileName = oThis.byId('POLERIZE-FileName');
                                                FileName.setModel(menuModel);
                                                FileName.bindText("/POLERIZE/file", oFileName);
                                        }

                                });


                        },

                        onPressPOLERIZEStep2 : function() {

                                var oThis = this;
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                MessageToast.show('Creating entity');
                                var step = {'step' : 2}
                                step['entity'] = this.byId("POLERIZE-EntityType").getSelectedItem().getKey();
                                step['name'] = this.byId("POLERIZE-EntityName").getValue();
                                var entity = jQuery.ajax({
                                        type : "POST",
                                        url : "/polerize",
                                        async : true,
                                        data : step,
                                        success: function(data, textStatus, jqXHR) {
                                                sap.ui.getCore().getModel("MENUS").getProperty("/POLENODE").push(data);
                                                MessageToast.show('Entity Added');

                                                var Nodes = sap.ui.getCore().getModel("MENUS").getProperty("/POLENODE");
                                                for(var n in Nodes){
                                                        Nodes[n]['atts'] = '';
                                                        for(var a in Nodes[n]){
                                                                if(a != 'TYPE' && a != 'LABEL' && a != 'Attributes' && a != 'atts'){
                                                                        Nodes[n]['atts'] = Nodes[n]['atts'] + a + ': ' + Nodes[n][a] + ', ';
                                                                }
                                                        }
                                                };

                                                sap.ui.getCore().getModel("MENUS").refresh();
                                                var oEntityTable = new sap.m.ColumnListItem({
                                                        cells: [
                                                                new sap.m.Text({text : "{TYPE}"}),
                                                                new sap.m.Text({text : "{LABEL}"}),
                                                                new sap.m.Text({text : "{atts}"})
                                                        ]

                                                });

                                                var EntityTable = oThis.byId("POLERIZE-EntityTable");
                                                EntityTable.setModel(menuModel);
                                                EntityTable.bindAggregation("items", "/POLENODE/", oEntityTable);

                                                var oEntityList = new sap.ui.core.Item({
                                                        key: "{LABEL}",
                                                        text: "{LABEL}"
                                                });

                                                var EntityList = oThis.byId("POLERIZE-Entity");
                                                var SourceList = oThis.byId("POLERIZE-SourceEntity");
                                                var TargetList = oThis.byId("POLERIZE-TargetEntity");
                                                EntityList.setModel(menuModel);
                                                SourceList.setModel(menuModel);
                                                TargetList.setModel(menuModel);
                                                EntityList.bindAggregation("items", "/POLENODE/", oEntityList);
                                                SourceList.bindAggregation("items", "/POLENODE/", oEntityList);
                                                TargetList.bindAggregation("items", "/POLENODE/", oEntityList);

                                        }
                                });


                        },

                        onPressPOLERIZEStep3 : function() {

                                var EntAtt = {};
                                var oThis = this;
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                EntAtt['Entity'] = oThis.byId("POLERIZE-Entity").getSelectedItem().getKey();
                                EntAtt['Attribute'] = oThis.byId("POLERIZE-EntityAttribute").getSelectedItem().getKey();
                                EntAtt['DataSource'] = oThis.byId("POLERIZE-Attributes").getSelectedItem().getKey();
                                EntAtt['Custom'] = oThis.byId("POLERIZE-CustomAttribute").getValue();
                                EntAtt['step'] = 3;
                                console.log(EntAtt);

                                //Save the Nodes to a variable and then use it to re-write the model
                                var Nodes = sap.ui.getCore().getModel("MENUS").getProperty("/POLENODE");
                                for(var n in Nodes){
                                        //Use the Name from the menu to match against existing Nodes
                                        if(Nodes[n]['LABEL'] == EntAtt['Entity']){
                                                //Check between the Custom Value and the Data Source attributes
                                                if(EntAtt['Custom'] != ''){
                                                        Nodes[n][EntAtt['Attribute']] = EntAtt['Custom'];
                                                }
                                                else{
                                                        Nodes[n][EntAtt['Attribute']] = EntAtt['DataSource'];
                                                }
                                                console.log(Nodes[n]);
                                        }

                                }
                                sap.ui.getCore().getModel("MENUS").refresh();
                                // Update the view on Nodes' attributes
                                for(var n in Nodes){
                                        Nodes[n]['atts'] = '';
                                        for(var a in Nodes[n]){
                                                if(a != 'TYPE' && a != 'LABEL' && a != 'Attributes' && a != 'atts'){
                                                        Nodes[n]['atts'] = Nodes[n]['atts'] + a + ': ' + Nodes[n][a] + '\n';
                                                }
                                        }
                                };

                                var oEntityTable = new sap.m.ColumnListItem({
                                        cells: [
                                                new sap.m.Text({text : "{TYPE}"}),
                                                new sap.m.Text({text : "{LABEL}"}),
                                                new sap.m.Text({text : "{atts}"})
                                        ]

                                });
                                sap.ui.getCore().getModel("MENUS").refresh();
                                var EntityTable = oThis.byId("POLERIZE-EntityTableProgress");
                                EntityTable.setModel(menuModel);
                                EntityTable.bindAggregation("items", "/POLENODE/", oEntityTable);

                                sap.ui.getCore().getModel("MENUS").setProperty("/POLENODE", Nodes);


                        },

                        onPressPOLERIZEStep4 : function() {
                                MessageToast.show("Creating relationship.");
                                var oThis = this;
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                var Rel = {};

                                Rel['S_LABEL'] = oThis.byId("POLERIZE-SourceEntity").getSelectedItem().getKey();
                                Rel['R_TYPE'] = oThis.byId("POLERIZE-RelationshipType").getSelectedItem().getKey();
                                Rel['CUSTOM'] = oThis.byId("POLERIZE-CustomRelationshipType").getValue();
                                Rel['T_LABEL'] = oThis.byId("POLERIZE-TargetEntity").getSelectedItem().getKey();

                                if(Rel['CUSTOM'] != ''){
                                        Rel['R_TYPE'] = Rel['CUSTOM'];
                                }

                                sap.ui.getCore().getModel("MENUS").getProperty("/POLERELS").push(Rel);
                                sap.ui.getCore().getModel("MENUS").refresh();

                                var oRelationTable = new sap.m.ColumnListItem({
                                        cells: [
                                                new sap.m.Text({text : "{S_LABEL}"}),
                                                new sap.m.Text({text : "{T_LABEL}"}),
                                                new sap.m.Text({text : "{R_TYPE}"})
                                        ]

                                });

                                var RelationTable = oThis.byId("POLERIZE-MetaRelations");
                                RelationTable.setModel(menuModel);
                                RelationTable.bindAggregation("items", "/POLERELS/", oRelationTable);

                        },

                        onPressPOLERIZEStep5 : function() {

                                var oThis = this;
                                var Map = {"relations" : [], "entities" : [], "step" : 5};
                                var Links = sap.ui.getCore().getModel("MENUS").getProperty("/POLERELS");
                                var Nodes = sap.ui.getCore().getModel("MENUS").getProperty("/POLENODE");
                                Map['mapname'] = oThis.byId("POLERIZE-MapName").getValue();

                                for(var n in Nodes){
                                        var N = {};
                                        for(var a in Nodes[n]){
                                                if(a != 'Attributes' && a != 'atts'){
                                                        N[a] = Nodes[n][a];
                                                }
                                        }
                                        Map['entities'].push(N);
                                }
                                for(var l in Links){
                                        var L = {};
                                        for(var a in Links[l]){
                                                if(a != 'CUSTOM'){
                                                        L[a] = Links[l][a];
                                                }
                                        }
                                        Map['relations'].push(L);
                                }

                                jQuery.ajax({
                                        type : "POST",
                                        url : "/polerize",
                                        async : true,
                                        data : JSON.stringify(Map),
                                        success: function(data, textStatus, jqXHR) {
                                                MessageToast.show("Rule saved for future extractions");
                                        }
                                });

                        },

                        onPressPOLERIZEStep6 : function() {
                                var Process = {};
                                var oThis = this;
                                Process['file'] = oThis.byId("POLERIZE-Files").getSelectedItem().getKey();
                                Process['map'] = oThis.byId("POLERIZE-Maps").getSelectedItem().getKey();
                                Process['step'] = 6;
                                jQuery.ajax({
                                        type : "POST",
                                        data : JSON.stringify(Process),
                                        url : "/polerize",
                                        async : true,
                                        success: function(data, textStatus, jqXHR) {
                                                MessageToast.show("Running extraction...");

                                        }

                                });


                        },

                        onPressPOLERIZEStep6b : function() {
                                var Process = {};
                                var oThis = this;
                                Process['file'] = oThis.byId("POLERIZE-FileName").getText();
                                Process['map'] = oThis.byId("POLERIZE-ExtractionType").getSelectedItem().getKey();
                                Process['step'] = 6;
                                jQuery.ajax({
                                        type : "POST",
                                        data : JSON.stringify(Process),
                                        url : "/polerize",
                                        async : true,
                                        success: function(data, textStatus, jqXHR) {
                                                MessageToast.show("Running extraction...");

                                        }

                                });


                        },

                        onPressNavToMapDataSource : function() {
                                var oThis = this;
                                this.getSplitAppObj().to(this.createId("POLERMap"));
                                MessageToast.show("Create POLER maps for new data sources.");
                                var menuModel = sap.ui.getCore().getModel("MENUS");
                                var oRelList = new sap.ui.core.Item({
                                        key: "{TYPE}",
                                        text: "{TYPE}"
                                });
                                var RelList = oThis.byId("POLERIZE-RelationshipType");
                                RelList.setModel(menuModel);
                                RelList.bindAggregation("items", "/RELS/", oRelList);
                                var oData = {"step" : 0};

                                jQuery.ajax({
                                        type : "POST",
                                        data : JSON.stringify(oData),
                                        url : "/polerize",
                                        async : true,
                                        success: function(data, textStatus, jqXHR) {
                                                sap.ui.getCore().getModel("MENUS").setProperty("/FILES", data['files']);
                                                sap.ui.getCore().getModel("MENUS").setProperty("/MAPS", data['maps']);
                                                sap.ui.getCore().getModel("MENUS").refresh();

                                        }

                                });

                                var oFileList = new sap.ui.core.Item({
                                        key: "{TYPE}",
                                        text: "{TYPE}"
                                });
                                var FileList  = oThis.byId("POLERIZE-Files");
                                FileList.setModel(menuModel);
                                FileList.bindAggregation("items", "/FILES/", oFileList);


                                var oMapList = new sap.ui.core.Item({
                                        key: "{TYPE}",
                                        text: "{TYPE}"
                                });
                                var MapList  = oThis.byId("POLERIZE-Maps");
                                MapList.setModel(menuModel);
                                MapList.bindAggregation("items", "/MAPS/", oMapList);

                                var MapList2  = oThis.byId("POLERIZE-ExtractionType");
                                MapList2.setModel(menuModel);
                                MapList2.bindAggregation("items", "/MAPS/", oMapList);


                        },

                        onPressProcessPhotos : function() {
                                MessageToast.show("Processing photos from uploading.");
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/process_photos",
                                        success: function(data, textStatus, jqXHR) {
                                                MessageToast.show(data['text']);
                                        }

                                });

                        },

                        onPressDeleteUser : function() {

                                var DELETE = {};

                                DELETE['GUID']  = this.byId("UserIDUpdate").getText();
                                DELETE['NAME']  = this.byId("UserNameUpdate").getText();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/delete_user",
                                        dataType : "json",
                                        async : false,
                                        data : DELETE,
                                        success : function(data,textStatus, jqXHR) {
                                            oModel.setData({modelData : data});
                                            MessageToast.show("Delete Success : " + data);
                                        }
                                });
                        },

                        onPressUpdateUserTokens : function() {

                                var UPDATE = {}

                                UPDATE['client_key']  = this.byId("UserClientKey").getValue();
                                UPDATE['client_secret'] = this.byId("UserClientSecret").getValue();
                                UPDATE['token']   = this.byId("UserToken").getValue();
                                UPDATE['token_secret']  = this.byId("UserTokenSecret").getValue()
                                UPDATE['TokenType']  = this.byId("UserTokenType").getSelectedItem().getKey();

                                var oModel = new sap.ui.model.json.JSONModel();
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/user_tokens",
                                        dataType : "json",
                                        async : false,
                                        data : UPDATE,
                                        success : function(data,textStatus, jqXHR) {
                                            oModel.setData({modelData : data});
                                            MessageToast.show("Update Success");
                                        }
                                });
                        },


                        onRegisterTap: function() {
                                var USR = {}
                                USR['username'] = this.getView().byId("username").getValue();
                                USR['password'] = this.getView().byId("password").getValue();
                                USR['email']    = this.getView().byId("email").getValue();
                                USR['tel']      = this.getView().byId("tel").getValue();
                                USR['image']    = this.getView().byId("image").getValue();
                                USR['location'] = this.getView().byId("location").getValue();
                                USR['utype']    = this.getView().byId("utype").getSelectedItem().getKey();

                                var oThis = this;

                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/register_proxy",
                                        dataType : "json",
                                        async : false,
                                        data : USR,
                                        success : function(data, textStatus, jqXHR) {


                                            sap.ui.getCore().getModel("MENUS").getProperty("/USERS").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Entered PIR " + data['GUID']);

                                                }
                                        });

                                }

                });
                return CController;
        });
//-------END APPS-------//
//-------LOGIN CONTROLLER-------//
       sap.ui.define(['jquery.sap.global', 'sap/ui/core/mvc/Controller', 'sap/m/MessageToast'],
                function(jQuery, Controller, MessageToast) {
                "use strict";

                var LoginController = sap.ui.controller("local.controller", {

                        onLoginTap: function() {
                                var USR = {}
                                USR['ID'] = this.getView().byId("uid").getValue();
                                USR['PW'] = this.getView().byId("pasw").getValue();
                                var oThis = this;

                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/login",
                                        dataType : "json",
                                        async : false,
                                        data : USR,
                                        success : function(data, textStatus, jqXHR) {
                                            oThis.getView().byId("uid").setValue('');
                                            oThis.getView().byId("pasw").setValue('');
                                            sap.m.MessageToast.show(data['message']);
                                            if (data['status'] == "success"){
                                                window.location.reload();

                                                        }

                                                }
                                        });
                                }

                 });

                return LoginController;


                var RegisterController = sap.ui.controller("local.controller", {

                        onRegisterTap: function() {
                                var USR = {}
                                USR['username'] = this.getView().byId("username").getValue();
                                USR['password'] = this.getView().byId("password").getValue();
                                USR['email']    = this.getView().byId("email").getValue();
                                USR['image']    = this.getView().byId("image").getValue();
                                USR['location'] = this.getView().byId("location").getValue();
                                USR['utype']    = this.getView().byId("utype").getSelectedItem().getKey();

                                var oThis = this;
                                var aData = jQuery.ajax({
                                        type : "POST",
                                        url : "/register",
                                        dataType : "json",
                                        async : false,
                                        data : USR,
                                        success : function(data, textStatus, jqXHR) {
                                            oThis.getView().byId("username").setValue('');
                                            oThis.getView().byId("password").setValue('');
                                            oThis.getView().byId("email").setValue('');
                                            oThis.getView().byId("password").setValue('');
                                            sap.ui.getCore().getModel("MENUS").getProperty("/USERS").push(data);
                                            sap.ui.getCore().getModel("MENUS").refresh();
                                            MessageToast.show("Entered PIR " + data['GUID']);

                                                }
                                        });

                                }

                 });



                return RegisterController;

        });

//-------REGISTER CONTROLLER-------//


//-------LAUNCHPAD CONTROLLER-------//
       sap.ui.define(['jquery.sap.global', 'sap/ui/core/mvc/Controller', 'sap/m/MessageToast'],
                function(jQuery, Controller, MessageToast) {
                "use strict";

                                var jsSTATS = jQuery.ajax({
                                        type : "POST",
                                        url : "/load_stats",
                                        dataType : "json",
                                        async : true,
                                        success : function(response, textStatus, jqXHR) {
                                            var oModel = new sap.ui.model.json.JSONModel(response);
                                            sap.ui.getCore().setModel(oModel, "STATS");
                                            console.log(oModel);
                                        }
                                });

                var PageController = Controller.extend("sap.m.sample.GenericKPITile.Page", {
                        Direct : function(evt) {
                                                debugger;
                                MessageToast.show("Direct the process through strategies and requirements.");
                                app.to("pDirect");
                        },
                        Tasks : function(evt) {
                                MessageToast.show("Support collection activities by directing tasks.");
                                app.to("pTasks");
                        },
                        Collect1 : function(evt) {
                                MessageToast.show("Collect data from open sources and social media.");
                                app.to("pOsint");

                        },
                        Collect2 : function(evt) {
                                MessageToast.show("Collect data from internal file systems.");
                                app.to("pIfile");

                        },
                        Collect3 : function(evt) {
                                MessageToast.show("Get data from specific systems.");
                                app.to("pSPFfile");

                        },
                        Detect1 : function(evt) {
                                MessageToast.show("Detect and extract entities from unstructured text.");
                                app.to("pDtext");

                        },
                        Detect2 : function(evt) {
                                MessageToast.show("Detect Patterns.");
                                app.to("pDpatterns");

                        },
                        Analyze1 : function(evt) {
                                MessageToast.show("Analyze by working directly with intelligence entities.");
                                app.to("pAnalyze");

                        },

                        Analyze2 : function(evt) {
                                MessageToast.show("Analyze by working directly with intelligence entities.");
                                app.to("pAnalyze2");

                        },
                        Dissem1 : function(evt) {
                                MessageToast.show("Build reports and additional analysis.");
                                app.to("pDasboards");
                        },

                        onPressLogOut: function() {

                                var jsMENU = jQuery.ajax({
                                        type : "POST",
                                        url : "/logout",
                                        dataType : "json",
                                        async : true,
                                        success : function(response, textStatus, jqXHR) {
                                                MessageToast.show(response['message']);
                                                app.to("pLogin");
                                        }
                                });
                        },

                        uAdmin : function(evt) {
                                app.to("pRegister");
                                MessageToast.show("All Collective Intelligence User information.");
                        }
                });

                return PageController;

        });


        // create a mobile app and display the launchpad first

        {% if session.utype in AUTH['CF'] %}
                app = new sap.m.App("myApp", {
                        initialPage: "pLaunchpad"
        });
        {% elif session.utype in AUTH['HSS'] %}
                app = new sap.m.App("myApp", {
                        initialPage: "pLaunchpad"
        });
        {% else %}
                app = new sap.m.App("myApp", {
                        initialPage: "pLogin"
        });
        {% endif %}
        sap.ui.getCore().attachInit(function() {
                // Add All available views and then add them as content to the pages
                 vDIR =  sap.ui.xmlview({
                    viewContent: jQuery("#vDirect").html()
                  });

                 vTSK =  sap.ui.xmlview({
                    viewContent: jQuery("#vTask").html()
                  });

                 vANA =  sap.ui.xmlview({
                    viewContent: jQuery("#vAnalyze").html()
                  });

                vANA2 =  sap.ui.xmlview({
                    viewContent: jQuery("#vAnalyze2").html()
                  });

                 vOSI =  sap.ui.xmlview({
                    viewContent: jQuery("#vOsint").html()
                  });

                 vIFL =  sap.ui.xmlview({
                    viewContent: jQuery("#vIfile").html()
                  });

                 vTXT =  sap.ui.xmlview({
                    viewContent: jQuery("#vDtext").html()
                  });

                 vMLP =  sap.ui.xmlview({
                    viewContent: jQuery("#vDpatterns").html()
                  });

                 vLP =  sap.ui.xmlview({
                    viewContent: jQuery("#vLaunchpad").html()
                  });

                 vLOG =  sap.ui.xmlview({
                    viewContent: jQuery("#vLogin").html()
                  });

                 vREG =  sap.ui.xmlview({
                    viewContent: jQuery("#vRegister").html()
                  });

                 vDBO =  sap.ui.xmlview({
                    viewContent: jQuery("#vDashboards").html()
                  });

                // Add all the views to the pages
                pLaunchpad = new sap.m.Page("pLaunchpad",{
                        content: vLP
                });

                pDirect = new sap.m.Page("pDirect",{
                        content: vDIR
                });

                pTasks = new sap.m.Page("pTasks",{
                        content: vTSK
                });

                pAnalyze = new sap.m.Page("pAnalyze",{
                        content: vANA
                });

                pAnalyze2 = new sap.m.Page("pAnalyze2",{
                        content: vANA2
                });

                pOsint = new sap.m.Page("pOsint",{
                        content: vOSI
                });

                pIfile = new sap.m.Page("pIfile",{
                        content: vIFL
                });

                pDtext = new sap.m.Page("pDtext",{
                        content: vTXT
                });

                pDpatterns = new sap.m.Page("pDpatterns",{
                        content: vMLP
                });

                pLogin = new sap.m.Page("pLogin",{
                        content: vLOG
                });

                pRegister = new sap.m.Page("pRegister",{
                        content: vREG
                });

                pDasboards = new sap.m.Page("pDasboards",{
                        content: vDBO
                });

                app.addPage(pLogin);
                app.addPage(pRegister);
                app.addPage(pLaunchpad);
                app.addPage(pDirect);
                app.addPage(pTasks);
                app.addPage(pAnalyze);
                app.addPage(pAnalyze2);
                app.addPage(pOsint);
                app.addPage(pIfile);
                app.addPage(pDtext);
                app.addPage(pDpatterns);
                app.addPage(pDasboards);

                app.placeAt("content");
        });

</script>

<body class="sapUiBody" id="content">
